webpackJsonp([10],{1286:function(e,t,n){e.exports={controllerViews:{CanvasShareButtons:n(2138),CanvasShareModal:n(3180),CanvasTag:n(2444),CanvassComments:n(3181),CommonSlotComposite:n(3182),ContentCanvas:n(3184),HeadComponentAttribution:n(3206),HeadComponentTitle:n(3207),HeadComponentVideo:n(3208),StorylineItem:n(2674),Storylines:n(3212)},stores:{AdStore:n(32),PageTransitionStore:n(201),VideoStore:n(150),VideoPlayerStore:n(40)},meta:{dependencies:["tdv2-applet-canvass","tdv2-applet-livecoverage","tdv2-applet-slideshow","tdv2-applet-video-modal","react-share-buttons"],langBundle:"tdv2-applet-content-canvas"}}},1489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(18)).default)({storeName:"SlideshowComponentStore",handlers:{SET_SLIDESHOW_CURRENT_INDEX:"_setCurrentIndex",SET_SLIDESHOW_DISPLAY_INDEX:"_setDisplayIndex",SET_SLIDESHOW:"_setSlideshow"},initialize:function(){this.slideshows={}},_setCurrentIndex:function(e){var t=e.id,n=this.slideshows[t];n&&(void 0!==e.animate&&(n.animate=e.animate),n.currentIndex=e.currentIndex,this.emitChange(e.id))},_setDisplayIndex:function(e){var t=e.id,n=this.slideshows[t];n&&(n.displayIndex=e.displayIndex,n.animate=void 0,this.emitChange(e.id))},_setSlideshow:function(e){var t=e.id;t&&(this.slideshows[t]={animate:!!e.animate,items:e.items,currentIndex:e.currentIndex,displayIndex:e.displayIndex,looping:e.looping},this.emitChange(e.id))},getSlideshow:function(e){return this.slideshows[e]},getCurrentIndex:function(e){return this.slideshows[e]?this.slideshows[e].currentIndex:null},getCurrentItem:function(e){var t=this.getItems(e);if(t)return t[this.getCurrentIndex(e)]},getDisplayIndex:function(e){return this.slideshows[e]?this.slideshows[e].displayIndex:null},getItems:function(e){return this.slideshows[e]?this.slideshows[e].items:null},getItemLength:function(e){return this.slideshows[e]?this.slideshows[e].items.length:null},getJumpTarget:function(e){return this.slideshows[e]?this.slideshows[e].target:null},isLooping:function(e){return!!this.slideshows[e]&&this.slideshows[e].looping},isAnimate:function(e){return this.slideshows[e]?this.slideshows[e].animate:void 0},dehydrate:function(){return{slideshows:this.slideshows}},rehydrate:function(e){this.slideshows=e.slideshows||{}}}),e.exports=t.default},1552:function(e,t,n){"use strict";function a(e,t){for(var n=0,a=t.length;n<a;n++)if(e[t[n]])return e[t[n]];return e.original}function o(e,t,n){n=n||0,e=e||[],t=[].concat(t||[]);var a,o,s=0,i=t.length;for(t.sort(function(e,t){return t-e}),e=e.slice(),a=0;a<i;a++)o=t[a],n>=o&&(s+=1),e.splice(o,1);return{list:e,updatedIndex:n-s}}function s(e,t,n,o,s,i,r){t=t||[],e=e||[];var l=t.length;if(0!==e.length&&0!==l){e=e.slice();var d,u,c,p,f=0,h=o-n-s;for(h=h<0?-h:i-h%i,d=o+h;d<e.length-1&&f<l;d+=i+1,f++)p=t[f],c=a(p.resizedImage,r),u={type:"gemini",headline:p.title,description:p.summary,images:{regular:{url:c.url}},adData:p},e.splice(d,0,u);return e}}function i(e){return"magcontent"===e||"intlMagazineContent"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.getResizedImage=a,t.removeItemsFromArr=o,t.blendInNativeAds=s,t.isMagContent=i},1555:function(e,t){e.exports={beauty:{desktop:"980751795",smartphone:"980751796",tablet:"980751797"},celebrity:{desktop:"1197804926",smartphone:"1197804927",tablet:"1197804928"},entertainment:{desktop:"1197804926",smartphone:"1197804927",tablet:"1197804928"},finance:{desktop:"1197794300",smartphone:"959521224",tablet:"1197794300"},lifestyle:{desktop:"980751795",smartphone:"980751796",tablet:"980751797"},movies:{desktop:"1197804926",smartphone:"1197804927",tablet:"1197804928"},music:{desktop:"1197794305",smartphone:"1197794305",tablet:"1197794305"},news:{desktop:"1197803796",tablet:"1197803795",smartphone:"1197803244"},sports:{desktop:"1197794308",smartphone:"959521225",tablet:"1197794308"},style:{desktop:"980751795",smartphone:"980751796",tablet:"980751797"},tech:{desktop:"1197794310",smartphone:"1197794310",tablet:"1197794310"},tv:{desktop:"1197804926",smartphone:"1197804927",tablet:"1197804928"}}},1665:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){c("expand",t);var a=t&&(t.id||t.instanceId);if(!a)return n&&n(new Error("expandMessages requires an instanceId"));var o=e.session.query,r=e.getStore(i.default).getState(),p=e.getStore(s.default),f=p.getCommentsState(a),h=f.get("messageList")||d.default.List(),m={id:a,instanceId:a,isExpanded:(0,l.default)(t,["expanded"],!0)};if(!m.isExpanded||h.size>0||m.isExpanded===f.get("expanded"))e.dispatch("COMMENTS_EXPAND",m),n&&n();else{var g={context:t.uuid||t.context||o.context||"YahooGlobal",contextDisplayText:t.contextDisplayText||f.get("contextDisplayText"),contextUrl:t.contextUrl||f.get("contextUrl"),expanded:!0,index:t.nextIndex||null,instanceId:a,lang:r.lang,messagesPerPage:r.messagesPerPage,namespace:t.namespace||f.get("namespace")||r.namespace,region:r.region,selectedTags:t.selectedTags,sortBy:t.sortBy||f.get("sortBy"),tagsAnd:t.tagsAnd,tagsOr:t.tagsOr,oauthConsumerKey:r.oauthConsumerKey,oauthConsumerSecret:r.oauthConsumerSecret};e.executeAction(u.default,g,function(t,o){p.getCommentsState(a).get("error")||e.dispatch("COMMENTS_EXPAND",m),n&&n()})}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(287)),i=a(n(113)),r=a(n(3)),l=a(n(2)),d=a(n(10)),u=a(n(507)),c=(0,r.default)("Canvass:actions:expandMessages");o.displayName="expandMessages",t.default=o,e.exports=t.default},1666:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(5)),s=a(n(1215)),i=a(n(495)),r=a(n(12)),l=a(n(2)),d=a(n(2070)),u=a(n(39)),c=a(n(0)),p=a(n(1)),f=a(n(4)),h=a(n(2449)),m=a(n(1489)),g={next:{elm:"btn",elmt:"ne",itc:"1"},prev:{elm:"btn",elmt:"pr",itc:"1"}};t.default=(0,f.default)({displayName:"NavigationButton",autobind:!1,mixins:[r.default,u.default],propTypes:{buttonType:c.default.string.isRequired,slideshowId:c.default.string,className:c.default.string,ylk:c.default.object,iconColor:c.default.string,iconHeight:c.default.string,activeBackgroudClass:c.default.string,inactiveBackgroudClass:c.default.string,followLinkOnNav:c.default.bool},statics:{storeListeners:[m.default]},getDefaultProps:function(){return{buttonType:null,slideshowId:null,className:"",iconColor:"#fff",iconHeight:"16",activeBackgroudClass:"Bgc(#fff) Bgc(#fff.5) Bgc(#fff.65):h",inactiveBackgroudClass:"Bgc(#fff.2) ie-7_Bgc(#343434) Cur(d)",followLinkOnNav:!1}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this._handleNext=this._handleNext.bind(this),this._handlePrev=this._handlePrev.bind(this)},_handlePrev:function(e,t){this.executeAction(d.default,{id:this.props.slideshowId,target:"prev"}),e.preventDefault()},_handleNext:function(e,t){this.executeAction(d.default,{id:this.props.slideshowId,target:"next"}),e.preventDefault()},getInitialState:function(){var e=this;e.slideshowStore=e.getStore(m.default);var t=e.props.items||[];return{currentIndex:e.props.startIndex||0,items:t,itemLength:t.length,looping:!1}},onChange:function(e){var t=this;if(e&&t.props.slideshowId===e){var n=t.slideshowStore.getCurrentIndex(e),a=t.slideshowStore.getItemLength(e);t.setState({items:t.slideshowStore.getItems(e)||[],currentIndex:n,itemLength:a,looping:t.slideshowStore.isLooping(e)})}},render:function(){var e,t=this,a=t.props,r=t.state.currentIndex,d=t.state.itemLength,u=r>0,c=r+1<d,f=u?a.activeBackgroudClass:a.inactiveBackgroudClass,m=c||t.state.looping?a.activeBackgroudClass:a.inactiveBackgroudClass,v=(0,o.default)("H(100%) Va(m) D(tbc) Lh(1)",{"Cur(p)":t.state.looping}),b=r+1>=d&&t.state.looping?h.default:i.default,C=(0,l.default)(t.state.items,[r+1,"relativeLink"],""),y=(0,l.default)(t.state.items,[r-1,"relativeLink"],"");switch(a.buttonType){case"next":e=p.default.createElement(n(14).I13nAnchor,{onClick:t._handleNext,href:C,className:(0,o.default)("D(tb) Ta(c)",a.className,m),follow:a.followLinkOnNav,i13nModel:a.ylk||g.next},p.default.createElement("div",{className:v},p.default.createElement(n(19).Icon,{asset:b,color:a.iconColor,height:a.iconHeight})));break;case"prev":e=p.default.createElement(n(14).I13nAnchor,{onClick:t._handlePrev,href:y,className:(0,o.default)("D(tb) Ta(c)",a.className,f),follow:a.followLinkOnNav,i13nModel:a.ylk||g.prev},p.default.createElement("div",{className:"H(100%) Va(m) D(tbc) Lh(1)"},p.default.createElement(n(19).Icon,{asset:s.default,color:a.iconColor,height:a.iconHeight})))}return e}}),e.exports=t.default},1824:function(e,t,n){"use strict";e.exports={HeroSlideshow:n(2448),InlineSlideshow:n(2457),ImageItem:n(3202),NavigationButton:n(1666),ResponsiveImageItem:n(1903),Slideshow:n(1868),SlideshowDescription:n(1869),utils:n(1552)}},1830:function(e,t,n){var a={beauty:"https://www.yahoo.com/beauty/",celebrity:"https://www.yahoo.com/celebrity/",finance:"http://finance.yahoo.com/",movies:"https://www.yahoo.com/movies/",music:"https://www.yahoo.com/music/",news:"https://www.yahoo.com/news/",sports:"http://sports.yahoo.com/",style:"https://www.yahoo.com/style/",tech:"https://www.yahoo.com/tech/",tv:"https://www.yahoo.com/tv/"};e.exports={getNonHostedDataMap:function(e,t,a){var o=n(1555)[a];if(o)return{category:a,spaceid:o[t]||o.desktop};if(a="news",e){var s=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),i=s&&s[1];i&&(i=i.replace("www.",""),a=n(1831)[i]||"news")}return o=n(1555)[a],{category:a,spaceid:o[t]||o.desktop}},getPreviewUrl:function(e,t,n,o,s,i){var r="";if(e){var l=i&&a[i];if(!l&&t){var d=t&&this.getNonHostedDataMap(t,o)||{};l=a[d.category]}n=n||"",n.length>30&&(n=n.substr(0,30),n=n.substr(0,n.lastIndexOf(" "))),l=l||a.news,n=n.replace(/\s+/g,"-").replace(/\-+/g,"-").toLowerCase(),r=l+"m/"+e+"/"+(s?"ss_":"")+encodeURIComponent(n)+".html"}return r}}},1831:function(e,t){e.exports={"autoblog.com":"news","blog.caranddriver.com":"news","caranddriver.com":"news","hybridcars.com":"news","lanesplitter.jalopnik.com":"news","motortrend.com":"news","off-road.com":"news","popularmechanics.com":"news","roadandtrack.com":"news","thegarage.jalopnik.com":"news","truckyeah.jalopnik.com":"news","wot.motortrend.com":"news","activebeat.com":"beauty","allure.com":"beauty","blogs.webmd.com":"beauty","brides.com":"beauty","health.usnews.com":"beauty","madamenoire.com":"beauty","marieclaire.com":"beauty","medicalxpress.com":"beauty","redbookmag.com":"beauty","stack.com":"beauty","celebuzz.com":"celebrity","eonline.com":"celebrity","ew.com":"celebrity","fame10.com":"celebrity","hollywoodreporter.com":"celebrity","intouchweekly.com":"celebrity","j-14.com":"celebrity","lovebscott.com":"celebrity","okmagazine.com":"celebrity","people.com":"celebrity","popmatters.com":"celebrity","popsugar.com":"celebrity","starpulse.com":"celebrity","tmz.com":"celebrity","247wallst.com":"finance","business-news.thestreet.com":"finance","capitalcube.com":"finance","fool.ca":"finance","fool.co.uk":"finance","fool.com":"finance","fortune.com":"finance","foxbusiness.com":"finance","ft.com":"finance","insidermonkey.com":"finance","investopedia.com":"finance","marketwatch.com":"finance","money.cnn.com":"finance","money.usnews.com":"finance","nerdwallet.com":"finance","news.investors.com":"finance","thestreet.com":"finance","valuewalk.com":"finance","apartmenttherapy.com":"news","atlanta.curbed.com":"news","boston.curbed.com":"news","capecod.curbed.com":"news","chicago.curbed.com":"news","countryliving.com":"news","curbed.com":"news","dc.curbed.com":"news","detroit.curbed.com":"news","elledecor.com":"news","goodhousekeeping.com":"news","hamptons.curbed.com":"news","housebeautiful.com":"news","la.curbed.com":"news","miami.curbed.com":"news","nola.curbed.com":"news","ny.curbed.com":"news","philly.curbed.com":"news","seattle.curbed.com":"news","sf.curbed.com":"news","ski.curbed.com":"news","townandcountrymag.com":"news","veranda.com":"news","ben-bussey.tumblr.com":"movies","cinemablend.com":"movies","collider.com":"movies","denofgeek.com":"movies","regressing.deadspin.com":"movies","screengrabber.deadspin.com":"movies","screenrant.com":"movies","silverscreenandroll.com":"movies","wegotthiscovered.com":"movies","wordandfilm.com":"movies","radio.com":"music","goodenoughmother.com":"news","todaysparent.com":"news","yourhomebasedmom.com":"news","onpolitics.usatoday.com":"news","worldpoliticsreview.com":"news","alligatorarmy.com":"sports","amazinavenue.com":"sports","amylawrence.radio.cbssports.com":"sports","arkansasfight.com":"sports","arrowheadpride.com":"sports","aseaofblue.com":"sports","athleticsnation.com":"sports","atthehive.com":"sports","auburntigers.com":"sports","backpagefootball.com":"sports","badlefthook.com":"sports","baltimorebeatdown.com":"sports","barcablaugranes.com":"sports","battleofcali.com":"sports","battleredblog.com":"sports","behindthesteelcurtain.com":"sports","beta.sportsdaydfw.com":"sports","beyondtheboxscore.com":"sports","bigblueview.com":"sports","blackshoediaries.com":"sports","blazersedge.com":"sports","blessyouboys.com":"sports","blogabull.com":"sports","bloggingtheboys.com":"sports","bloodyelbow.com":"sports","boltsfromtheblue.com":"sports","bringonthecats.com":"sports","broadstreethockey.com":"sports","broncosports.com":"sports","bruinsnation.com":"sports","btn.com":"sports","btpowerhouse.com":"sports","bucsnation.com":"sports","buffalorumblings.com":"sports","burntorangenation.com":"sports","cagesideseats.com":"sports","canishoopus.com":"sports","cbssports.com":"sports","celticsblog.com":"sports","cincyjungle.com":"sports","clickondetroit.com":"sports","collegebasketball.nbcsports.com":"sports","collegefootball.nbcsports.com":"sports","collegefootballtalk.nbcsports.com":"sports","conquestchronicles.com":"sports","coppernblue.com":"sports","cornnation.com":"sports","crimsonandcreammachine.com":"sports","crimsonquarry.com":"sports","csnne.com":"sports","da.radio.cbssports.com":"sports","dawgsbynature.com":"sports","dawgsports.com":"sports","deadspin.com":"sports","detroitbadboys.com":"sports","diebytheblade.com":"sports","dukebasketballreport.com":"sports","espn.go.com":"sports","espnfc.com":"sports","fantasy.usatoday.com":"sports","fearthesword.com":"sports","federalbaseball.com":"sports","ferrall.radio.cbssports.com":"sports","fieldgulls.com":"sports","fivethirtyeight.com":"sports","flightclub.jalopnik.com":"sports","flightglobal.com":"sports","footballstudyhall.com":"sports","ftw.usatoday.com":"sports","ganggreennation.com":"sports","garnetandblackattack.com":"sports","gaslampball.com":"sports","gioandjones.radio.cbssports.com":"sports","gobblercountry.com":"sports","goldenstateofmind.com":"sports","golfchannel.com":"sports","golfweek.com":"sports","gophersports.com":"sports","gopsusports.com":"sports","gottlieb.radio.cbssports.com":"sports","grantland.com":"sports","grindtv.com":"sports","halosheaven.com":"sports","hawkeyesports.com":"sports","highschoolsports.mlive.com":"sports","highschoolsports.oregonlive.com":"sports","hogshaven.com":"sports","hoopshype.com":"sports","hothothoops.com":"sports","irish.nbcsports.com":"sports","justblogbaby.com":"sports","lakersnation.com":"sports","landgrantholyland.com":"sports","letsgotribe.com":"sports","libertyballers.com":"sports","liverpooloffside.sbnation.com":"sports","lonestarball.com":"sports","maizenbrew.com":"sports","mavsmoneyball.com":"sports","maxpreps.com":"sports","mgoblue.com":"sports","milehighreport.com":"sports","minorleagueball.com":"sports","mlb.nbcsports.com":"sports","mmafighting.com":"sports","mmajunkie.com":"sports","mmamania.com":"sports","mmaweekly.com":"sports","motorsports.nbcsports.com":"sports","musiccitymiracles.com":"sports","mweb.cbssports.com":"sports","nascar.com":"sports","nascar.nbcsports.com":"sports","navysports.com":"sports","nba.com":"sports","nba.nbcsports.com":"sports","nbcsports.com":"sports","ndstream.nbcsports.com":"sports","nesn.com":"sports","nfl.nbcsports.com":"sports","nflstream.nbcsports.com":"sports","nhl.nbcsports.com":"sports","ninersnation.com":"sports","offtackleempire.com":"sports","olemisssports.com":"sports","olympics.nbcsports.com":"sports","outsports.com":"sports","overthemonster.com":"sports","patspulpit.com":"sports","peachtreehoops.com":"sports","pinstripealley.com":"sports","postingandtoasting.com":"sports","poundingtherock.com":"sports","prideofdetroit.com":"sports","profootballtalk.nbcsports.com":"sports","purplerow.com":"sports","radio.cbssports.com":"sports","rockchalktalk.com":"sports","rockmnation.com":"sports","rollbamaroll.com":"sports","rolltide.com":"sports","royalsreview.com":"sports","sactownroyalty.com":"sports","sbnation.com":"sports","screamer.deadspin.com":"sports","secondcityhockey.com":"sports","si.com":"sports","silverandblackpride.com":"sports","soccer.nbcsports.com":"sports","sounderatheart.com":"sports","sports.nbcsports.com":"sports","sports.usatoday.com":"sports","sportspolls.usatoday.com":"sports","sportswire.usatoday.com":"sports","sportsworld.nbcsports.com":"sports","stampedeblue.com":"sports","steelerswire.usatoday.com":"sports","stltoday.com":"sports","teamspeedkills.com":"sports","tennis.com":"sports","thebiglead.com":"sports","thebusbybabe.sbnation.com":"sports","thechampaignroom.com":"sports","thedreamshake.com":"sports","thefalcoholic.com":"sports","thegoodphight.com":"sports","thehockeywriters.com":"sports","thepostgame.com":"sports","theshortfuse.sbnation.com":"sports","tikiandtierney.radio.cbssports.com":"sports","truebluela.com":"sports","twinkietown.com":"sports","utsports.com":"sports","virginiasports.com":"sports","vivaelbirdos.com":"sports","vivathematadors.com":"sports","weaintgotnohistory.sbnation.com":"sports","welcometoloudcity.com":"sports","windycitygridiron.com":"sports","www2.kusports.com":"sports","yardbarker.com":"sports","100daysofrealfood.com":"style","arabia.style.com":"style","atlanta.eater.com":"style","austin.eater.com":"style","bonappetit.com":"style","boston.eater.com":"style","chicago.eater.com":"style","community.epicurious.com":"style","dallas.eater.com":"style","dc.eater.com":"style","delish.com":"style","denver.eater.com":"style","detroit.eater.com":"style","eater.com":"style","elle.com":"style","firstwefeast.com":"style","food.concordmonitor.com":"style","foodandwine.com":"style","foodiecrush.com":"style","glamour.com":"style","gq.com":"style","harpersbazaar.com":"style","houston.eater.com":"style","la.eater.com":"style","lifeandstylemag.com":"style","maine.eater.com":"style","minneapolis.eater.com":"style","nashville.eater.com":"style","nola.eater.com":"style","ny.eater.com":"style","ny.racked.com":"style","pdx.eater.com":"style","racked.com":"style","recipes.latimes.com":"style","refinery29.com":"style","sandiego.eater.com":"style","seattle.eater.com":"style","sf.eater.com":"style","smittenkitchen.com":"style","soaps.sheknows.com":"style","styleite.com":"style","stylelist.com":"style","styleweekly.com":"style","tasteofcountry.com":"style","thedailymeal.com":"style","thepioneerwoman.com":"style","vegas.eater.com":"style","vogue.com":"style","womansday.com":"style","womenshealthmag.com":"style","ystyle-contributors.tumblr.com":"style","androidandme.com":"tech","arstechnica.com":"tech","cnet.com":"tech","computerworld.com":"tech","digitaltrends.com":"tech","engadget.com":"tech","fieldguide.gizmodo.com":"tech","gizmag.com":"tech","gizmodo.com":"tech","imore.com":"tech","in.pcmag.com":"tech","knowyourmobile.com":"tech","mashable.com":"tech","paleofuture.gizmodo.com":"tech","pcmag.com":"tech","pcworld.com":"tech","qz.com":"tech","siliconbeat.com":"tech","sploid.gizmodo.com":"tech","techcrunch.com":"tech","technobuffalo.com":"tech","techrepublic.com":"tech","techspot.com":"tech","theverge.com":"tech","toyland.gizmodo.com":"tech","venturebeat.com":"tech","video.wired.com":"tech","wired.com":"tech","zdnet.com":"tech","buddytv.com":"tv","entertainment.ie":"tv","tvguide.com":"tv","tvline.com":"tv"}},1867:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return!(e&&t&&t.getCurrentRenderTargetId)||(0,i.default)(e,["renderTarget","id"])===t.getCurrentRenderTargetId()}function s(e,t){if(window&&void 0!==window.CAAS){window.caasInstance&&window.caasInstance.destructor();var n=d(e),a=e.getStore(l.default).getSpaceid();window.caasInstance=new window.CAAS.BASE({container:t,i13nEntities:n,spaceid:a}),window.caasInstance.on("link:clicked",function(e){e.href&&(window&&window.rapidInstance?(window.rapidInstance.beaconClick(e.sec,e.slk,e.pos||0,e.params||{},e.outcm||null,null),window.open(e.href,e.target||"_blank")):window&&window.open(e.href,e.target||"_blank"))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getI13nEntities=void 0,t.isCurrentRenderTarget=o,t.initializeCaas=s;var i=a(n(2)),r=a(n(76)),l=a(n(7)),d=t.getI13nEntities=function(e){var t=e.getStore(r.default),n=t.getI13nConfig();return(0,i.default)(n,["rapid","keys"],{})}},1868:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(57);var o=a(n(0)),s=a(n(1)),i=a(n(4)),r=a(n(5)),l=a(n(2060)),d=a(n(12)),u=a(n(2070)),c=a(n(1666)),p=a(n(9)),f=a(n(2450)),h=a(n(1489)),m=a(n(2451)),g="undefined"!=typeof document?document:null;t.default=(0,i.default)({displayName:"Slideshow",autobind:!1,mixins:[d.default,m.default,n(200).DocumentKeyDown],statics:{storeListeners:[h.default]},contextTypes:{session:o.default.object},propTypes:{id:o.default.string,animate:o.default.bool,buffer:o.default.number,enableTouch:o.default.bool,fixedHeight:o.default.number,enableKeyboard:o.default.bool,enableNavButton:o.default.bool,items:o.default.array.isRequired,onSlideshowChange:o.default.func,onSlideshowChangeDone:o.default.func,startIndex:o.default.number,ylk:o.default.object,looping:o.default.bool},getDefaultProps:function(){return{id:"inline-slideshow",animate:!0,buffer:2,enableTouch:!1,fixedHeight:0,enableNavButton:!0,enableKeyboard:!1,items:[],onSlideshowChange:null,onSlideshowChangeDone:null,startIndex:0,looping:!1}},getInitialState:function(){return this.slideshowStore=this.getStore(h.default),this._updateSlideshow({animate:this.props.animate,items:this.props.items,currentIndex:this.props.startIndex,displayIndex:this.props.startIndex,looping:this.props.looping}),this.currentIndex=this.props.startIndex,{items:this.props.items}},jumpTo:function(e,t){var n=this.refs.slideshowCarousel;if(n)try{n.state.transitioning?setTimeout(function(){n.jumpTo(e,t)},50):n.jumpTo(e,t)}catch(e){}},onChange:function(e){if(e&&e===this.props.id){var t=this.slideshowStore.getCurrentIndex(e),n=this.slideshowStore.isAnimate(e);t!==this.currentIndex&&this.jumpTo(t,n)}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this._handleGesture=this._handleGesture.bind(this),this._handleContainerClick=this._handleContainerClick.bind(this),this._handleJump=this._handleJump.bind(this),this._handleJumpComplete=this._handleJumpComplete.bind(this),this.renderComponents(this.props.items,{fixedHeight:this.props.fixedHeight})},shouldComponentUpdate:function(e,t){var n=e.items!==this.props.items;return n&&(this._updateSlideshow({animate:e.animate,items:e.items,currentIndex:e.startIndex,displayIndex:e.startIndex,looping:e.looping},e.id),this.currentIndex=e.startIndex,this.renderComponents(e.items,{fixedHeight:e.fixedHeight})),n},_updateSlideshow:function(e,t){t=t||this.props.id,e.id=t,this.executeAction(f.default,e)},_updateDisplayIndex:function(e,t){t=t||this.props.id,this.executeAction(n(2453).setDisplayIndex,{id:t,displayIndex:e})},_handleJump:function(e){this.currentIndex=e.currentIndex,this.props.onSlideshowChange&&this.props.onSlideshowChange(e)},_handleJumpComplete:function(e){this._updateDisplayIndex(this.currentIndex),this.props.onSlideshowChangeDone&&this.props.onSlideshowChangeDone(e)},_handleGesture:function(e){var t=this.refs.slideshowCarousel,n=e.deltaX;switch(e.type){case"panend":n<0&&2===e.direction&&t.isTargetAllowed("next")?this.executeAction(u.default,{id:this.props.id,target:"next",animate:!0,forceJump:!0}):n>0&&4===e.direction&&t.isTargetAllowed("prev")?this.executeAction(u.default,{id:this.props.id,target:"prev",animate:!0,forceJump:!0}):t.translate(0,!0);break;default:t.translate(n)}},_handleContainerClick:function(e,t){this.getFocused()},getFocused:function(e){this.immediateId&&clearImmediate(this.immediateId);var t=this;this.immediateId=setImmediate(function(){t.refs.slideshow&&p.default.findDOMNode(t.refs.slideshow).focus(),e&&e()})},componentWillUnmount:function(){this.immediateId&&clearImmediate(this.immediateId)},onDocumentKeyDown:function(e){var t=p.default.findDOMNode(this.refs.slideshow);g&&this.props.enableKeyboard&&g.activeElement===t&&(37===e.keyCode&&(this.executeAction(u.default,{id:this.props.id,target:"prev"}),e.preventDefault()),39===e.keyCode&&(this.executeAction(u.default,{id:this.props.id,target:"next"}),e.preventDefault()))},render:function(){var e=this,t=e.props,a=t.items||[];if(0===a.length)return null;var o=t.enableTouch,i={height:t.fixedHeight?t.fixedHeight:"100%"},d=o?s.default.createElement(l.default,{className:"H(100%) W(100%)",gesture:e._handleGesture,axis:"x"},s.default.createElement(n(1217).CarouselItems,{duration:150})):s.default.createElement(n(1217).CarouselItems,{duration:150});return s.default.createElement("div",{className:(0,r.default)("Pos(r) O(n):f",t.className),ref:"slideshow",onClick:e._handleContainerClick,tabIndex:"2",style:i},s.default.createElement(n(1217).Carousel,{key:"slideshow-carousel-"+t.id+"-start-"+t.startIndex+"-"+a.length,animate:t.animate,id:t.id,className:"slideshow-carousel",ref:"slideshowCarousel",buffer:t.buffer,stretchHeight:!0,items:e.renderedComponents,jumpCallback:e._handleJump,jumpEndCallback:e._handleJumpComplete,currentIndex:t.startIndex},d),t.enableNavButton?s.default.createElement(c.default,{slideshowId:t.id,buttonType:"prev",iconColor:"#000",className:"slideshow-button-prev Start(0) T(50%) Z(1) H(40px) Pos(a) W(40px) Mt(-20px) P(0) Bdw(0) O(n):f"}):null,t.enableNavButton?s.default.createElement(c.default,{slideshowId:t.id,buttonType:"next",iconColor:"#000",className:"slideshow-button-next End(0) T(50%) Z(1) H(40px) Pos(a) W(40px) Mt(-20px) P(0) Bdw(0) O(n):f"}):null)}}),e.exports=t.default},1869:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=a(n(1)),i=a(n(4)),r=a(n(5)),l=a(n(12)),d=a(n(2454)),u=a(n(39)),c=a(n(9)),p=a(n(1489));t.default=(0,i.default)({displayName:"SlideshowDescription",autobind:!1,mixins:[l.default,u.default],statics:{storeListeners:[p.default]},propTypes:{items:o.default.array,startIndex:o.default.number,className:o.default.string,creditClassName:o.default.string,coverHeight:o.default.number,enableIndicator:o.default.bool,enableExtending:o.default.bool,enableExtendCover:o.default.bool,extendMinHeight:o.default.number,headlineClassName:o.default.string,indicatorPos:o.default.oneOf(["TOP","BOTTOM"]),indicatorClassName:o.default.string,slideshowId:o.default.string},getDefaultProps:function(){return{className:"C(#fff) Lh(1.4) Fz(14px) Lts(.02em) Pb(10px) Pend(8px)",creditClassName:"C(#999) Fz(11px) Mstart(10px) Fs(i)",coverHeight:20,enableExtending:!1,enableExtendCover:!0,enableIndicator:!0,extendMinHeight:9999,headlineClassName:"Fz(14px) Lh(1.4) Mb(4px)",indicatorClassName:"C(#fff) Fz(18px) Pb(5px)",indicatorPos:"TOP",slideshowId:null}},getInitialState:function(){return this.slideshowStore=this.getStore(p.default),this._getState(this.props.items,this.props.startIndex)},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.toggleReadMore=this.toggleReadMore.bind(this)},onChange:function(e){if(e&&this.props.slideshowId===e){var t=this.slideshowStore.getCurrentIndex(e);this.setState(this._getState(this.slideshowStore.getItems(e),t))}},_getState:function(e,t){return{items:e,currentIndex:t||0,extendable:!1,extended:!1}},_checkHeight:function(e,t){var n=c.default.findDOMNode(e);return!!n&&(n.offsetHeight||0)>t},_checkExtend:function(){var e=this.props;this.props.enableExtending&&this.setState({extendable:this._checkHeight(this.refs.textContainer,e.extendMinHeight)})},componentDidMount:function(){this._checkExtend()},componentDidUpdate:function(e,t){this._checkExtend()},toggleReadMore:function(){this.setState({extended:!this.state.extended})},render:function(){var e=this,t=e.props,a=e.state,o=a.currentIndex,i=a.items||[],l=i[o];if(!l)return null;var u=l.originalIndex;if("gemini"===l.type)return s.default.createElement(n(1205).Controller,{component:d.default,className:t.className,data:l.adData});var c=t.total||i.length||0,p=l.headline,f=l.caption||l.description,h=l.credit,m=a.extendable,g=a.extended,v={height:t.coverHeight,background:"linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 80%)"},b=t.enableExtending&&!g,C={maxHeight:t.extendMinHeight},y=s.default.createElement("div",{className:t.indicatorClassName},s.default.createElement("span",null,c?u+1+" / "+c:""),h?s.default.createElement("cite",{className:t.creditClassName},h):null);return s.default.createElement("div",{id:t.id,className:(0,r.default)("Pos(r)",t.className)},t.enableIndicator&&"TOP"===t.indicatorPos?y:null,s.default.createElement("div",{className:"Pos(r) Ovy(h)",style:b?C:null},s.default.createElement("div",{ref:"textContainer"},p?s.default.createElement("h1",{className:(0,r.default)("slideshow-headline",t.headlineClassName),dangerouslySetInnerHTML:{__html:p},ref:"headlineText"}):null,f?s.default.createElement("div",{className:"slideshow-description Pend(12px)",dangerouslySetInnerHTML:{__html:f},ref:"captionText"}):null),b&&m&&t.enableExtendCover?s.default.createElement("div",{className:"Pos(a) B(0) Start(0) W(100%)",style:v}):null),m?s.default.createElement("button",{className:"C(#157cfb) Cur(p) W(100%) Ta(start) Fz(13px) P(0) Bd(0) O(0) O(n):f",onClick:e.toggleReadMore},g?s.default.createElement(n(31).FormattedMessage,{id:"LESS",defaultMessage:"Less"}):s.default.createElement(n(31).FormattedMessage,{id:"MORE",defaultMessage:"More"})):null,t.enableIndicator&&"BOTTOM"===t.indicatorPos?y:null)}}),e.exports=t.default},1899:function(e,t,n){"use strict";function a(e,t){if(!e)return null;var a=(0,n(11).get)(e,"summary")||"",i=(0,n(11).get)(e,"title")||"";"slideshow"===(0,n(11).get)(e,"contentType")&&a.length>s&&(a=i);var r=(0,o.default)(t,["layout","image"],"");return{uuid:(0,n(11).get)(e,"uuid")||"",link:(0,n(11).get)(e,"url")||"",alias:(0,n(11).get)(e,"alias")||"",title:i,description:a,picture:(0,n(11).getIn)(e,["thumbnail","url"])||r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),s=800;e.exports=t.default},1900:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(a(n(0)),a(n(1))),s=a(n(2)),i=a(n(3185)),r=function(e){var t=e.title;if(!t)return null;var a=e.titleClasses,r=void 0===a?"Lh(36px) Fz(25px)--sm Fz(32px) Mb(17px)--sm Mb(20px) Mb(30px)--lg":a,l=e.className,d=e.id,u=e.categoryLabel,c=e.property,p=e.config,f=(r?r+" ":"")+"Ff($ff-primary) Lts($lspacing-md) Fw($fweight) Fsm($fsmoothing) Fsmw($fsmoothing) Fsmm($fsmoothing) Wow(bw)",h=null,m=u||c;if(m&&p&&p.enableCategoryLabel){var g=m.toLowerCase(),v="CATEGORY_LABEL_"+m.toUpperCase(),b=(0,s.default)(i.default,["classes",g]);h=o.default.createElement("div",{className:"Tt(c) Mt(7px) Mb(3px) Fw(b) Fz(13px) "+b},o.default.createElement(n(31).FormattedMessage,{id:v,defaultMessage:m}))}return o.default.createElement("header",{id:d,className:"canvas-header"+(l?" "+l:"")},h,o.default.createElement("h1",{className:f,itemProp:"headline"},t))};t.default=r,e.exports=t.default},1901:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(1)),i=a(n(4)),r=a(n(190)),l=a(n(0)),d=a(n(2138)),u=a(n(2139)),c=a(n(5)),p=a(n(62)),f=a(n(2)),h=a(n(1227)),m=a(n(29)),g=a(n(3186)),v=(0,i.default)({displayName:"CommonAttribution",contextTypes:{canvasConfig:l.default.object,getStore:l.default.func},propTypes:{attribution:l.default.object,author:l.default.object,provider:l.default.object,publishDate:l.default.string.isRequired,publishDateStr:l.default.string,uuid:l.default.string},getDefaultProps:function(){return{attribution:null,author:{},provider:{},publishDate:"",uuid:""}},getInitialState:function(){return this.config=(0,f.default)(this.context,["canvasConfig","attribution"])||{},this.currentAttribStyle=this.config.renderInlineAttribution?g.default.inlineAttribution:g.default.blockAttribution,{isMounted:!1}},componentDidMount:function(){this.setState({isMounted:!0})},renderAuthor:function(e){return e&&e.name?s.default.createElement("div",{className:this.config.authorCoverClass||"author Mb(4px) D(ib) "+this.currentAttribStyle.authorCoverClasses,itemProp:"author creator",itemScope:!0,itemType:"http://schema.org/Person"},this.renderAuthorName(e),e.title?this.renderAuthorTitle(e):null):null},renderAuthorName:function(e){var t=e.url&&this.getAnchorProps(e.url);return t?s.default.createElement(n(14).I13nAnchor,o({className:(0,c.default)("author-link Td(u):h",this.config.authorClasses||this.currentAttribStyle.authorClasses),itemProp:"name"},t),e.name):s.default.createElement("div",{className:(0,c.default)("author-name",this.config.authorClasses||this.currentAttribStyle.authorClasses),itemProp:"name"},e.name)},renderAuthorTitle:function(e){return s.default.createElement("div",{className:"author-title D(n)--sm "+this.currentAttribStyle.authorTitleClasses,itemProp:"jobTitle"},e.title)},renderAuthorLogo:function(e){var t=this.config.logo||{},n=t.logoImageDimension||"auth-logo Bdrs(45%) Mend(10px) H(a) Mah(40px)--sm Maw(40px)--sm "+this.currentAttribStyle.authorLogoImageDimension,a={className:n};return s.default.createElement("div",{className:t.authorLogoClass||this.currentAttribStyle.authorLogoClass},this.renderLogo(e,a))},renderAuthorSocial:function(e){var t=(0,f.default)(e,["social","twitter"]);return t?s.default.createElement("iframe",{key:t,src:"//platform.twitter.com/widgets/follow_button.html?screen_name="+t+"&show_screen_name=false&show_count=false",className:"Bdw(0) Ov(h) W(64px) H(24px) D(n)--sm "+this.currentAttribStyle.authorSocial,scrolling:"no",frameBorder:"0"}):null},renderProvider:function(e,t){if(!e||!e.name||e.logo&&!this.config.forceEnableProvider)return null;var n=e.logo&&this.getLogoInformation(e.logo),a=n?s.default.createElement("meta",{itemProp:"logo",content:n.url}):null,o=this.getAuthor().name?"publisher provider":"publisher provider author";return s.default.createElement("span",{className:(0,c.default)("provider Mb(4px)",this.config.providerWrapperClasses,{"Pend(5px)":!!t}),itemProp:o,itemScope:!0,itemType:"http://schema.org/Organization"},e.url?this.renderProviderLink(e):this.renderProviderName(e.name),a)},renderProviderName:function(e){return s.default.createElement("span",{className:(0,c.default)("provider-name",this.config.providerNameClasses||this.currentAttribStyle.providerNameClasses),itemProp:"name"},e)},renderProviderLogo:function(e){var t=this.config.logo||{},a=t.logoImageDimension||"H(a) Mah(40px)--sm Maw(40px)--sm "+this.currentAttribStyle.providerLogoImageDimension,o={className:a,title:e.name},i=this.renderLogo(e,o);if(!i)return null;if(e.url){var r=this.getAnchorProps(e.url);i=s.default.createElement(n(14).I13nAnchor,r,i)}return s.default.createElement("div",{className:t.logoClasses||"provider-logo Va(m) Pend(10px) "+this.currentAttribStyle.logoClasses},i)},renderProviderLink:function(e){var t=this.getAnchorProps(e.url);return s.default.createElement("span",{className:"provider-link",itemProp:"name"},s.default.createElement(n(14).I13nAnchor,o({className:this.config.providerLinkClasses||this.currentAttribStyle.providerLinkClasses,itemProp:"url"},t),e.name))},renderPublishDate:function(){if(!this.props.publishDate)return null;var e,t=new Date(this.props.publishDate);e=this.state.isMounted||!this.props.publishDateStr?this.state.isMounted&&this.config.enablePublishTimestamp?this.props.intl.formatTime(t,{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"}):this.props.intl.formatDate(t,{day:"numeric",month:"long",year:"numeric"}):this.props.publishDateStr,e=e.replace(/\u200e/g,"");var n=(0,c.default)("date",this.config.dateClasses,this.currentAttribStyle.dateClasses);return s.default.createElement("time",{className:n,dateTime:t.toISOString(),itemProp:"datePublished"},e)},getLogoInformation:function(e){if(!e)return null;var t,n,a=this.config.defaultLogoDim||"84x84",o=[a];return this.config.enableNewAttribution&&o.push("raw"),t=e.size||{},n=(0,h.default)(t,o)||{},n.url?n:null},renderLogo:function(e,t){var a=this.getLogoInformation(e.logo);return a?s.default.createElement(n(74).Img,o({url:a.url,forceLoad:!0,width:a.ratio?a.width:"auto"},t)):null},getAnchorProps:function(e){var t=m.default.parse(e||""),n=t.host||"",a={href:e};return-1===n.indexOf("yahoo.com")&&(a.target="_blank",a.rel="noopener noreferrer",-1===n.indexOf("tumblr.com")&&(a.rel+=" nofollow")),a},renderSharebuttons:function(){if(this.config.enableShareButtons){var e=this.config.shareButtons||{};return s.default.createElement(d.default,{className:e.className||"Pos(a) End(0) B(0)",componentConfig:{shareButtons:e},iconSize:e.iconSize||"15",orientation:"HORIZONTAL",roundButtonDiameter:25,shouldUseBrowserUrl:!1,ylkData:{subsec:"hl-view"},maxSquareWidth:e.maxSquareWidth,minSquareWidth:e.minSquareWidth,useButtonColorForBackground:e.useButtonColorForBackground})}},renderCommentsButton:function(){if(!this.config.enableCommentsButton)return null;var e=this.props.uuid,t=this.context.getStore("ContentStore").getContentByUUID(e),n=p.default.isLcpContent(t);if(!t||n&&!this.config.enableCommentsButtonOffnet)return null;var a=this.config.commentsButton||{};return s.default.createElement(u.default,{classNames:a.classNames||"canvas-attr-comments-btn Pos(a) End(0) T(0)",iconColor:"#000",iconSize:a.iconSize||20,labelClasses:this.config.labelClasses,scrollTargetClass:"canvas-bottom-anchor-"+e,showCount:!0,uuid:e})},getAuthor:function(){return this.config.enableNewAttribution?(0,f.default)(this.props,["attribution","author"],this.props.author||{}):this.props.author||{}},getProvider:function(){return this.config.enableNewAttribution?(0,f.default)(this.props,["attribution","provider"],{}):this.props.provider||{}},getShouldSwapAuthProvPosition:function(){if(!(0,f.default)(this.config,["enableSwapAuthProvPosByProp"],!1))return!1;var e=this.config.authProvPosSwapConfig||{},t=e.authProvPosSwapByPropPath;return!!t&&(e.enableSwapIfPropNotExist?!(0,f.default)(this.props,t):(0,f.default)(this.props,t,!1))},renderSeperator:function(e,t){var n=!t||!t.name||t.logo&&!this.config.forceEnableProvider,a=!(e&&e.name);return!this.config.renderInlineAttribution||a||n?null:s.default.createElement("span",{"aria-hidden":"true",className:"attrib-sep Mend(5px) Fx(13px)"},",")},render:function(){var e,t=(0,f.default)(this.config,["enableAuthorSocial"],!0),n=this.config.renderInlineAttribution,a=(0,c.default)("auth-attr W(100%) Mb(12px) Pos(r)",this.props.className,this.currentAttribStyle.containerClasses),o=s.default.createElement("i",{"aria-hidden":"true",className:this.config.dateDotClasses||this.currentAttribStyle.dateDotClasses},"•"),i=this.getAuthor(),l=this.getProvider(),d=i.logo,u=!d&&l.logo,p=d||u,h=this.currentAttribStyle.maxWidth;n?e=!0:(h=p?"Maw(320px)":"Maw(340px)",e=!p);var m=p?this.currentAttribStyle.attribStart:"",g=(0,f.default)(this.config,["logo","logoCoverClasses"],""),v=(0,f.default)(this.config,["infoCoverClasses"],""),b=(0,f.default)(this.config,["infoAlignmentClasses"],""),C=this.getShouldSwapAuthProvPosition(),y=[t&&n?this.renderAuthorSocial(i):null,this.renderAuthor(i)],x=this.renderProvider(l,!e&&(p||n)),S=(0,f.default)(this.config,["enableCompositeComponent"],!1),w=(0,f.default)(this.config,["compositeComponent"],{});return s.default.createElement("div",{id:this.props.id,className:a},s.default.createElement("div",{className:g||"auth-prov-logos D(tbc) Va(t) "+this.currentAttribStyle.logoCoverClasses},d?this.renderAuthorLogo(i):null,u?this.renderProviderLogo(l):null),s.default.createElement("div",{className:v||(0,c.default)("auth-prov-soc Mend(4px) Va(m) D(tbc)",{"Mah(45px) Mah(40px)--sm":p},h,m,this.currentAttribStyle.infoCoverClasses)},C?x:y,S?s.default.createElement(r.default,{className:w.compositeWrapperClasses||"",components:[{bundleName:w.bundleName||"",name:w.name||"",props:Object.assign({},this.props,w.props)}]}):null,this.renderSeperator(i,l),s.default.createElement("div",{className:b||(0,c.default)(this.currentAttribStyle.infoAlignment)},C?y:x,e?o:null,this.renderPublishDate()),t&&!n?this.renderAuthorSocial(i):null),this.renderSharebuttons(),this.renderCommentsButton())}});t.default=(0,n(31).injectIntl)(v),e.exports=t.default},1902:function(e,t,n){"use strict";var a=n(3)("Slideshow:loadSlideshow");e.exports=function(e,t,n){t=t||{};var o={uuid:t.uuid,start:t.start,count:t.count};a("dispatch",o),e.service.read("slideshow",o,{},function(t,a){!t&&a||(e.dispatch("RECEIVE_SLIDESHOW_FAILURE",t),n&&n(t)),e.dispatch("RECEIVE_SLIDESHOW_SUCCESS",a)}),n&&n()}},1903:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=a(n(1)),i=a(n(4)),r=a(n(5)),l=a(n(2));t.default=(0,i.default)({displayName:"ResponsiveImageItem",autobind:!1,mixins:[a(n(2144)).default,a(n(39)).default],type:"image",contextTypes:{session:o.default.object},propTypes:{caption:o.default.string,className:o.default.string,images:o.default.object.isRequired,fixedHeight:o.default.number},getDefaultProps:function(){return{fixedHeight:0,images:{regular:{url:"",width:0,height:0},large:null}}},_getImage:function(){return(0,l.default)(this.props,["images","regular"],{})},render:function(){var e=this._getImage();if(!e.url)return null;var t=this.props.caption||"",n=this.props.fixedHeight;return n?s.default.createElement("table",{className:(0,r.default)("W(100%)",this.props.className),style:{height:n}},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",{className:"Va(m) Ta(c)"},s.default.createElement("figure",{className:"slideshow-figure W(100%) M(0)"},s.default.createElement("img",{key:e.url,style:{maxHeight:n},className:"slideshow-image Maw(100%) Mah(100%) M(a)",src:e.url,alt:t})))))):s.default.createElement("div",{className:(0,r.default)("Pos(r) D(ib) H(100%) W(100%) M(0)",this.props.className)},s.default.createElement("figure",{className:"slideshow-figure D(b) H(100%) W(100%) M(0)"},s.default.createElement("img",{key:e.url,className:"slideshow-image Maw(100%) Mah(100%) M(a) W(a) StretchedBox",src:e.url,alt:t})))}}),e.exports=t.default},2060:function(e,t,n){e.exports=n(2061)},2061:function(e,t,n){"use strict";var a,o;"undefined"!=typeof window&&(a=n(1234)),o=n(4)({displayName:"Touch",propTypes:{axis:n(0).string,children:n(0).element,className:n(0).string,gesture:n(0).func},componentDidMount:function(){var e=n(9).findDOMNode(this),t={};this.gestures="x"===this.props.axis?"panleft panright panend swipeleft swiperight tap":"panup pandown panend swipeup swipedown tap",this.hammer=new a(e,t).on(this.gestures,this.handleHammer)},componentWillUnmount:function(){this.hammer.off(this.gestures,this.handleHammer)},handleHammer:function(e){this.props.gesture&&this.props.gesture(e,this)},render:function(){var e={};for(var t in this.props)this.props.hasOwnProperty(t)&&"children"!==t&&(e[t]=this.props[t]);return n(1).createElement("div",{className:n(5)("touch-wrapper",this.props.className)},n(1).Children.map(this.props.children,function(t){return n(1).cloneElement(t,e)},this))}}),e.exports=o},2066:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(10)),s=a(n(0)),i=a(n(1)),r=a(n(154)),l=a(n(1223)),d=a(n(205)),u=a(n(110)),c=a(n(7)),p=a(n(5)),f=a(n(62)),h=a(n(2)),m=a(n(1899));t.default={statics:{storeListeners:[u.default]},contextTypes:{getStore:s.default.func.isRequired,renderTarget:s.default.object,session:s.default.object.isRequired},propTypes:{alignLeft:s.default.bool,buttonSpacingPixels:s.default.number,contentId:s.default.string,commentScrollMarginTop:s.default.number,iconSize:s.default.number,maxSquareWidth:s.default.number,minSquareWidth:s.default.number,orientation:s.default.string,persistToolTip:s.default.bool,roundButtonDiameter:s.default.number,shouldUseBrowserUrl:s.default.bool,showTooltipAtBottom:s.default.bool,useButtonColorForBackground:s.default.bool,hideText:s.default.bool,ylkData:s.default.object},getDefaultProps:function(){return{alignLeft:!1,buttonSpacingPixels:8,contentId:void 0,commentScrollMarginTop:void 0,iconSize:20,maxSquareWidth:void 0,minSquareWidth:void 0,orientation:r.default.orientation.HORIZONTAL,persistToolTip:!1,roundButtonDiameter:40,shouldUseBrowserUrl:!0,showTooltipAtBottom:!1,useButtonColorForBackground:!0,hideText:!1,ylkData:{}}},getInitialState:function(){return this.config=(0,h.default)(this.props,["componentConfig","shareButtons"])||{},this.contentStore=this.getStore(u.default),this.langStore=this.getStore("LangStore"),this.pageStore=this.getStore(c.default),this.routeStore=this.getStore("RouteStore"),this._getState(this.props.contentId)},onChange:function(e){this.props.contentId||this.setState(this._getState())},componentWillReceiveProps:function(e){e.contentId!==this.props.contentId&&this.setState(this._getState(e.contentId))},_getState:function(e){var t=this.contentStore,a=this.context.renderTarget||{},s=e?t.getContentByUUID(e):t.getCurrentContent(a.id),i=this.routeStore.getCurrentRoute()||{},r={};this.pageStore&&(r=this.pageStore.getPageConfig()),s=s||{};var l=(0,n(11).get)(s,"uuid")||"",d=(0,m.default)(s,r),u=f.default.isLcpContent(s);return{buttons:o.default.List(u?this.config.lcpButtons:this.config.buttons),isLcp:u,isCurrentRenderTarget:this._isCurrentRenderTarget(),shareMeta:d,site:f.default.getContentSite(i,this.context),twitterId:this._getTwitterId(),uuid:l,ylk:Object.assign({},this.props.ylkData,{uuid:l})}},_isCurrentRenderTarget:function(){return(0,h.default)(this,["context","renderTarget","id"])===(this.pageStore&&this.pageStore.getCurrentRenderTargetId())},_getDevice:function(){return(0,h.default)(this.context,["session","dimensions","device"],"smartphone")},_getTwitterId:function(){var e=this.pageStore.getPageData(),t=(0,h.default)(e,["meta","property","twitter:site"])||(0,h.default)(e,["meta","name","twitter:site"])||"Yahoo";return"@"===t.charAt(0)&&(t=t.slice(1)),t},_getStyles:function(e){return(0,h.default)(this.config,["styles",e])},renderLikeButton:function(){var e=this.config;if(!this.props.enableLikeButton||this.state.isLcp||!this.state.uuid)return null;var t={initial:"#f23347",hovered:"#f23347"};e.enableRoundShareButtons&&(t={initial:"#fff",hovered:"#d1282d",selected:"#ff4d53"});var n={className:this._getStyles("likeButtonClasses"),colors:t,enableRoundShape:e.enableRoundShareButtons,enableHoverColor:e.enableHoverColor,enableHoverColorTransition:e.enableHoverColorTransition,enableTooltip:this.props.persistToolTip,iconClasses:this._getStyles("likeIconClasses"),iconSize:this.props.iconSize,overrideTooltipClasses:this._getStyles("tooltipClasses"),persistTooltip:this.props.persistToolTip,uuid:this.state.uuid,ylkData:this.state.ylk};return i.default.createElement("div",{className:this._getStyles("likeClasses"),key:"like"},i.default.createElement(l.default,n))},renderShareButtonGroup:function(){var e=this.config,t=e.buttonSize||r.default.size.LARGE,n=this.langStore.getStrings("tdv2-applet-content-canvas"),a=!1!==e.isTouchDevice,o={buttonShape:r.default.shape.SQUARE,buttonWidth:this._getStyles("buttonWidth"),iconRendererClassName:this._getStyles("iconRendererClasses"),iconSize:this.props.iconSize,maxSquareWidth:this.props.maxSquareWidth,minSquareWidth:this.props.minSquareWidth,persistToolTip:this.props.persistToolTip,persistTooltipClasses:(0,p.default)(this._getStyles("shareButtonTooltipClasses"),{"D(n)":this.props.hideText,"End(9px) D(n)--modalFloatingCloseBtn":this.props.persistToolTip}),showShareInfoOnHover:!a,touchDevice:a,useButtonColorForBackground:this.props.useButtonColorForBackground};return e.enableRoundShareButtons&&(o={buttonShape:r.default.shape.ROUND,buttonSpacingPixelsSmall:this.props.buttonSpacingPixels,iconSize:this.props.iconSize,maxSquareWidth:this.props.maxSquareWidth,roundButtonDiameter:this.props.roundButtonDiameter,showShareInfoOnHover:!1,touchDevice:a,useButtonColorForBackground:this.props.useButtonColorForBackground,useHoverColor:e.enableHoverColor,enableHoverColorTransition:e.enableHoverColorTransition}),i.default.createElement(d.default,Object.assign({},o,{alignLeft:this.props.alignLeft,buttonsToShow:this.state.buttons,buttonSize:t,buttonOrientation:this.props.orientation,className:this._getStyles("outerContainerClasses"),key:"share",messages:n,metaData:this.state.shareMeta,sharingConfig:{device:this._getDevice(),shouldUseBrowserUrl:this.props.shouldUseBrowserUrl,site:this.state.site,twitterId:this.state.twitterId},showTooltipAtBottom:this.props.showTooltipAtBottom,webshare:e.webshare,ylkData:this.state.ylk}))}},e.exports=t.default},2067:function(e,t,n){"use strict";function a(e,t,n){e.dispatch("COMMUNITYBAR_STATE",{isExpandedView:t.isExpandedView}),n&&n()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.displayName="setCommunityBarView",e.exports=t.default},2068:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(29)),i=a(n(1221)),r=a(n(502)),l=a(n(21)),d=a(n(2)),u={set:r.default};t.default={_standaloneOrFirstStoryline:function(){return"number"!=typeof this.props.storylinePosition||this.props.storylinePosition<=1},getVpConfigOverrides:function(e){var t=e&&e.itemI13n;if(!t){var n=this.getStore&&this.getStore(l.default);t=(0,d.default)(n&&n.getCurrentNavigate(),["params","itemI13n"],{})}return{cpos:t.cpos,ccode:t.ccode,sec:t.sec}},getYahooVideoProps:function(e){var t=Object.assign({},this.props,e.config||{}),a=!!e.isFirst,o=e.videoContent||{},s=t.enableVideoManager,i=s&&["vm-allow-unmuted","vm-large-player"]||[],r=this.shouldAutoplayVideo(a,t),l=t.enableVideoLazyLoad&&a||!1,d=this.shouldMuteVideo(a,t),c=a&&this._standaloneOrFirstStoryline(),p=c&&t.enableVideoEarlyInit||!1,f=c&&t.enableVideoDocking||!1,h=c&&t.enableVideoMicrodata,m=t.uuid,g=o.uuid,v=(0,n(2069).getVideoChannel)(this.context,t.videoFallbackChannel),b={aliases:o.aliases,autoplay:r,channelAlias:v,ctopic:t.ctopic,dimensions:t.dimensions,enableAd:t.enableAd,enableLazy:l,enableNavTimers:a&&r,enableVideoDocking:f,enableVideoEarlyInit:p,enableVideoMicrodata:h,expName:t.videoExpName,expType:t.videoExpType||o.expType,logoOverlay:t.logoOverlay,mute:d,playerGroups:i,videoGeminiSectionId:t.videoGeminiSectionId,videoId:g};return t.vpConfigOverrides&&(b.vpConfigOverrides=t.vpConfigOverrides),t.videoSpaceid&&(b.spaceid=t.videoSpaceid),m&&u.set(b,"rapidConfig.pageParams.pstaid_p",m),t.contentType&&u.set(b,"rapidConfig.pageParams.pct",t.contentType),void 0!==o.recommendations&&(b.videoRecommendations=o.recommendations),b},shouldMuteVideo:function(e,t){var n=t||this.props,a=n.enableVideoAutoPlay&&e||!1,o=n.enableVideoManager||!1;return!(this._standaloneOrFirstStoryline()||!o&&!a)||(n.enableMutingBodyVideos&&!e||!1)},shouldAutoplayVideo:function(e,t){var n=t||this.props;return!!this._standaloneOrFirstStoryline()&&(n.enableVideoAutoPlay&&e||!1)},getVideoEmbedAliases:function(e){var t=e&&s.default.parse(e,!0);if(t&&"embed"===t.query.format)return(0,n(3189).urlToAlias)(e)},enableVideoPreRollAd:function(e){var t=!0;return e&&e.site_attribute&&e.site_attribute.indexOf("mags-noads")>-1&&(t=!1),t},renderVideoLead:function(e,t,n){return o.default.createElement(i.default,{videoAlias:e.video,videoOnly:!0,autoplay:!1,cTopic:t,enableAd:n})}},e.exports=t.default},2069:function(e,t,n){"use strict";function a(e,t){var a=i(e);if(a){var l=(0,n(11).get)(a,"cover")||{},d=(0,n(11).getIn)(l,["yvpConfig","playlist","mediaItems","0","id"])||"yvideo"===(0,n(11).getIn)(a,["body","0","type"])&&(0,n(11).getIn)(a,["body","0","uuid"]),u=(0,n(11).getIn)(l,["aliases","video"])||(0,n(11).getIn)(a,["body","0","aliases","video"]),c=t.playlistId||"",p=s(e,t.videoFallbackChannel),f=!!t.enableVideoOnly,h=!t.forceVideoAutoplayOff,m=o(d||u,t.useVideoLeadModulePrefix&&e.getStore(r.default).getVideoLeadPrefix()),g={autoplay:h,channelAlias:p,key:m,moduleId:m,playlistId:c,videoAlias:u,videoId:d,videoOnly:f};return t.mute&&(g.mute=t.mute),t.enableVideoEarlyInit&&d&&(g.detachable=!1,g.preReactPlayerInit=!0,g.renderOnServer=!0,g.mediaItem={id:d}),g}}function o(e,t){return(t=t||"content-canvas-video")+"-"+e}function s(e,t){var a=i(e)||{},o=(0,n(11).get)(a,"cover")||{};return(0,n(11).getIn)(o,["aliases","channel"])||(0,n(11).getIn)(a,["body","0","aliases","channel"])||(0,n(11).get)(a,"videoChannel")||t}function i(e){var t=e&&e.renderTarget||{};return e&&e.getStore(r.default).getCurrentContent(t.id)}Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoInitConfigFromContent=a,t.getVideoModuleId=o,t.getVideoChannel=s;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(110))},2070:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){t=t||{};var a=t.animate,o=t.id,i=t.target,d=!!t.forceJump,u=e.getStore(r.default),c=u.getSlideshow(o);if(!i||!c)return void(n&&n());var p=c.items.length||0,f=c.currentIndex,h=c.displayIndex,m=!!c.looping,g=s(i,f);if(m&&g===p&&(g=0),g<0||g>=p||!d&&(f!==h||g===f))return void(n&&n());var v={id:o,currentIndex:g,animate:a};l("dispatch",v),e.dispatch("SET_SLIDESHOW_CURRENT_INDEX",v),n&&n()}function s(e,t){return"next"===e?t+1:"prev"===e?t-1:parseInt(e,10)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=a(n(3)),r=a(n(1489)),l=(0,i.default)("Slideshow:jumpToTarget");e.exports=t.default},2071:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=a(n(32)),i=a(n(153)),r=a(n(304)),l=a(n(2)),d="undefined"!=typeof window?window:null,u="undefined"!=typeof document?document:null;t.default={propTypes:{adRefreshPositions:o.default.array,beaconData:o.default.object},contextTypes:{session:o.default.object,i13n:o.default.object},getDefaultProps:function(){return{beaconData:{}}},getInitialState:function(){return this.adStore=this.getStore(s.default),this.i13nStore=this.getStore("I13nStore"),this.pageStore=this.getStore("PageStore"),this.userStore=this.getStore("UserStore"),this.routeStore=this.getStore("RouteStore"),{}},_refreshAd:function(){var e=[].concat(this.props.adRefreshPositions||[]);if(0!==e.length){var t=this.adStore,n=t.getAdFetchEvent();this.executeAction(i.default,{eventName:"adFetch",positions:e,overrides:{ps:e,sa:n&&n.sa||"",sp:this.pageStore.getSpaceid()},refresh:!0,siteAttrs:{}})}},_firePageViewBeacon:function(){var e=n(14).ReactI13n.getInstance();if(e&&d){var t=this.i13nStore.getI13nConfig(),a=this.routeStore.getCurrentRoute()||{},o=(0,l.default)(a,["params","contentSite"])||a.contentSite||"";e.execute("pageview",{enableOmnitureBeacon:t.initOmniture,currentUrl:u.location.href,spaceid:this.pageStore.getSpaceid(),pageData:this.pageStore.getPageData(),pageParams:{pct:"slideshow",pt:"content"},keys:{site:o}});var s=u.location.origin||u.location.protocol+"//"+u.location.hostname+(u.location.port?":"+u.location.port:"");t.initComscore&&e.execute("comscore_beacons",{c14:this.userStore.getComscoreC14(),currentUrl:u.location.href,getConsentData:t.enableConsentData?r.default:null,keyword:this.i13nStore.getComscoreC7Keyword(),panelTrackingUrl:s+"/pageview?client=1&property="+o,spaceid:this.pageStore.getSpaceid()})}}},e.exports=t.default},2138:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(2139)),r=a(n(12)),l=a(n(2066)),d=a(n(5));t.default=(0,s.default)({displayName:"CanvasShareButtons",mixins:[l.default,r.default],statics:{componentConfig:{bundleName:"tdv2-applet-content-canvas",name:"componentContentCanvas",filter:["shareButtons"]}},shouldComponentUpdate:function(e,t){return t.uuid!==this.state.uuid},renderCommentsButton:function(){if(!this.props.enableCommentsButton||this.state.isLcp&&!this.props.enableCommentsButtonOffnet)return null;var e=this.state.uuid,t={classNames:this._getStyles("commentsClasses"),iconClasses:this._getStyles("commentsIconClasses"),iconSize:this.props.iconSize,key:"comments",labelClasses:this._getStyles("commentsLabelClasses"),scrollMarginTop:this.props.commentScrollMarginTop,scrollTargetClass:"canvas-bottom-anchor-"+e,uuid:e};return o.default.createElement(i.default,t)},render:function(){var e=[this.renderCommentsButton(),this.renderLikeButton(),this.renderShareButtonGroup()],t=(0,d.default)("canvas-share-buttons csb-"+this.state.uuid,this._getStyles("transparentBgc")?"Bgc(t)":"Bgc(#fff)",this.props.className);return o.default.createElement("div",{className:t},e)}}),e.exports=t.default},2139:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(1213)),l=a(n(1665)),d=a(n(287)),u=a(n(12)),c=a(n(517)),p=a(n(5)),f=(0,s.default)({displayName:"CommentsButton",mixins:[u.default],statics:{storeListeners:[d.default]},propTypes:{classNames:i.default.string,iconClasses:i.default.string,iconColor:i.default.string,iconHoverColor:i.default.string,iconSize:i.default.number,scrollMarginTop:i.default.number,scrollTargetClass:i.default.string.isRequired,showCount:i.default.bool,uuid:i.default.string.isRequired},getDefaultProps:function(){return{classNames:"",iconClasses:"",iconColor:"#188fff",iconHoverColor:"#188fff",iconSize:20,labelClasses:"",scrollMarginTop:-150,showCount:!1}},getInitialState:function(){this.canvassStore=this.getStore(d.default),this.i13nModel={action:"click",slk:"comments",elm:"cmmt_open",outcm:"open"};var e=this._getState(this.props);return e.hovered=!1,e},componentWillReceiveProps:function(e){e.uuid!==this.props.uuid&&this.setState(this._getState(e))},componentDidMount:function(){this.setState(this._getState(this.props))},shouldComponentUpdate:function(e,t){return e.uuid!==this.props.uuid||t.count!==this.state.count||t.hovered!==this.state.hovered},onChange:function(){this.setState(this._getState(this.props))},_getState:function(e){var t=this.canvassStore.getCommentsState("canvass-"+e.uuid);return t?{count:e.showCount?this.getCommentCount(t):0}:{}},getCommentCount:function(e){return e&&(0,n(11).get)(e,"count")||0},_getScrollTop:function(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},_commentsClickHandler:function(){if(this.props.scrollTargetClass){var e=this,t=document.getElementsByClassName(e.props.scrollTargetClass)||[],n=e.props.uuid;if(t[0]){var a=t[0].getBoundingClientRect().bottom,o=e._getScrollTop()+a+e.props.scrollMarginTop,s=document.getElementById("canvass-"+n);s&&s.focus({preventScroll:!0}),(0,c.default)(o),e.executeAction(l.default,{context:n,instanceId:"canvass-"+n,isExpanded:!0})}}},getLabelClasses:function(){return(0,p.default)("Fz(12px) Pos(r)",this.props.labelClasses,{"C($c-fuji-blue-1-a)":this.state.hovered,"C(#000)":!this.state.hovered})},renderLabelWithCount:function(e){return o.default.createElement("span",{className:this.getLabelClasses()},o.default.createElement(n(31).FormattedMessage,{id:"COMMENT_COUNT",defaultMessage:"{count, number} {count, plural, one {Comment} other {Comments}}",values:{count:e}}))},renderLabel:function(){return o.default.createElement("span",{className:this.getLabelClasses()},this.props.intl.formatMessage({id:"COMMENT",defaultMessage:"Comment"}))},_onHover:function(){this.setState({hovered:!this.state.hovered})},render:function(){return this.props.uuid?o.default.createElement(n(14).I13nButton,{"aria-label":this.props.intl.formatMessage({id:"COMMENT",defaultMessage:"Comment"}),className:(0,p.default)("canvas-modal-comments-button D(b) Px(0) Cur(p) O(n)",this.props.classNames),onClick:this._commentsClickHandler,onMouseEnter:this._onHover,onMouseLeave:this._onHover,i13nModel:this.i13nModel},o.default.createElement(n(19).Icon,{asset:r.default,className:this.props.iconClasses,color:this.state.hovered?this.props.iconHoverColor:this.props.iconColor,height:this.props.iconSize,style:{verticalAlign:"initial"},width:this.props.iconSize}),this.state.count?this.renderLabelWithCount(this.state.count):this.renderLabel()):null}});t.default=(0,n(31).injectIntl)(f),e.exports=t.default},2140:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="span";switch(e){case"preview":t=i.default;break;case"photoset":case"slideshow":t=r.default;break;case"story":t=l.default;break;case"video":t=d.default}return t}function s(e){return(0,n(11).get)(e,"off_network")?"preview":(0,n(11).get)(e,"contentType")}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentByPageType=o,t.getPageType=s;var i=a(n(3190)),r=a(n(3193)),l=a(n(3203)),d=a(n(3205))},2141:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(535)),r=a(n(0)),l=a(n(512)),d=a(n(3191)),u=a(n(39)),c=a(n(5)),p=a(n(2)),f=a(n(1227)),h=a(n(2142)),m="undefined"!=typeof window?window:null;t.default=(0,s.default)({displayName:"Image",mixins:[u.default],contextTypes:{canvasConfig:r.default.object},propTypes:{alias:r.default.string,alt:r.default.string,caption:r.default.string,dimensions:r.default.array,headline:r.default.string,viewPhotosOverlay:r.default.bool,lazyLoad:r.default.bool,link:r.default.shape({isExternal:r.default.bool,url:r.default.string}),onClick:r.default.func,size:r.default.shape({"800x600":r.default.object,"300x225":r.default.object,original:r.default.shape({height:r.default.number,ratio:r.default.number,url:r.default.string.isRequired,width:r.default.number})}),type:r.default.string.isRequired},getInitialState:function(){return{scrollMargin:(0,p.default)(this.context,["canvasConfig","imageScrollMargin"],0),maxWidth:400}},getDefaultProps:function(){return{dimensions:[],viewPhotosOverlay:!1,lazyLoad:!0}},componentDidMount:function(){if(m&&this.props.enableTextWrap){this.setState({maxWidth:Math.min(m.innerWidth/2,400)})}},renderCaption:function(){return o.default.createElement(d.default,{caption:this.props.caption||this.props.alt})},_shouldRenderAsLink:function(){return(0,p.default)(this.props,["link","url"],!1)},_handleClick:function(e){this.props.onClick&&this.props.onClick(e,(0,p.default)(this.props,["size","original","url"]))},renderImage:function(e,t){var a=this.props,s=e.width&&e.height,r={},d={};if(a.enableTextWrap){var u=e.width&&parseInt(e.width,10)<=this.state.maxWidth?e.width:"50%";d=Object.assign({},a.style,{width:u})}else{var p=e.width&&parseInt(e.width,10)<=500?e.width:"100%";d=Object.assign({},this.props.style,{maxWidth:p})}var f=null,m=null,g=null,v=(0,c.default)({"StretchedBox W(100%) H(100%) ie-7_H(a)":s,"Maw(100%)":!s}),b=a.alt||a.headline;s&&(r.paddingBottom=h.default.getVerticalSpace(e.width,e.height)+"%");var C={margins:{top:this.state.scrollMargin,bottom:this.state.scrollMargin}};m=o.default.createElement(n(74).Img,{alt:b,className:v,forceLoad:!a.lazyLoad,viewport:C,url:e.url,itemProp:"url"}),f=o.default.createElement("img",{alt:b,className:v,src:e.url,itemProp:"url"}),g=o.default.createElement("noscript",{dangerouslySetInnerHTML:{__html:i.default.renderToStaticMarkup(f)}});var y=o.default.createElement("div",{className:"img-mask StretchedBox Fz(15px)"},o.default.createElement("div",{className:"StretchedBox Bgc(#000.5) Op(1):h Op(0) Trsdu(.2s)"},o.default.createElement("span",{className:"Pos(a) B(25px) Start(65px) C(#fff) Fw(b)"},o.default.createElement(n(31).FormattedMessage,{id:"VIEW_PHOTOS",defaultMessage:"View photos"}))),o.default.createElement(n(74).Img,{checkPosition:!1,className:"Pos(a) B(15px) Start(15px) W(40px) H(40px) D(b) Trsdu(0s)!",forceLoad:!1,nodeName:"span",style:{backgroundSize:"40px"},url:"https://s.yimg.com/dh/ap/default/150604/orb.png"},o.default.createElement("span",{className:"D(tb) Ta(c) W(100%) H(100%)"},o.default.createElement("i",{className:"Va(m) D(tbc) Lh(1)"},o.default.createElement(n(19).Icon,{asset:l.default,color:"#fff",height:15}))))),x=a.viewPhotosOverlay&&!this._shouldRenderAsLink();return o.default.createElement("figure",{className:(0,c.default)("canvas-image Mx(a)",a.className,{"Op(.9):h Trsdu(.2s)":t,"Ta(c)":!s}),style:d,"data-type":a.type,itemScope:!0,itemProp:"associatedMedia image",itemType:"http://schema.org/ImageObject"},o.default.createElement("meta",{itemProp:"height",content:e.height}),o.default.createElement("meta",{itemProp:"width",content:e.width}),o.default.createElement("div",{style:r,onClick:x?this._handleClick:null,className:(0,c.default)("Maw(100%)",{"Pos(r)":s||a.viewPhotosOverlay,"H(0)":s,"D(ib)":!s,"Cur(p)":x})},m,g,x?y:null),this.renderCaption())},renderImageTag:function(e){var t=this.props.alt||this.props.headline;return o.default.createElement("img",{className:(0,c.default)("canvas-image",this.props.className),src:e.url,alt:t,width:e.width,height:e.height})},render:function(){var e=(0,f.default)(this.props.size,this.props.dimensions),t=this.props.link;return e?this._shouldRenderAsLink()?o.default.createElement("a",{href:t.url,rel:t.isExternal?"nofollow noopener noreferrer":null,target:t.isExternal?"_blank":null},this.renderImage(e,!0)):this.renderImage(e):null}}),e.exports=t.default},2142:function(e,t,n){"use strict";var a={},o=/.+\/api\/res\/.+(http(s)?:\/\/.+?)(\.cf\..+)?$/,s=/(.+)\?.+\&sig=.+--$/;a.getCleanImageUrl=function(e){return e?0===e.indexOf("data:")?e:(e=e.replace(o,"$1").replace("https://s.yimg.com","http://l.yimg.com"),e=e.replace(s,"$1"),encodeURI(e.trim())):""},a.getVerticalSpace=function(e,t){return e=parseInt(e,10),t=parseInt(t,10),e>0&&t>0?Math.round(1e3*t/e)/10:0},a.getRatio=function(e,t){return e=parseInt(e,10),t=parseInt(t,10),e>0&&t>0?e/t:0},a.getImageByTag=function(e,t,a){return e&&e.length?(a=a||"tag",t=t||"original",n(296)(e,function(e){return e[a]===t})):null},a.getImageOrientation=function(e,t){var n=a.getRatio(e,t);return e&&t?(e=parseInt(e,10),t=parseInt(t,10),n>.85&&n<20/17?"square":n>=20/17?"landscape":n<=.85?"portrait":void 0):"landscape"},e.exports=a},2143:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),s=a(n(18)),i=a(n(20)),r=a(n(1243)),l=(0,o.default)("LiveCoverage:LiveCoverageStore");t.default=(0,s.default)({storeName:"LiveCoverageStore",statics:{handlers:{GET_LIVE_COVERAGE_POSTS_SUCCESS:"_getLiveCoverageSuccess",GET_MORE_LIVE_COVERAGE_POSTS_SUCCESS:"_getMoreLiveCoverageSuccess",GET_NEW_LIVE_COVERAGE_POSTS_SUCCESS:"_getNewLiveCoverageSuccess",GET_NEW_LIVE_COVERAGE_POSTS_FAILURE:"_getNewLiveCoverageFailure",APPEND_NEW_LIVE_COVERAGE_POSTS_SUCCESS:"_appendNewLiveCoverageSuccess"}},initialize:function(){this.liveCoverage={},this.newLiveCoverage={},this.newLiveCoverageFailureCount=0,this.moreLiveCoveragePostsCount=null},_appendNewLiveCoverageSuccess:function(e){l("_appendNewLiveCoverageSuccess"),this.newLiveCoverage.posts&&this.newLiveCoverage.posts.length>=1&&(this.newLiveCoverage.posts.forEach(function(e,t,n){n[t]&&(n[t].isNew=!0)}),this.liveCoverage.posts=this.newLiveCoverage.posts.concat(this.liveCoverage.posts)),this._updatePosts(this.newLiveCoverage),this.newLiveCoverage=[],this.emitChange()},_getLiveCoverageSuccess:function(e){l("_getLiveCoverageSuccess",e),this.liveCoverage=e.liveCoverage,this._checkAndDeletePosts(e.liveCoverage.deletedPosts,this.liveCoverage.pinnedPosts),this.emitChange()},_getNewLiveCoverageSuccess:function(e){l("_getNewLiveCoverageSuccess",e),this.newLiveCoverageFailureCount=0,(0,i.default)(e,"liveCoverage.posts.length",0)>0&&(this.newLiveCoverage.posts?this.newLiveCoverage.posts=this.newLiveCoverage.posts.concat(e.liveCoverage.posts):this.newLiveCoverage=e.liveCoverage),this._updatePosts(e.liveCoverage),this.emitChange()},_getNewLiveCoverageFailure:function(e){l("_getNewLiveCoverageFailure",e),this.newLiveCoverageFailureCount++,this.emitChange()},_updatePosts:function(e){e&&(this._updatePinnedPosts(e),this._checkAndDeletePosts(e.deletedPosts,this.liveCoverage.posts))},_updatePinnedPosts:function(e){if(e.pinnedPosts){var t=e.pinnedPosts,n=e.deletedPosts;if(this.liveCoverage.pinnedPosts=t,t.length>0){var a=t[0].post_id;(0,r.default)(this.liveCoverage.posts,function(e){return a===e.post_id})}this._checkAndDeletePosts(n,this.liveCoverage.pinnedPosts)}},_checkAndDeletePosts:function(e,t){t&&t.length&&e&&e.length>0&&(0,r.default)(t,function(t){return e.indexOf(t.post_id)>=0})},_getMoreLiveCoverageSuccess:function(e){l("_getMoreLiveCoverageSuccess",e),this.moreLiveCoveragePostsCount=(0,i.default)(e,"liveCoverage.posts.length",0),this.moreLiveCoveragePostsCount>0&&(this.liveCoverage.posts=this.liveCoverage.posts.concat(e.liveCoverage.posts)),this._updatePosts(e.liveCoverage),this.emitChange()},getLiveCoverage:function(){return l("getLiveCoverage",this.liveCoverage),this.liveCoverage},getNewLiveCoverage:function(){return l("getNewLiveCoverage",this.newLiveCoverage),this.newLiveCoverage},getMoreLiveCoveragePostsCount:function(){return l("getMoreLiveCoveragePostsCount",this.moreLiveCoveragePostsCount),this.moreLiveCoveragePostsCount},getNewLiveCoverageFailureCount:function(){return l("getNewLiveCoverageFailureCount",this.newLiveCoverageFailureCount),this.newLiveCoverageFailureCount},dehydrate:function(){return{liveCoverage:this.liveCoverage,newLiveCoverage:this.newLiveCoverage}},rehydrate:function(e){this.liveCoverage=e.liveCoverage,this.newLiveCoverage=e.newLiveCoverage}}),e.exports=t.default},2144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={propTypes:{caption:a.default.string,credit:a.default.string,headline:a.default.string,id:a.default.string,listId:a.default.string,pageUrl:a.default.string,type:a.default.string.isRequired},getDefaultProps:function(){return{caption:"",credit:"",headline:"",id:"",listId:"",pageUrl:"",type:this.type}}},e.exports=t.default},2443:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){p("initCanvassComments",t);var o=e.getStore(s.default),r=e.getStore(u.default),f=o.getCurrentContent(),h=f&&(0,n(11).get)(f,"uuid"),m=t||{},g=m.componentProps,v=void 0===g?{}:g,b=v.componentConfig,C=void 0===b?{}:b,y=v.contentId,x=void 0===y?h:y,S=x;if(!x)return void(a&&a());var w=o.getContentByUUID(x),I=(0,l.default)(r.getCurrentRoute(),["query"],{}),_=w&&(0,n(11).get)(w,"vibePost")||"",M=_&&(0,n(11).get)(_,"contextId"),P=_&&(0,n(11).get)(_,"contextType"),E=!M&&(0,n(62).isLcpContent)(w),T=C,N=T.enableCommentsOffnet,k=void 0!==N&&N;if(!w||!(0,n(11).get)(w,"uuid")||(0,n(11).get)(w,"hideComments")||E&&!k)return void(a&&a());var L=void 0,A=void 0;v.contentId||(L=I.messageId,A=I.replyId);var O=(0,n(11).get)(w,"commentsNamespace")||"yahoo_content",B="frontpage.oauth.canvassKey",D="frontpage.oauth.canvassSecret";M&&P&&(S=M,O=P),"yahoo_vibe"===O?(B="vibe.oauth.canvass.key",D="vibe.oauth.canvass.secret"):E&&(O="yahoo_offnet");var R=(0,l.default)(C,["ui","expanded"],!1),j=h===S&&("1"===I.bcmt||"1"===I.expanded||!!L||(0,l.default)(r.getCurrentNavigate(),["params","collapseContent"],!1)),V=v.expandedCountForRoute;C=(0,d.default)({ui:{containerExtraClasses:"BdT Bdtc(#222) Bdtw(2px)",enableCommentsToggle:!0,showContextDisplayText:!1}},C,{ui:{expanded:j||R||!1}}),j&&V&&(C.ui.expandedCount=V);var F="canvass-"+x,H=(0,n(11).get)(w,"previewLink")||(0,n(11).get)(w,"url");e.executeAction(i.default,{name:F,components:[{bundleName:v.bundleName||"tdv2-applet-canvass",name:v.name||"CanvassApplet",config:C,props:{instanceId:F,context:S,contextDisplayText:(0,l.default)(v,["contextDisplayText"],(0,n(11).get)(w,"title")),contextUrl:(0,l.default)(v,["contextUrl"],H),expandForRoute:j,enableSentiments:v.enableSentiments||!1,messageId:L,messagesPerPage:v.messagesPerPage||10,namespace:v.namespace||O,replyId:A,oauthConsumerKey:v.oauthConsumerKey||B,oauthConsumerSecret:v.oauthConsumerSecret||D,uploadOptions:v.uploadOptions||"TEXT,GIF,SMARTLINKS"}}]},function(t){j&&e.executeAction(c.default,{isExpandedView:j}),a&&a(t)})}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(110)),i=a(n(147)),r=a(n(3)),l=a(n(2)),d=a(n(23)),u=a(n(21)),c=a(n(2067)),p=(0,r.default)("ContentCanvas:initCanvassComments");o.displayName="initCanvassComments",t.default=o,e.exports=t.default},2444:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(12)),s=a(n(1213)),i=a(n(281)),r=a(n(1)),l=a(n(4)),d=a(n(1665)),u=a(n(517)),c=a(n(5)),p=a(n(62)),f=a(n(0)),h=a(n(287)),m=a(n(110));t.default=(0,l.default)({displayName:"CanvasTag",mixins:[o.default],statics:{componentConfig:{name:"componentContentCanvas",filter:["canvasTag"]},storeListeners:[h.default,m.default]},contextTypes:{canvasConfig:f.default.object,renderTarget:f.default.object,session:f.default.object.isRequired},propTypes:{className:f.default.string,scrollTargetClass:f.default.string,typeWhitelist:f.default.object},getDefaultProps:function(){return{className:"",scrollTargetClass:"content-canvas",typeWhitelist:{story:!0,preview:!0,photoset:!0}}},getInitialState:function(){var e=this;return e.config=e.props.componentConfig&&e.props.componentConfig.canvasTag||e.context.canvasConfig&&e.context.canvasConfig.canvasTag||{},e.canvassStore=e.getStore(h.default),e.contentStore=e.getStore(m.default),e.routeStore=e.getStore("RouteStore"),e._getState()},onChange:function(){this.setState(this._getState())},_getState:function(){var e=this,t=e.context.renderTarget||{},a=e.contentStore.getCurrentContent(t.id)||{},o=e.canvassStore.getCommentsState("canvass-"+(0,n(11).get)(a,"uuid"));return{commentsCount:o&&(0,n(11).get)(o,"count")||0,content:a}},shouldComponentUpdate:function(e,t){var a=this;return(0,n(11).get)(a.state.content,"uuid")!==(0,n(11).get)(t.content,"uuid")||a.state.commentsCount!==t.commentsCount},getArticleFirstTag:function(){return this.processMagazineTags()},processMagazineTags:function(){var e=this,t=e.routeStore.getCurrentRoute()||{},a=p.default.getContentSite(t,e.context),o=(0,n(11).get)(this.state.content,"tags")||[],s=(0,n(11).size)(o);if(0!==s&&"fp"!==a){for(var i="",r="",l=0;l<s;l++)if(r=o[l]||o.get(l),"_"!==r.charAt(0)){i=r;break}var d=(0,n(11).get)(e.state.content,"tagsInfo")||{},u=i;(0,n(11).get)(d,"id")===i&&(u=(0,n(11).get)(d,"name"));var c=p.default.getContextSite(e.context),f="fp"===c?"/"+a:"";return{name:u.trim(),href:f+"/tagged/"+i}}},processEntities:function(){var e=(0,n(11).get)(this.state.content,"entities")||[],t=(0,n(11).size)(e);if(0!==t){var a,o,s="",i="";for(a=0;a<t&&(o=e[a]||e.get(a),s=(0,n(11).get)(o,"label"),i=(0,n(11).get)(o,"term"),!s||!i);a++);var r=i&&i.split(":");if(r&&2===r.length){var l,d=r[0],u=r[1];return l="YCT"===d?"/category/"+encodeURIComponent(s)+"-"+u:"/topic/"+u,{name:s,href:l}}}},render:function(){var e=this,t=e.state.content?(0,n(11).get)(e.state.content,"contentType"):null;if(!t||!e.config.enable||!e.props.typeWhitelist[t])return null;var a=e.getArticleFirstTag();return a&&a.href&&a.name?r.default.createElement("div",{className:(0,c.default)("canvas-tag Bdbc($fg-link) Fz(15px) Fw(b) C($fg-link) Pb(15px)",{"Bdbs(s) Bdw(1px)":e.config.enableBottomBorder},e.props.className)},e.renderLeadTag(a),e.renderCommentsLink()):null},renderLeadTag:function(e){var t=e;if(t.href&&t.name)return r.default.createElement("div",{className:(0,c.default)({"Ell Pend(80px)":this._shouldRenderCommentsLink()})},r.default.createElement(i.default,{className:"C($fg-link) Tt(c)",href:t.href,stopPropagation:!0,followLink:this.props.followLink},t.name))},_shouldRenderCommentsLink:function(){var e=this;return!(0,n(11).get)(e.state.content,"hideComments")&&e.config.enableCommentsLink},renderCommentsLink:function(){var e=this;return e._shouldRenderCommentsLink()?r.default.createElement("div",{className:"comments-link Fl(end) Pos(r) T(-20px) lightweight_D(n)",onClick:e._commentsLinkClickHandler},e.renderCommentsCount(),r.default.createElement(n(19).Icon,{asset:s.default,className:"Fill($fg-link)! Stk($fg-link)!",height:22,style:{verticalAlign:"initial"},width:22})):null},renderCommentsCount:function(){var e=this;return e.state.commentsCount?r.default.createElement("span",{className:"count-label D(ib) Va(t) Pend(8px)"},e.state.commentsCount):null},_getScrollTop:function(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},_commentsLinkClickHandler:function(){var e=this;if(e.props.scrollTargetClass){var t=document.getElementsByClassName(e.props.scrollTargetClass)||[],a=(0,n(11).get)(e.state.content,"uuid");if(t[0]){var o=t[0].getBoundingClientRect().bottom,s=e._getScrollTop()+o-80;(0,u.default)(s,null,null,function(){e.executeAction(d.default,{context:a,instanceId:"canvass-"+a})})}}}}),e.exports=t.default},2445:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=a(n(1)),r=a(n(4)),l=a(n(0)),d=a(n(3194)),u=a(n(3195)),c=a(n(2141)),p=a(n(3196)),f=a(n(3197)),h=a(n(3199)),m=a(n(3200)),g=a(n(2446)),v=a(n(2672)),b=a(n(2673)),C=a(n(311)),y=a(n(5)),x=a(n(62)),S=a(n(1227)),w=a(n(2671)),I=a(n(2068)),_=a(n(12)),M=(0,n(14).createI13nNode)("div",{scanLinks:{enable:!0,tags:["a"]}});t.default=(0,r.default)({displayName:"CommonBody",contextTypes:{canvasConfig:l.default.object,getStore:l.default.func.isRequired,renderTarget:l.default.object,session:l.default.object},propTypes:{ads:w.default.list,body:l.default.array.isRequired,bodyClasses:l.default.string,contactDetails:l.default.string,cover:l.default.object,device:l.default.string,enableLiveCoverage:l.default.bool,enableReadMore:l.default.bool,enableVideoAutoPlay:l.default.bool,enableVideoEarlyInit:l.default.bool,enableVideoLazyLoad:l.default.bool,enableVideoManager:l.default.bool,enableVideoMicrodata:l.default.bool,geminiLimit:l.default.number,geminiStart:l.default.number,hideFirstImage:l.default.bool,imageCharCount:l.default.number,imageDimensions:l.default.array,isCurrentRenderTarget:l.default.bool,minCharsBelowReadMore:l.default.number,onImageClick:l.default.func,readMoreCharLimit:l.default.number,storylinePosition:l.default.number,uuid:l.default.string.isRequired,videoGeminiSectionId:l.default.number,yahooVideoIframe:l.default.shape({enabled:l.default.bool})},mixins:[I.default,_.default],getDefaultProps:function(){return{bodyClasses:"Fz(15px) Lh(1.6)",bodySlotConfig:null,bodyAdsSlotConfig:null,ctopic:"",device:"desktop",enableLiveCoverage:!1,enableReadMore:!0,enableVideoManager:!1,enableVideoMicrodata:!1,isCurrentRenderTarget:!0,geminiLimit:3,geminiStart:2e3,hideFirstImage:!1,imageCharCount:1e3,imageDimensions:[],maxWidth:600,minCharsBelowReadMore:500,readMoreCharLimit:4250,storylinePosition:0,videoGeminiSectionId:null,yahooVideoIframe:{}}},getInitialState:function(){var e=this.props.body;return this.props.ads&&this.props.ads.size&&(e=this._blendAdsWithBody(e,this.props.ads)),e=this._blendBodySlot(e,this.props.bodySlotConfig),e=this._blendBodySlot(e,this.props.bodyAdsSlotConfig),e&&this.context&&this.context.canvasConfig&&this.context.canvasConfig.dockFirstIframe&&e.some(function(e){if(e&&"iframe"===e.type)return e.isFirstIframe=!0,!0}),{body:e,expandReadMore:!this.props.enableReadMore}},componentWillReceiveProps:function(e){!e.ads||!e.ads.size||this.props.ads&&e.ads.size===this.props.ads.size||this.setState({body:this._blendAdsWithBody(e.body,e.ads)}),e.bodySlotConfig!==this.props.bodySlotConfig&&this.setState({body:this._blendBodySlot(e.body,e.bodySlotConfig)}),e.bodyAdsSlotConfig!==this.props.bodyAdsSlotConfig&&this.setState({body:this._blendBodySlot(e.body,e.bodyAdsSlotConfig)})},_blendAdsWithBody:function(e,t){if(!e)return null;for(var n,a=0,o=t&&t.size?this.props.geminiStart:0,s=0,i=[],r="",l=0,d=e.length;l<d;l++){var u=e[l];u.index=l,i.push(u),a+=this._getParagraphCharCount(u),0!==o&&s<t.size&&o<=a&&s<this.props.geminiLimit&&"image"!==u.type&&"image"!==r&&(n=t.get(s),n.index=d+s,i.push(n),s++,o=a+this.props.geminiFrequency),r=u.type}return i},_blendBodySlot:function(e,t){if(!e||0===e.length)return null;if(!t)return e;var n=t.position-1,a=[],o=!1,s={type:"slot",component:t.component,props:t.props},i="image"===e[0].type,r=!1;if(!n||n<2)return e;i&&(n+=2);for(var l=0,d=e.length;l<d;l++){var u=r&&this._getParagraphCharCount(e[l])<100;!o&&l>=n&&!u&&(s.index=l,a.push(s),o=!0);var c=e[l];c.index=o?l+1:l,a.push(c),r="image"===c.type}return o||a.push(s),a},renderContactDetails:function(){if(this.props.contactDetails){var e='<div style="padding-bottom: 15px;font-weight: 600">Contact:</div>';return e+=this.props.contactDetails,i.default.createElement("p",{dangerouslySetInnerHTML:{__html:e},key:"contact-details",className:"canvas-text Mb(1.0em) Mb(0)--sm Mt(0.8em)--sm","data-type":"text"})}return null},_renderParagraphs:function(e){var t={visibleAboveReadMore:[],hiddenBelowReadMore:[]};if(!e||0===e.length)return t;for(var n,a=0,o=this.props.readMoreCharLimit,s=0,i=this.renderContactDetails(),r=0,l=e.length;r<l;r++){var d=e[r];if(0!==r||!this.props.hideFirstImage){if(d.isTracking)continue;n=this._renderParagraphByType(d,r),a>o?(t.hiddenBelowReadMore.push(n),s+=this._getParagraphCharCount(d)):t.visibleAboveReadMore.push(n),a+=this._getParagraphCharCount(d)}}return t.hiddenBelowReadMore.length>0&&s<this.props.minCharsBelowReadMore&&(t.visibleAboveReadMore=t.visibleAboveReadMore.concat(t.hiddenBelowReadMore),t.hiddenBelowReadMore=[]),i&&(t.hiddenBelowReadMore.length>0?t.hiddenBelowReadMore.push(i):t.visibleAboveReadMore.push(i)),t},_renderParagraphByType:function(e,t){var a=this.props,r=a.uuid,l=a.device,v=a.adsMessages,C=void 0===v?null:v,x=a.enableGeminiFeedback,S=void 0===x?null:x,w=a.enableGraphiq,I=a.imageDimensions,_=a.enableTextWrap,M=a.onImageClick,P=a.enableInstagram,E=a.enableLiveCoverage,T=a.isCurrentRenderTarget,N=a.liveCoverageEventId,k=a.yahooVideoIframe,L=void 0===k?{}:k,A={},O=e.type||(0,n(11).get)(e,"type"),B=0===t,D=this.shouldMuteVideo(B),R=this.context.canvasConfig||{},j="span",V=void 0,F=!1;switch(O){case"ad":j=n(1205).Controller,A.adsMessages=C,A.enableFeedback=S,A.data=e,A.type="admarkup";break;case"blockquote":j=d.default;break;case"embed":j=u.default;break;case"graphiq":j=n(1214).Graphiq,A.enabled=w,A.id=e.index||t,A.lazyLoad=!B;break;case"iframe":this.shouldDockIframe(e)?(j=n(1214).DockedOnViewportExitIframeAtom,R.dockFirstIframeAnchor&&(A.fixedXAnchor=R.dockFirstIframeAnchor),R.dockFirstIframeClass&&(A.dockingClassName=R.dockFirstIframeClass)):j=n(1214).IframeAtom,V="Mt(14px)--sm Mb(0)--sm",A.placeholderClasses=(0,y.default)("Mb(12px)",{"Mt(12px)":!B}),A.lazyLoad=this.shouldLazyLoadIframe(B),A.customVideoControls={mute:D};break;case"image":A.lazyLoad=!0,A.dimensions=I,A.enableTextWrap=_&&e.alignleft,V=A.enableTextWrap?"Fl(start) Pend(20px) My(5px) smartphone_My(18px)":"My(24px) My(20px)--sm",A.onClick=M,j=c.default;break;case"instagram":j=n(1214).Instagram,A.enabled=P,A.id=e.index||t,A.lazyLoad=!B,A.instagramUrl=e.instagramUrl||"";break;case"list":j=p.default;break;case"partnerEmbed":j=e.tagName||"div",V="canvas-partner-embed ",e.attribs&&e.attribs.class&&(V+=e.attribs.class),A.dangerouslySetInnerHTML={__html:e.content},F=!0;break;case"scribble":j=f.default,A.enableIframe=!E||!N,A.compositeId=r+"-livecoverage","smartphone"===l&&(A.disablePlaceholderAfterLoad=!0);break;case"slot":j=e.component,Object.assign(A,e.props);break;case"table":j=h.default;break;case"text":j="div"===e.tagName?"p":e.tagName||"p",V="canvas-text Mb(1.0em) Mb(0)--sm Mt(0.8em)--sm",A.dangerouslySetInnerHTML={__html:e.content},F=!0;break;case"tweet":V="Ov(a) W(100%)",j=n(1214).Tweet;break;case"video":j=m.default,A.rapidConfig={pageParams:{pstaid_p:r}};break;case"videoIframe":j=b.default,V="Mt(14px)--sm Mb(0)--sm";break;case"yvideo":L.enabled?(j=b.default,A.url=this.getIframeSrc(e),A.width=e.width,A.height=e.height,A.ratio=e.ratio,A.allowFullScreen=!0):(j=g.default,A=this.getYahooVideoProps({config:{logoOverlay:R.logoOverlay,videoFallbackChannel:R.videoFallbackChannel,videoExpType:R.videoExpType},videoContent:e,isFirst:B}))}var H=e.index,z=e.length,W=e.tagName,U=o(e,["index","length","tagName"]),q=s({},A,{className:(0,y.default)("canvas-atom",V),key:H||t},U);return"yvideo"===O&&(q.mute=this.shouldMuteVideo(B),q.autoplay=this.shouldAutoplayVideo(B),q.isCurrentRenderTarget=T),F?i.default.createElement(j,q):i.default.createElement(j,s({},q,{"data-type":O,device:l,index:H,length:z,tagName:W}))},shouldLazyLoadIframe:function(e){var t=this.context.canvasConfig||{};return!(!e||!t.lazyLoadFirstIframe)||!(e&&this.context.renderTarget.isActive())},shouldDockIframe:function(e){var t=this.context.canvasConfig||{},n=e&&e.url||"";if(e.isFirstIframe&&t.dockFirstIframe&&t.dockFirstIframeDomains)for(var a=0;a<t.dockFirstIframeDomains.length;a++){var o=t.dockFirstIframeDomains[a];if(0===n.indexOf("https://"+o+"/")||0===n.indexOf("//"+o+"/"))return!0}return!1},getIframeSrc:function(e){if(!e)return null;if(e.url)return e.url;if(e.alias){var t="";return"fp"===x.default.getContextSite(this.context)&&(t="/"+x.default.getContentSite(this.props.route,this.context)),t+"/video/"+e.alias+".html?format=embed&mode=simpletron"}return null},_getParagraphCharCount:function(e){switch(e.type){case"blockquote":case"embed":case"text":case"tweet":return e.length||0;case"iframe":return 0;case"image":return((0,S.default)(e.size,this.props.imageDimensions)||{}).height||this.props.imageCharCount;case"video":case"yvideo":return 0}return 0},showHiddenBelowReadMore:function(){var e=this;e.setState({expandReadMore:!0}),setTimeout(function(){e.executeAction(C.default,{source:"ReadMore"})},500)},renderReadMore:function(e){return this.state.expandReadMore||0===e.length?i.default.createElement("div",null):i.default.createElement(v.default,{uuid:this.props.uuid,onClick:this.showHiddenBelowReadMore})},renderBelowReadMore:function(e){if(0===e.length)return null;var t=(0,y.default)("Ov(h) Trs($transition-readmore)",{"Mah(999999px)":this.state.expandReadMore,"Mah(0)":!this.state.expandReadMore});return i.default.createElement("div",{className:t},e)},render:function(){if(!this.state.body)return null;var e=this._renderParagraphs(this.state.body),t=e.hiddenBelowReadMore,n=(0,y.default)("canvas-body Wow(bw) Cl(start) Mb(20px)",this.props.bodyClasses,{"D(i)":this.props.enableTextWrap});return i.default.createElement(M,{className:n,i13nModel:{sec:"content-canvas",elm:"context_link",itc:0}},e.visibleAboveReadMore,this.renderReadMore(t),this.renderBelowReadMore(t))}}),e.exports=t.default},2446:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(1221)),l=a(n(2));t.default=(0,s.default)({displayName:"YahooVideo",propTypes:{aliases:i.default.object,autoplay:i.default.bool,dimensions:i.default.object,enableAd:i.default.bool,enableVideoDocking:i.default.bool,enableVideoMicrodata:i.default.bool,expName:i.default.string,expType:i.default.string,isCurrentRenderTarget:i.default.bool,mute:i.default.bool,placeholderProps:i.default.object,playerGroups:i.default.array,videoRecommendations:i.default.bool,videoGeminiSectionId:i.default.number,vpConfigOverrides:i.default.object,yvpConfig:i.default.object},getDefaultProps:function(){return{autoplay:!1,enableAd:!0,enableVideoDocking:!1,enableVideoMicrodata:!1,expName:null,expType:null,isCurrentRenderTarget:!0,logoOverlay:"bottomRight",mute:!1,placeholderProps:{lazyLoad:!0,viewport:{margins:{usePercent:!1,top:0,bottom:0},bottomBoundary:1/0}},playerGroups:[],videoGeminiSectionId:null,videoRecommendations:!0}},getState:function(e){return{videoId:(0,l.default)(e,["aliases","video"])||(0,l.default)(e,["yvpConfig","playlist","mediaItems","0","id"])}},getInitialState:function(){return this.getState(this.props)},componentWillReceiveProps:function(e){this.setState(this.getState(e))},shouldComponentUpdate:function(e,t){return t.videoId!==this.state.videoId},renderVideo:function(e){var t=o.default.createElement("div",{className:"canvas-yahoovideo Mb(24px) Mb(22px)--sm"},o.default.createElement(r.default,e));return e.isCurrentRenderTarget?t:o.default.createElement(n(1214).Placeholder,this.props.placeholderProps,t)},render:function(){if(!this.state.videoId&&!(0,l.default)(this.props,["aliases","channel"]))return null;var e={autoplay:this.props.autoplay,cTopic:this.props.ctopic,dimensions:this.props.dimensions,enableAd:this.props.enableAd,expName:this.props.expName,expType:this.props.expType,geminiSectionId:this.props.videoGeminiSectionId,enableLazy:this.props.enableLazy,enableMicrodata:this.props.enableVideoMicrodata,enableNavTimers:this.props.enableNavTimers,isCurrentRenderTarget:this.props.isCurrentRenderTarget,logoOverlay:this.props.logoOverlay,mute:this.props.mute,playerGroups:this.props.playerGroups,startscreen:{showProvider:!1},useAppDocking:this.props.enableVideoDocking,videoOnly:!0,videoRecommendations:this.props.videoRecommendations,vpConfigOverrides:this.props.vpConfigOverrides};return this.props.aliases?(e.videoAlias=this.props.aliases.video,e.channelAlias=this.props.aliases.channel||this.props.channelAlias,e.videoOnly=!1,e.hidePlaylist=!0):(e.videoId=this.state.videoId,e.channelAlias=this.props.channelAlias,e.hidePlaylist=!0,e.videoOnly=!1),this.props.enableVideoEarlyInit&&this.props.videoId&&(e.moduleId=(0,n(2069).getVideoModuleId)(this.props.videoId),e.renderOnServer=!0,e.detachable=!1,e.preReactPlayerInit=!0,e.mediaItem={id:this.props.videoId}),this.props.spaceid&&(e.spaceid=this.props.spaceid),this.props.rapidConfig&&(e.rapidConfig=this.props.rapidConfig),this.renderVideo(e)}}),e.exports=t.default},2447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e.body&&!e.markup)return Error("Either body or markup is required in "+n)},e.exports=t.default},2448:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=a(n(1)),i=a(n(4)),r=a(n(496)),l=a(n(1868)),d=a(n(5)),u=a(n(110)),c=a(n(12)),p=a(n(2)),f=a(n(1222)),h=a(n(1230)),m=a(n(1666)),g=a(n(1237)),v=a(n(520)),b=a(n(1489)),C=a(n(1869)),y=a(n(2071)),x=a(n(1218)),S=a(n(1902)),w=a(n(149)),I=a(n(29)),_=a(n(2455)),M=a(n(2456)),P="hero-slideshow-",E="undefined"!=typeof window?window:null,T=(0,i.default)({displayName:"HeroSlideshow",autobind:!1,mixins:[c.default,w.default,y.default],statics:{storeListeners:[u.default,b.default,x.default],componentConfig:{name:"componentHeroSlideshow"}},contextTypes:{beacon:o.default.func,renderTarget:o.default.object},propTypes:{},getDefaultProps:function(){return{adRefreshPositions:["LREC-2"]}},getInitialState:function(){var e=this;e.config=e.props.componentConfig||{},e.contentStore=e.getStore(u.default),e.dimensions=e.config.imageDimensions||[],e.nativeAdStore=e.getStore(x.default),e.slideShowStore=e.getStore(b.default),e.visitedAdIndex=[],e.isLoadingMore=!1,e.nativeAds=null,e.nativeAdDimension=e.config.nativeAdDimension||[];var t=e._updateData();return e.originalStartInex=t.startIndex||0,{items:t.items,currentUuid:t.uuid,total:t.total||t.items&&t.items.length||0,currentRelativeLink:null,startIndex:t.startIndex,currentIndex:t.startIndex}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this._handleContainerClick=this._handleContainerClick.bind(this)},_loadNativeAd:function(e){var t=(0,p.default)(this.props,["componentConfig","enableInterstitialAd"],!1),n=P+this.state.currentUuid;this.state.items&&t&&(e=e||Math.ceil(this.state.items.length/this.config.interstitialAdInterval)+1,this.executeAction(f.default,{id:n,dimensions:this.nativeAdDimension,count:e}))},componentDidMount:function(){if(this._isRenderTargetActive()){var e=new g.default;this._history=e._hasPushState?e:null,this.refs.heroSlideshow&&this.refs.heroSlideshow.getFocused(function(){E&&E.scrollTo(0,0)}),this._loadMore(),this._loadNativeAd()}},componentDidUpdate:function(e,t){this._isRenderTargetActive()&&t.currentUuid!==this.state.currentUuid&&this.refs.heroSlideshow&&(this.refs.heroSlideshow.getFocused(function(){E&&E.scrollTo(0,0)}),this.visitedAdIndex=[],this.isLoadingMore=!1,this.nativeAds=null,this._loadNativeAd())},_loadMore:function(){var e=this.state;if(e.items&&!this.isLoadingMore){var t=e.items.length,n=e.total,a=e.currentIndex,o=(0,p.default)(e,["items",t-1,"originalIndex"],0);t-a<this.config.loadMoreBuffer&&n-1>o&&(this.isLoadingMore=!0,this.executeAction(S.default,{uuid:e.currentUuid,start:o+1,count:this.config.loadMoreCount}))}},onChange:function(e){var t=this,a=t.config;if(a.updateInPrerender||this._isRenderTargetActive()){var o={},s=t._updateData();if(s)return s.loadedMore&&t._loadNativeAd(Math.ceil(a.loadMoreCount/a.interstitialAdInterval)+1),o={items:s.items,currentUuid:s.uuid,total:s.total||s.items&&s.items.length||0,currentIndex:s.startIndex,startIndex:s.startIndex},void t.setState(o);var i=P+t.state.currentUuid,r=!1,l=t.state.items;if(l){if(e.nativeAd===i){var d=(0,n(11).toJS)(t.nativeAdStore.popAds(P+t.state.currentUuid)||[]);0!==d.length&&(t.nativeAds=d)}var u=t.slideShowStore.getCurrentIndex(i),c=t.slideShowStore.getDisplayIndex(i),p=t.state.currentIndex,f=u!==c;if(e&&i===e){0===u&&p===l.length-1&&(o.startIndex=0,t.originalStartInex=0,t._loadNativeAd());var h=t.state.items[u];if(u!==p){var m=h.relativeLink;o.currentIndex=u,r=!0,t._history&&m&&t.state.currentRelativeLink!==m&&(o.currentRelativeLink=m,t._history.replaceState(null,null,m)),"gemini"!==h.type&&(t._firePageViewBeacon(),t._refreshAd())}if(!f){if(t.visitedAdIndex.length>0&&-1===t.visitedAdIndex.indexOf(u)){var g=(0,n(1552).removeItemsFromArr)(l,t.visitedAdIndex,u);o.items=g.list,o.currentIndex=g.updatedIndex,o.startIndex=g.updatedIndex,t.visitedAdIndex=[],r=!0}"gemini"!==h.type&&t._loadMore()}}if(t.nativeAds){var v=(0,n(1552).blendInNativeAds)(l,t.nativeAds,t.originalStartInex,t.state.currentIndex,a.interstitialAdStart,a.interstitialAdInterval,t.nativeAdDimension);v&&(o.items=v,o.currentIndex=u,o.startIndex=u,r=!0),t.nativeAds=null}r&&t.setState(o)}}},_handleContainerClick:function(e,t){this.refs.heroSlideshow&&this.refs.heroSlideshow.getFocused()},_isRenderTargetActive:function(){var e=this.context.renderTarget;return!!e&&e.isActive()},_transformImages:function(e,t){var a=this;e=e||[];var o=0;return{items:e.map(function(e,s){var i;return a.relativeLink&&e.alias&&(i=a.relativeLink+"/"+(t?"photo-":"")+e.alias.replace("ymedia-alias:photo=","")+".html",e.alias===a.initialPhotoAlias&&(o=s)),{type:"image",originalIndex:s,headline:e.headline,caption:e.caption,description:e.description,alias:e.alias,credit:e.credit,relativeLink:i,images:{regular:{url:(0,n(1552).getResizedImage)(e.size,a.dimensions).url}}}}),startIndex:o}},_updateData:function(){var e,t=this,a=t.context.renderTarget||{},o=t.contentStore.getCurrentContent(a.id)||{},s=t.state&&t.state.currentUuid,i=(0,n(11).get)(o,"uuid"),r=(0,n(11).getIn)(o,["cover","photos"]),l=r?(0,n(11).size)(r):0,d=parseInt((0,n(11).get)(o,"total")||0),u=t.routeStore.getCurrentRoute()||{},c=(0,p.default)(u,["params","type"]),f=!1;if(s===i&&t.lastSize===l)return null;if(s===i&&t.lastSize!==l&&(f=!0),t.lastSize=l,t.isLoadingMore=!1,s!==i){var m,g=(0,p.default)(u,["params","photoAlias"],"");try{if(u.url){m=I.default.parse(u.url,!1).pathname;var v=new RegExp((g?"(/)?(photo-)?"+(0,h.default)(g):"")+"(.html)?(/)?$");t.relativeLink=m.replace(v,"")}t.initialPhotoAlias="ymedia-alias:photo="+decodeURIComponent(g)}catch(e){t.relativeLink=void 0,t.initialPhotoAlias=void 0;var b=t.context;b&&b.beacon&&b.beacon("error","td-app-yahoo",{code:"malformedSSUrl"})}}if("slideshow"!==(0,n(11).get)(o,"contentType")||!r)return{items:null,uuid:i};var C=!("photos"===c||"ss"===c||"foto"===c||"fotos"===c),y=t._transformImages((0,n(11).toJS)(r),C);return e=s===i?t.state.currentIndex:y.startIndex,{items:y.items,total:d,uuid:i,loadedMore:f,startIndex:e}},shouldComponentUpdate:function(e,t){return this.state.currentUuid!==t.currentUuid||this.state.currentIndex!==t.currentIndex||this.state.items!==t.items},render:function(){var e=this,t=e.config,n=t.followLinkOnNav,a=t.enableTouch,o=t.isSmartphone,i=t.useFixedHeight,r=t.looping,u=P+e.state.currentUuid,c=e.state.items||[];if(0===c.length)return null;var f=t.theme||"dark",h=_.default[f]||{},g=t.layoutStyle||"default",v=M.default[g]||{},b=e.state.currentIndex,C=c[b],y="gemini"===C.type;y&&-1===e.visitedAdIndex.indexOf(b)&&e.visitedAdIndex.push(b);var x;i&&(x=o?300:460);var S={sec:"sshow",elm:"btn",outcm:"ct",g:this.state.currentUuid,itc:0},w={};w.next=Object.assign(S,{slk:"next"}),w.prev=Object.assign(S,{slk:"previous"});var I=(0,d.default)("Pos(r) H(300px)--sm W(100%) H(576px)--ipad","ie-7_H(100%) ie-7_Ov(h)",v.containerClasses,h.containerClasses),E=!o&&h.slideshowPadding,T=(0,d.default)("Pos(a) H(100%) P(0)--sm Bxz(bb) Bgc(#131314)",E,v.slideshowContainerClasses),k=(0,d.default)((0,p.default)(h,["navigationClasses","button"],""),(0,p.default)(v,["navigationClasses","button"],"")),L=(0,p.default)(h,["navigationClasses","iconColor"],""),A=(0,p.default)(h,["navigationClasses","activeBackgroundClasses"],""),O=(0,p.default)(h,["navigationClasses","activeBackgroundClasses"],""),B=(0,d.default)(k,{"Start(20px)":!o,"Start(0)":o}),D=(0,d.default)(k,{"End(20px)":!o,"End(0)":o});return s.default.createElement("div",{id:e.props.id,ref:"heroSlideshowContainer",onClick:e._handleContainerClick,className:I},s.default.createElement("div",{className:v.slideshowLayoutClasses},s.default.createElement("div",{className:T},s.default.createElement(l.default,{id:u,buffer:e.config.buffer,className:"H(100%)",ref:"heroSlideshow",items:c,fixedHeight:x,enableKeyboard:!0,enableTouch:a,enableNavButton:!1,onSlideshowChange:e._onSlideshowChange,startIndex:e.state.startIndex||0,looping:r,animate:e.config.animate}),s.default.createElement(m.default,{slideshowId:u,items:c,startIndex:e.state.startIndex||0,buttonType:"prev",iconColor:L,iconHeight:"25",className:B,activeBackgroudClass:A,inactiveBackgroudClass:O,followLinkOnNav:n,ylk:w.prev}),s.default.createElement(m.default,{slideshowId:u,items:c,startIndex:e.state.startIndex||0,buttonType:"next",iconColor:L,iconHeight:"25",activeBackgroudClass:A,inactiveBackgroudClass:O,className:D,followLinkOnNav:n,ylk:w.next}))),s.default.createElement("div",{className:(0,d.default)(v.sidebarContainerClasses,"Bxz(bb)")},s.default.createElement(N,{isAd:y,items:c,slideshowId:u,startIndex:e.state.startIndex,theme:h,layoutStyle:v,total:e.state.total})))}}),N=(0,i.default)({displayName:"HeroSlideshowSidebar",autobind:!1,propTypes:{isAd:o.default.bool,items:o.default.array,layoutStyle:o.default.object,slideshowId:o.default.string,startIndex:o.default.number,theme:o.default.object,total:o.default.number},getDefaultProps:function(){return{isAd:!1,items:[],slideshowId:"",startIndex:0,theme:{},total:0}},render:function(){var e,t=this,n=t.props.items,a=t.props.total,o=t.props.theme,i=t.props.layoutStyle,l=o.sidebarCoverStyles,u=l&&l.upperCoverStyle,c=l&&l.lowerCoverStyle;e=(0,p.default)(this.props,["componentConfig","enableCacheableAd"],!1)?{cacheable:!0}:{supports:{"exp-ovr":0,"exp-push":0},skipCollapseOnNoAd:1};var f=o&&o.slideshowDescriptionClasses||{},h=i&&i.slideshowDescriptionClasses||{},m=(0,d.default)(f.description,h.description),g=(0,d.default)(f.indicator,h.indicator),b=(0,p.default)(o,["scrollerStyles","barBgc"],""),y=(0,p.default)(o,["scrollerStyles","indicatorBgc"],"");return s.default.createElement("div",{className:"hero-slideshow-right Pos(r) W(100%) H(100%) Z(1) "+i.slideshowDescriptionCover},s.default.createElement("div",{className:"Pos(r) W(100%) H(100%)"},s.default.createElement("div",{className:"top-overlay Pos(a) H(5px) T(0) W(100%) Z(2)",style:u}),s.default.createElement("div",{className:"Pos(r) W(100%) Ovy(a) H(100%) Bxz(bb) Bdstartw(0) Bdendw(0) Bdtw(0) Bdbw(265px) Bdtc(t) Bdbc(t) Bdbs(s) Bds(s) Bdc(t)"},s.default.createElement(v.default,{barBgc:b,indicatorW:"8px",indicatorBgc:y},s.default.createElement(C.default,{slideshowId:t.props.slideshowId,items:n,startIndex:t.props.startIndex||0,className:m,total:a,indicatorPos:"TOP",indicatorClassName:g,enableExtending:!1,enableIndicator:!0}))),s.default.createElement("div",{className:"bottom-overlay Pos(a) H(10px) B(265px) W(100%) Z(1)",style:c}),s.default.createElement("div",{className:(0,d.default)("Pos(a) Start(0) B(0)",{"D(n)":t.props.isAd})},s.default.createElement(r.default,{pos:"LREC-2",config:e}))))}});t.default=T,e.exports=t.default},2449:function(e,t){if(void 0===n)var n={};n.replay={name:"replay",height:48,width:48,path:"M24.223 12.827H19.12l4.17-3.85c.813-.75.863-2.015.114-2.826-.748-.81-2.013-.86-2.826-.112l-9.453 8.727 9.453 8.727c.385.355.87.53 1.355.53.54 0 1.076-.216 1.47-.644.75-.812.7-2.077-.112-2.826l-4.033-3.724h4.966c6.528 0 11.84 5.312 11.84 11.84s-5.312 11.84-11.84 11.84-11.84-5.312-11.84-11.84v-2h-4v2c0 8.734 7.105 15.84 15.84 15.84s15.84-7.105 15.84-15.84-7.106-15.84-15.84-15.84z"},void 0!==e&&e.exports&&(e.exports=n.replay)},2450:function(e,t,n){"use strict";function a(e,t,n){var a=t||{};s("dispatch",a),e.dispatch("SET_SLIDESHOW",a),n&&n()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),s=(0,o.default)("Slideshow:setSlideshow");e.exports=t.default},2451:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=a(n(1)),i=a(n(1903)),r=a(n(2452)),l={image:i.default,gemini:r.default};t.default={renderedComponents:null,propTypes:{componentClasses:o.default.object},getDefaultProps:function(){return{componentClasses:{}}},renderComponents:function(e,t){var n,a=Object.assign(l,this.defaultComponentClasses,this.props.componentClasses),o=[];return e=e||[],t=t||{},e.forEach(function(e,i){(n=a[e.type])&&o.push(s.default.createElement(n,Object.assign({key:i},e,t)))}),this.renderedComponents=o,o}},e.exports=t.default},2452:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(0)),i=a(n(4)),r=a(n(1903));t.default=(0,i.default)({displayName:"NativeAdItem",autobind:!1,propTypes:{adData:s.default.object},type:"gemini",render:function(){return o.default.createElement("div",{className:"H(100%) W(100%)"},o.default.createElement(r.default,this.props),o.default.createElement(n(1205).Controls.PrimaryLink,{data:this.props.adData},o.default.createElement("u",{className:"StretchedBox Z(1)"})))}}),e.exports=t.default},2453:function(e,t,n){"use strict";function a(e,t,n){t=t||{};var a={id:t.id,currentIndex:t.currentIndex};i("dispatch",a),e.dispatch("SET_SLIDESHOW_CURRENT_INDEX",a),n&&n()}function o(e,t,n){t=t||{};var a={id:t.id,displayIndex:t.displayIndex};i("dispatch",a),e.dispatch("SET_SLIDESHOW_DISPLAY_INDEX",a),n&&n()}Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentIndex=a,t.setDisplayIndex=o;var s=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i=(0,s.default)("Slideshow:setIndex")},2454:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2)),s=a(n(39)),i=a(n(0)),r=a(n(1)),l=a(n(4)),d=a(n(491));t.default=(0,l.default)({displayName:"NativeAdDescription",autobind:!1,mixins:[s.default],propTypes:{data:i.default.object},getDefaultProps:function(){return{data:{}}},render:function(){var e=this.props,t=e.data.adChoicesUrl||e.config&&(0,o.default)(e.config,["ads","adchoices_url"])||"https://info.yahoo.com/privacy/us/yahoo/relevantads.html",a=e.config&&(0,o.default)(e.config,["ads","sponsored_url"])||"https://help.yahoo.com/kb/homepage/SLN14553.html?impressions=true";return r.default.createElement("div",{className:e.className},r.default.createElement("div",{className:"Pos(r)"},r.default.createElement(n(1205).Controls.PrimaryLink,{className:"StretchedBox Z(1)",data:e.data}),r.default.createElement(n(1205).Controls.Headline,{className:"Fw(b) Mb(4px)",data:e.data}),r.default.createElement(n(1205).Controls.Summary,{data:e.data})),r.default.createElement("p",{className:"Fz(13px) Mt(4px)"},r.default.createElement(n(1205).Controls.Publisher,{target:"_blank",data:e.data}),r.default.createElement(n(14).I13nAnchor,{href:a,className:"Mx(4px)",target:"_blank"},r.default.createElement(n(31).FormattedMessage,{id:"SPONSORED",defaultMessage:"Sponsored"})),r.default.createElement(n(14).I13nAnchor,{href:t,className:"C(#999)",target:"_blank"},r.default.createElement(n(19).Icon,{asset:d.default,color:"#999",height:15}))))}}),e.exports=t.default},2455:function(e,t){e.exports={dark:{containerClasses:"Bgc($c-fuji-grey-l)",navigationClasses:{activeBackgroundClasses:"Bgc(#fff) Bgc(#fff.5) Bgc(#fff.65):h",button:"P(0) Bdw(0) O(n):f",iconColor:"#000",inactiveBackgroundClasses:"Bgc(#fff.2) ie-7_Bgc(#343434) Cur(d)"},slideshowDescriptionClasses:{description:"hero-slideshow-description Lh(1.4) Fz(14px) Lts(.02em) C(#fff)",indicator:"C(#fff) Fz(18px)"},sidebarCoverStyles:{upperCoverStyle:{background:"linear-gradient(to bottom, rgba(38,40,42,1) 0%, rgba(38,40,42,0) 100%)"},lowerCoverStyle:{background:"linear-gradient(to bottom, rgba(38,40,42,0) 0%, rgba(38,40,42,1) 100%)"}},slideshowPadding:"Py(20px)",scrollerStyles:{barBgc:"#26282a",indicatorBgc:"rgba(255, 255, 255, 0.3)"}},light:{containerClasses:"Bgc($c-fuji-grey-b)",navigationClasses:{activeBackgroundClasses:"Bgc(#121213) Bgc(#121213.8) Bgc(#000.65):h",button:"P(0) Bdw(0) Bdrs(50%) O(n):f",iconColor:"#fff",inactiveBackgroundClasses:"Bgc(#000.2) ie-7_Bgc(#343434) Cur(d)"},slideshowDescriptionClasses:{description:"hero-slideshow-description Lh(1.4) Fz(14px) Lts(.02em) C($c-fuji-grey-l)",indicator:"C($c-fuji-grey-l) Fz(15px) Fs(i) Ff(s)"},sidebarCoverStyles:{upperCoverStyle:{background:"linear-gradient(to bottom, rgba(242, 242, 246,1) 0%, rgba(242, 242, 246,0) 100%)"},lowerCoverStyle:{background:"linear-gradient(to bottom, rgba(242, 242, 246,0) 0%, rgba(242, 242, 246,1) 100%)"}},slideshowPadding:"Py(0)",scrollerStyles:{barBgc:"#f2f2f5",indicatorBgc:"rgb(213, 214, 219)"}}}},2456:function(e,t){e.exports={default:{containerClasses:"Mih(500px) H(60vh) Mih(0)--sm",navigationClasses:{button:"T(50%) Z(1) Pos(a) H(60px) W(60px) Mt(-30px)"},slideshowLayoutClasses:"",slideshowContainerClasses:"W(1/1)--sm W(3/4) W(2/3)--md",sidebarContainerClasses:"H(100%) Pos(a) W(1/4) W(1/3)--md P(20px) D(n)--sm T(0) Start(2/3)--md Start(3/4)",slideshowDescriptionClasses:{description:"Pb(10px) Pend(8px)",indicator:"Pb(5px)"},slideshowDescriptionCover:"Maw(300px)"},modal:{containerClasses:"H(524px) H(430px)--modalMinWidth Mb(40px)",navigationClasses:{button:"T(50%) Z(1) Pos(a) H(78px) W(78px) Mt(-30px)"},slideshowLayoutClasses:"Pos(r) H(100%) Mend(395px) Mend(355px)--modalMinWidth",slideshowContainerClasses:"T(0) B(0) Start(0) End(0)",sidebarContainerClasses:"H(100%) Pos(a) Pt(20px) End(55px) End(16px)--modalMinWidth Px(0) T(0)",slideshowDescriptionClasses:{description:"Pb(10px)",indicator:"Pb(5px)"},slideshowDescriptionCover:"W(300px)!"}}},2457:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(5)),l=a(n(12)),d=a(n(2)),u=a(n(1902)),c=a(n(1666)),p=a(n(1868)),f=a(n(1489)),h=a(n(1869)),m=a(n(2071)),g=a(n(2458)),v=a(n(29));t.default=(0,s.default)({displayName:"InlineSlideshow",autobind:!1,mixins:[l.default,m.default],propTypes:{animate:i.default.bool,className:i.default.string,dimensions:i.default.array,enableDescExtending:i.default.bool,enableDescExtendCover:i.default.bool,extendMinHeight:i.default.number,enableTouch:i.default.bool,items:i.default.array,imageContainerClassName:i.default.string,loadMoreBuffer:i.default.number,loadMoreCount:i.default.number,looping:i.default.bool,total:i.default.number,uuid:i.default.string},getDefaultProps:function(){return{adRefreshPositions:["LREC"],animate:!0,className:"",dimensions:[],enableDescExtending:!1,enableDescExtendCover:!0,enableTouch:!1,items:[],imageContainerClassName:"W(100%) Bgc(#212124) Pb(66%)",imageDimensions:[],loadMoreBuffer:6,loadMoreCount:25,looping:!1,uuid:""}},getInitialState:function(){return this.isLoadingMore=!1,this.slideshowStore=this.getStore(f.default),this._getState(this.props)},_getState:function(e){var t=e.items,n=e.dimensions,a=e.total||t.length,o=this.routeStore.getCurrentRoute()||{},s=(0,d.default)(o,["params","photoAlias"]);s=s&&decodeURIComponent(s);var i;if(o.url){i=v.default.parse(o.url,!1).pathname;i=i.replace(new RegExp((s?"(/)?(photo-)?"+s:"")+"(.html)?(/)?$"),"")}t=(0,g.default)(t,n,i,o.pageType);var r=(0,d.default)(t,[t.length-1,"originalIndex"],0),l=e.looping&&r===a-1,u=this.slideshowStore.getCurrentIndex(this._getId());return this.isLoadingMore=!1,{items:t,startIndex:u||0,looping:l}},_getId:function(){return"modal-slideshow-"+this.props.uuid},_loadMore:function(){var e=this.props,t=this.slideshowStore.getSlideshow(this._getId()),n=t.items;if(n&&!this.isLoadingMore){var a=n.length,o=e.total||0,s=t.currentIndex||0,i=(0,d.default)(n,[a-1,"originalIndex"],0);a-s<e.loadMoreBuffer&&o-1>i&&(this.isLoadingMore=!0,this.executeAction(u.default,{uuid:e.uuid,start:i+1,count:e.loadMoreCount}))}},_handleSlideshowChange:function(e){this._refreshAd(),this._firePageViewBeacon()},_handleSlideshowChangeDone:function(e){this._loadMore()},componentWillReceiveProps:function(e){this.setState(this._getState(e))},componentWillMount:function(){this._handleSlideshowChange=this._handleSlideshowChange.bind(this),this._handleSlideshowChangeDone=this._handleSlideshowChangeDone.bind(this),this.i13nConfig=this.getStore("I13nStore").getI13nConfig()},render:function(){var e=this._getId(),t=this.props,n=this.state.items,a=t.total,s="T(50%) Z(1) Pos(a) P(0) Bdw(0) O(n):f H(45px) W(45px) Mt(-22px) Bdrs(3px)",i=(0,r.default)(s,"Start(0)"),l=(0,r.default)(s,"End(0)"),d={next:{sec:"sshow",slk:"next",elm:"btn",outcm:"ct",g:t.uuid,itc:0},prev:{sec:"sshow",slk:"previous",elm:"btn",outcm:"ct",g:t.uuid,itc:0}},u=(0,r.default)("Pos(r)",t.imageContainerClassName);return o.default.createElement("div",{className:t.className},o.default.createElement("div",{className:u},o.default.createElement("div",{className:"Pos(a) P(0) H(100%) W(100%) Bxz(bb)"},o.default.createElement(p.default,{id:e,items:n,ref:"modalSlideshow",enableKeyboard:!0,enableTouch:t.enableTouch,enableNavButton:!1,onSlideshowChange:this._handleSlideshowChange,onSlideshowChangeDone:this._handleSlideshowChangeDone,startIndex:this.state.startIndex,looping:this.state.looping})),o.default.createElement(c.default,{slideshowId:e,items:n,buttonType:"prev",iconColor:"#fff",iconHeight:"15",activeBackgroudClass:"Bgc(#444.8) Bgc(#444):h",inactiveBackgroudClass:"D(n)!",className:i,ylk:d.prev}),o.default.createElement(c.default,{slideshowId:e,items:n,buttonType:"next",iconColor:"#fff",iconHeight:"15",activeBackgroudClass:"Bgc(#444.8) Bgc(#444):h",inactiveBackgroudClass:"D(n)!",className:l,ylk:d.next})),o.default.createElement(h.default,{slideshowId:e,items:n,className:"Lh(1.4) Fz(13px) Pb(10px) Pt(6px)",headlineClassName:"Fw(700) Fz(13px) Mb(4px)",indicatorClassName:"Fw(500) Fz(19px) Mb(8px)",total:a,indicatorPos:"TOP",enableExtending:t.enableDescExtending,enableExtendCover:t.enableDescExtendCover,enableIndicator:!0,extendMinHeight:t.extendMinHeight}))}}),e.exports=t.default},2458:function(e,t,n){"use strict";function a(e,t,a,s){e=e||[];var i=(0,n(1552).isMagContent)(s);return e.map(function(e,s){var r;return a&&e.alias&&(r=a+"/"+(i?"photo-":"")+e.alias.replace(o,"")+".html"),{type:"image",originalIndex:s,headline:e.headline,caption:e.caption,description:e.description,alias:e.alias,credit:e.credit,relativeLink:r,images:{regular:{url:(0,n(1552).getResizedImage)(e.size,t).url}}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o="ymedia-alias:photo=";e.exports=t.default},2459:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var o=t||{},r=o.componentProps,l=void 0===r?{}:r,d=l.componentConfig,u=void 0===d?{}:d,c=l.storylinePosition,p="number"!=typeof c||c<=1,f=u.enableVideoEarlyInit,h=u.enableVideoMicrodata,m=function(){a&&a()};if(!p)return m();if(!f&&!h)return m();var g=(0,n(2069).getVideoInitConfigFromContent)(e,u);if(!g)return m();var v=[];f&&v.push(new Promise(function(t){e.executeAction(s.default,{configOverrides:g,moduleId:g.moduleId,componentProps:{enableMicrodata:h}},t)})),!f&&h&&(g.videoId||g.videoAlias)&&v.push(new Promise(function(t){e.executeAction(i.default,g,t)})),v.length?Promise.all(v).then(m):m()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=a(n(330)),i=a(n(587));o.displayName="initVideoComponent",e.exports=t.default},2671:function(e,t,n){"use strict";function a(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof n(10).Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function o(e){function t(t,n,a,o,s,i){if(i=i||a,o=o||b,null!=n[a])return e(n,a,o,s,i);var r=s;return t?new Error("Required "+r+" `"+i+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function s(e,t){function n(n,o,s,i,r){var l=n[o];if(!t(l)){var d=a(l);return new Error("Invalid "+i+" `"+r+"` of type `"+d+"` supplied to `"+s+"`, expected `"+e+"`.")}return null}return o(n)}function i(e,t,n){function s(o,s,i,r,l){var d=o[s];if(!n(d)){var u=r,c=a(d);return new Error("Invalid "+u+" `"+l+"` of type `"+c+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+l+"`, expected a function.");for(var p=d.toArray(),f=0,h=p.length;f<h;f++){var m=e(p,f,i,r,l+"["+f+"]");if(m instanceof Error)return m}}return o(s)}function r(e){return i(e,"List",n(10).List.isList)}function l(e){return i(e,"Map",n(10).Map.isMap)}function d(e){return i(e,"OrderedMap",n(10).OrderedMap.isOrderedMap)}function u(e){return i(e,"Set",n(10).Set.isSet)}function c(e){return i(e,"OrderedSet",n(10).OrderedSet.isOrderedSet)}function p(e){return i(e,"Stack",n(10).Stack.isStack)}function f(e){return i(e,"Iterable",n(10).Iterable.isIterable)}function h(e){function t(t,o,s,i,r){var l=t[o];if(!(l instanceof n(10).Record)){var d=a(l),u=i;return new Error("Invalid "+u+" `"+r+"` of type `"+d+"` supplied to `"+s+"`, expected an Immutable.js Record.")}for(var c in e){var p=e[c];if(p){var f=l.toObject(),h=p(f,c,s,i,r+"."+c);if(h)return h}}}return o(t)}function m(e){function t(t,n,o,r,l){var d=t[n];if(!i(d)){var u=a(d),c=r;return new Error("Invalid "+c+" `"+l+"` of type `"+u+"` supplied to `"+o+"`, expected an Immutable.js "+s+".")}var p=d.toObject();for(var f in e){var h=e[f];if(h){var m=h(p,f,o,r,l+"."+f);if(m)return m}}}var s=void 0===arguments[1]?"Iterable":arguments[1],i=void 0===arguments[2]?n(10).Iterable.isIterable:arguments[2];return o(t)}function g(e){return m(e)}function v(e){return m(e,"Map",n(10).Map.isMap)}var b="<<anonymous>>";e.exports={listOf:r,mapOf:l,orderedMapOf:d,setOf:u,orderedSetOf:c,stackOf:p,iterableOf:f,recordOf:h,shape:g,contains:g,mapContains:v,list:s("List",n(10).List.isList),map:s("Map",n(10).Map.isMap),orderedMap:s("OrderedMap",n(10).OrderedMap.isOrderedMap),set:s("Set",n(10).Set.isSet),orderedSet:s("OrderedSet",n(10).OrderedSet.isOrderedSet),stack:s("Stack",n(10).Stack.isStack),seq:s("Seq",n(10).Seq.isSeq),record:s("Record",function(e){return e instanceof n(10).Record}),iterable:s("Iterable",n(10).Iterable.isIterable)}},2672:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(1)),i=a(n(4)),r=a(n(0)),l=a(n(3192)),d=a(n(5));t.default=(0,i.default)({displayName:"ReadMoreButton",autobind:!1,contextTypes:{canvasConfig:r.default.object},propTypes:{onClick:r.default.func,url:r.default.string,uuid:r.default.string.isRequired,noFollow:r.default.bool},getInitialState:function(){return this.config=this.context.canvasConfig||{},{hovered:!1}},componentWillMount:function(){this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this)},shouldComponentUpdate:function(e,t){return e.uuid!==this.props.uuid||t.hovered!==this.state.hovered},_onMouseEnter:function(){this.setState({hovered:!0})},_onMouseLeave:function(){this.setState({hovered:!1})},render:function(){var e=this.props.url,t=this.config;if(!e&&!this.props.onClick)return null;var a=n(14).I13nButton,i={i13nModel:{elm:"readmore",g:this.props.uuid,itc:0,opt_params:{pp:{pstaid:this.props.uuid}}},onClick:this.props.onClick};e&&(a=n(14).I13nAnchor,i.href=e,i.target=t.openNewPageForPreviewReadMore?"_blank":"_top",i.rel="",t.openNewPageForPreviewReadMore&&(i.rel+="noopener noreferrer "),this.props.noFollow&&(i.rel+="nofollow"));var r="Td(n) Cur(p) D(ib) Fw(b)";if(t.enableNoBorderReadMore){var u=this.state.hovered?"#003abc":"#188fff",c={className:(0,d.default)("read-more read-more-button",r,"Fz(15px) Ff(ss) Ta(start) H(20px) Lh(20px) Mt(8px)"),style:{color:u}};return s.default.createElement(a,o({},c,i,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}),s.default.createElement(n(31).FormattedMessage,{id:"CONTINUE_READING",className:"D(ib)",defaultMessage:"Continue Reading"}),s.default.createElement(n(19).Icon,{asset:l.default,color:u,height:20,className:"read-more-icon D(ib) Va(t)! Px(2px) Mt(-1px)"}))}return r=(0,d.default)("read-more-button",r,"Fz(14px) Fz(15px)--lg W(180px)--sm","Bdc($c-fuji-blue-1-a) Bdrs(4px) Bds(s) Bdw(2px) Bgc($c-fuji-blue-1-a):h C($c-fuji-blue-1-a)! C(#fff)!:h","Lts(.3px) Px(30px) Py(10px) Lh(1)"),s.default.createElement("div",{className:"read-more Mt(20px) Ta(start) Ta(c)--sm"},s.default.createElement(a,o({className:r},i),s.default.createElement(n(31).FormattedMessage,{id:"STORY_CONTINUES",defaultMessage:"Story Continues"})))}}),e.exports=t.default},2673:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(12)),l=a(n(5)),d=a(n(2142));t.default=(0,s.default)({displayName:"VideoIframe",mixins:[r.default],propTypes:{allow:i.default.string,allowFullScreen:i.default.bool,height:i.default.number,ratio:i.default.number,type:i.default.string.isRequired,url:i.default.string.isRequired,width:i.default.number},getDefaultProps:function(){return{allowFullScreen:!1}},shouldComponentUpdate:function(e,t){return e.url!==this.props.url},componentDidMount:function(){var e=this.props.allow;e&&this.iframe&&(this.iframe.setAttribute("allow",e),this.iframe.setAttribute("src",this.props.url))},render:function(){var e=this,t=this.props.url;if(!t)return null;var n=this.props.allow?"":t,a={paddingBottom:(d.default.getVerticalSpace(this.props.width,this.props.height)||75)+"%"};return o.default.createElement("div",{className:(0,l.default)("iframe-wrapper Pos(r) My(20px)",this.props.className),style:a},o.default.createElement("iframe",{allowFullScreen:this.props.allowFullScreen,className:"canvas-video-iframe Bdw(0) StretchedBox W(100%) H(100%)","data-type":this.props.type,src:n,ref:function(t){t&&(e.iframe=t)}}))}}),e.exports=t.default},2674:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=a(n(1)),u=a(n(0)),c=a(n(3211)),p=a(n(311)),f=a(n(488)),h=a(n(110)),m=a(n(2)),g=a(n(10)),v=function(e){function t(e,n){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={},a}return i(t,e),l(t,[{key:"getChildContext",value:function(){return{canvasConfig:this.props.componentConfig||this.props.config,renderTarget:this.context.renderTarget}}},{key:"componentDidMount",value:function(){this.props.isCurrentContent||this.context.executeAction(p.default,{source:"ContentCanvas"})}},{key:"shouldComponentUpdate",value:function(e,t){return e.uuid!==this.props.uuid||e.isCurrentContent!==this.props.isCurrentContent}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.uuid;if(!t||(0,n(11).isEmpty)(t))return null;var o=Object.assign({},e,{content:t,uuid:a,viewport:e.viewportPV});if(e.isCurrentContent)return d.default.createElement(c.default,r({className:"canvas-storyline-item-current H(1px)"},o),d.default.createElement("span",null));var s=(0,n(2140).getPageType)(t),i=(0,n(2140).getComponentByPageType)(s),l=(0,n(11).toJS)(t);return d.default.createElement(c.default,r({className:"canvas-storyline-item Mih(420px)"},o),d.default.createElement(i,r({storylinePosition:e.position},l)))}}]),t}(d.default.Component);v.contextTypes={executeAction:u.default.func.isRequired,renderTarget:u.default.object},v.childContextTypes={canvasConfig:u.default.object.isRequired,renderTarget:u.default.object},v.defaultProps={isCurrentContent:!1,position:1,viewportPV:{margins:{usePercent:!0,top:-.4,bottom:-.4}}},v=(0,f.default)(v,[],function(e,t){var a=e.getStore(h.default),o=void 0;if(t.isCurrentContent){o=a.getCurrentContent((0,m.default)(e,["renderTargetId","id"]))}else o=a.getContentByUUID(t.instanceId);return o=o||g.default.Map(),{content:o,uuid:(0,n(11).get)(o,"uuid")}}),t.default=(0,n(31).injectIntl)(v),e.exports=t.default},3180:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(10)),s=a(n(1)),i=a(n(4)),r=a(n(586)),l=a(n(110)),d=a(n(7)),u=a(n(12)),c=a(n(62)),p=a(n(2)),f=a(n(1899)),h=a(n(0));t.default=(0,i.default)({displayName:"CanvasShareModal",mixins:[u.default],statics:{componentConfig:{name:"componentContentCanvas",filter:["shareButtons"]},storeListeners:[d.default,l.default]},contextTypes:{getStore:h.default.func.isRequired,renderTarget:h.default.object,session:h.default.object.isRequired},propTypes:{shouldUseBrowserUrl:h.default.bool,ylkData:h.default.object},getDefaultProps:function(){return{shouldUseBrowserUrl:!0,ylkData:{}}},getInitialState:function(){return this.config=(0,p.default)(this.props,["componentConfig","shareButtons"])||{},this.contentStore=this.getStore(l.default),this.pageStore=this.getStore(d.default),this.routeStore=this.getStore("RouteStore"),this._getState()},onChange:function(e){this.setState(this._getState())},shouldComponentUpdate:function(e,t){return t.shareMeta.uuid!==this.state.shareMeta.uuid},_getState:function(){var e=this.context.renderTarget||{},t=this.contentStore.getCurrentContent(e.id)||o.default.Map(),n=c.default.isLcpContent(t),a=n?this.config.lcpButtons:this.config.buttons,s=(0,f.default)(t),i=this.routeStore.getCurrentRoute()||{};return{buttons:o.default.List(a),shareMeta:s,site:c.default.getContentSite(i,this.context),twitterId:this._getTwitterId(),ylk:Object.assign({},this.props.ylkData,{uuid:s.uuid})}},_getTwitterId:function(){var e=this.pageStore.getPageData(),t=(0,p.default)(e,["meta","property","twitter:site"])||(0,p.default)(e,["meta","name","twitter:site"])||"Yahoo";return"@"===t.charAt(0)&&(t=t.slice(1)),t},render:function(){if(this.config.enableShareModal){var e=this.state.shareMeta;return s.default.createElement(r.default,{buttonsToShow:this.state.buttons,description:e.description,imageUrl:e.picture,isTouchDevice:!1!==this.config.isTouchDevice,messages:{CLOSE:"Close"},shouldUseBrowserUrl:this.props.shouldUseBrowserUrl,site:this.state.site,title:e.title,twitterId:this.state.twitterId,url:e.link,uuid:e.uuid})}}}),e.exports=t.default},3181:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(190)),s=a(n(1)),i=a(n(4)),r=a(n(0)),l=a(n(2443)),d=a(n(12)),u=a(n(110)),c=a(n(7));t.default=(0,i.default)({displayName:"CanvassComments",autobind:!1,mixins:[d.default],statics:{initializeAction:l.default,storeListeners:[c.default]},propTypes:{canvassClasses:r.default.string},getDefaultProps:function(){return{canvassClasses:""}},getInitialState:function(){return this.pageStore=this.getStore(c.default),this.contentStore=this.getStore(u.default),{component:this.getComposite()}},componentWillMount:function(){this.onChange=this.onChange.bind(this)},onChange:function(e){e=e||{};var t=this.getContentId(this.props),n=e.eventName;"NEW_PAGE_START"===n&&this.setState({component:null}),"CREATE_COMPOSITE_SUCCESS"===n&&e.name==="canvass-"+t&&this.setState({component:this.getComposite()})},getComposite:function(){var e=this.getContentId(this.props),t=this.pageStore.getComposite("canvass-"+e)||{};return t.components&&t.components[0]||null},getContentId:function(e){if(e.contentId)return e.contentId;var t=this.contentStore.getCurrentContent();return t&&(0,n(11).get)(t,"uuid")},render:function(){var e=this.state.component,t=this.getContentId(this.props);return t?s.default.createElement("div",{className:"canvas-canvass-comments"},s.default.createElement("span",{className:"canvas-bottom-anchor-"+t,"aria-hidden":!0}),e?s.default.createElement(o.default,{components:[e]}):null):null}}),e.exports=t.default},3182:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(5)),l=a(n(110)),d=a(n(7)),u=a(n(3183));t.default=(0,s.default)({displayName:"CommonSlotComposite",mixins:[a(n(12)).default],contextTypes:{renderTarget:i.default.object},statics:{initializeAction:u.default,storeListeners:[l.default]},onChange:function(e){if("slotCompositeReady"===e.source&&e.uuid===this.props.id){var t=this;setTimeout(function(){t.forceUpdate()},0)}},propTypes:{slotPosition:i.default.string.isRequired},getInitialState:function(){var e=this;return e.contentStore=e.getStore(l.default),{}},render:function(){var e=this.context.renderTarget||{},t=this.contentStore.getCurrentContent(e.id),a=t&&(0,n(11).get)(t,"payoffs"),s=this.props.slotPosition;if(!s||!a||(0,n(11).isEmpty)(a))return null;var i=this.getStore(d.default).getComposite(this.props.id)||{},l=i.components||[];return 0===l.length?null:this.contentStore.getSlotCompositeReady(this.props.id)&&l?o.default.createElement("div",{id:this.props.id,className:(0,r.default)("canvas-slot-"+s,this.props.className)},o.default.createElement(n(145).Composite,{components:l})):null}}),e.exports=t.default},3183:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&t.payoffs[e]&&t.payoffs[e].length}function s(e){return!!e&&((0,n(11).isImmutable)(e)?e.has("payoffs"):e.payoffs)}function i(e,t,a){var i=e.getStore(r.default).getCurrentContent();if(s(i)){(0,n(11).isImmutable)(i)&&(i=i.toJS());var d=t||{},u=d.componentProps;u=void 0===u?{}:u;var c=u.id,p=u.slotPosition,f=o(p,i)?i.payoffs[p]:[];e.executeAction(l.default,{name:c,components:f},function(t){t||e.dispatch("SLOT_COMPOSITE_READY",{uuid:c}),a&&a(t)})}else a&&a()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(n(110)),l=a(n(147));i.displayName="initSlotBundles",e.exports=t.default},3184:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s,i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=a(n(1)),d=a(n(4)),u=a(n(9)),c=a(n(0)),p=a(n(10)),f=a(n(1900)),h=a(n(1901)),m=a(n(3187)),g=a(n(496)),v=a(n(110)),b=a(n(76)),C=a(n(111)),y=a(n(1218)),x=a(n(7)),S=a(n(21)),w=a(n(150)),I=a(n(40)),_=a(n(1665)),M=a(n(311)),P=a(n(1222)),E=a(n(189)),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3188)),N=a(n(12)),k=a(n(149)),L=a(n(2068)),A=a(n(517)),O=a(n(5)),B=a(n(62)),D=a(n(2)),R=/(\/post\/(\d+)\/)?([^\/\.?]+)(?=\.htm|\?|\/?$)/;"undefined"!=typeof window&&(i=window,s=i.document,o=i.Modernizr||{}),t.default=(0,d.default)({displayName:"ContentCanvas",mixins:[N.default,k.default,L.default],statics:{storeListeners:[v.default,y.default]},config:{},childContextTypes:{canvasConfig:c.default.object.isRequired},contextTypes:{beacon:c.default.func,renderTarget:c.default.object,session:c.default.object},getChildContext:function(){return{canvasConfig:this.config}},getInitialState:function(){this.config=this.props.componentConfig||{},this.adStore=this.getStore(y.default),this.contentStore=this.getStore(v.default),this.i13nStore=this.getStore(b.default),this.pageStore=this.getStore(x.default),this.routeStore=this.getStore(S.default),this.videoStore=this.getStore(w.default),this.videoPlayerStore=this.getStore(I.default);var e=this.context.renderTarget||{},t=this.contentStore.getCurrentContent(e.id)||p.default.Map(),n=this.routeStore.getCurrentRoute()||{},a=this.getStore(C.default),o=a.getStrings("tdv2-applet-content-canvas"),s=this.adStore.popAds({id:"content-canvas"}),i=this.shouldCollapseContent(n);return{ads:s||p.default.List(),adsMessages:o,content:t,dimensions:{site:B.default.getContentSite(n,this.context)},isCollapsed:i,route:n,userClickToShow:!1}},componentWillMount:function(){this.config=this.props.componentConfig||{}},componentDidMount:function(){var e=this;e._loadNativeAd(),e.config.c2sJsUrl&&(0,n(1867).isCurrentRenderTarget)(e.context,e.pageStore)&&e.loadScript({link:e.config.c2sJsUrl,namespace:"YAHOO.C2SJS"},e._c2sEnhance),e.state.isCollapsed&&e.scrollToAndExpandComments(),this._initializeCaas()},_initializeCaas:function(){(0,n(11).get)(this.state.content,"markup")&&(0,n(1867).initializeCaas)(this.context,"YDC-MainCanvas")},componentDidUpdate:function(e,t){var a=this,o=(0,n(11).get)(t.content,"uuid")!==(0,n(11).get)(a.state.content,"uuid");a.config.c2sJsUrl&&(0,n(1867).isCurrentRenderTarget)(a.context,a.pageStore)&&a.loadScript({link:a.config.c2sJsUrl,namespace:"YAHOO.C2SJS"},a._c2sEnhance),(o||t.isCollapsed!==a.state.isCollapsed)&&(o&&(this._initializeCaas(),a._loadNativeAd()),a.state.isCollapsed?a.scrollToAndExpandComments():setTimeout(function(){a.executeAction(M.default,{source:"ContentCanvas"})},300))},componentWillReceiveProps:function(e){this.config=e.componentConfig||{}},shouldComponentUpdate:function(e,t){if((0,n(11).get)(t.content,"uuid")!==(0,n(11).get)(this.state.content,"uuid"))return!0;if(0===(0,n(11).size)(this.state.ads)&&(0,n(11).size)(t.ads)>0)return!0;var a="slideshow"===(0,n(11).get)(this.state.content,"type"),o=(0,n(11).getIn)(this.state.content,["cover","photos"])||p.default.List(),s=(0,n(11).getIn)(t.content,["cover","photos"])||p.default.List();return!(!a||(0,n(11).size)(o)===(0,n(11).size)(s))||(t.isCollapsed!==this.state.isCollapsed||!(!e.componentConfig.c2sJsUrl||!(0,n(1867).isCurrentRenderTarget)(this.context,this.pageStore)||t.route.url===this.state.route.url))},onChange:function(e){e=e||{},e.sourceId=e.sourceId||"";var t=(0,n(11).get)(this.state.content,"uuid"),a="content-canvas-"+t,o=this.routeStore.getCurrentRoute()||{},s=this.context.renderTarget||{},i=this.contentStore.getCurrentContent(s.id)||p.default.Map(),r=B.default.getContentSite(o,this.context),l="playlistLoaded"===e.sourceId,d="playlistVideoChange"===e.sourceId||"playlistVideoClick"===e.sourceId;if(this._shouldEnableContinuousVideoPlay(e.sourceId))if(l)this.executeAction(T.prefetchVideos,e);else if(d){if(e.videoId){var u=this.videoStore.getVideo(e.videoId);e.alias=u.url_alias,e.url=u.canonical_url,this.executeAction(T.loadPlaylistVideo,e)}else if((0,n(11).get)(i,"alias")!==(0,n(11).get)(this.state.content,"alias")){var c=this._buildUrlFromAlias(i,o);c&&this.executeAction(E.default,{url:c,isVideoRouteChange:!0})}return}var f=this.shouldCollapseContent(o),h=this.state.userClickToShow;(0,n(11).get)(i,"uuid")!==t&&(h=!1),h&&(f=this.state.isCollapsed);var m={content:i,dimensions:{site:r},isCollapsed:f,route:o,userClickToShow:h,vpConfigOverrides:this.getVpConfigOverrides(e)};e.nativeAd===a&&(m.ads=this.adStore.popAds(a)||p.default.List()),this.setState(m)},_c2sEnhance:function(){var e=this,t=(0,n(11).get)(e.state.content,"uuid"),a=(0,n(11).get)(e.state.content,"enableC2S");if(t&&a)try{if(window&&window.c2s_event){window.c2s_event("init");var o=this.getStore(x.default),s=this.context.renderTarget&&this.context.renderTarget.id||o.getCurrentRenderTargetId(),i=u.default.findDOMNode(e);if(i&&("modal"===s||"default"===s)){var r=Date.now();window.c2s_event("intent",{articleId:t}),window.c2s_event("ready",{articleId:t,contentRootNode:i});var l=Date.now();e.context.beacon("perf","td-app-yahoo",{code:"c2s_loadtime",time:l-r,startTime:r,endTime:l}),window.c2s_event("display",{articleId:t})}}}catch(t){e.context.beacon("error","td-app-yahoo",{code:"c2s_err",message:"c2s fetch or render failed"})}},_buildUrlFromAlias:function(e,t){if(window&&e&&(0,n(11).get)(e,"alias")){t=t||{};var a=t.url||window.location.pathname,o=a.match(R),s=o&&o[3],i=o&&o[2],r=(0,n(11).get)(e,"alias").split("=")[1],l=0===a.indexOf("/post/")&&(0,n(11).getIn)(e,["tumblr","postId"]);return i&&(s=i+"/"+s),l&&(r=l+"/"+r),s&&r?(a=a.split("?")[0],a.replace(s,r)):void 0}},_shouldEnableContinuousVideoPlay:function(e){if(!e)return!1;var t=0===e.indexOf("playlist"),a="playlistVideoClick"===e,o=this._isShortBody((0,n(11).get)(this.state.content,"body")),s=this.contentStore.getCurrentPlaylistId(),i=this.videoPlayerStore.getPlayerKey("docked"),r=i&&i===s;return t&&this.config.enableVideosContinuousPlay&&!this.state.isCollapsed&&!r&&(a||o)},_shouldExpandMyComments:function(e){return this.config.enableExpandableComments&&!!(0,D.default)(e,["query","bcmt"],!1)},_isShortBody:function(e){if(!e||(0,n(11).isEmpty)(e))return!0;for(var t=0,a=!0,o=this.config.imageCharCount,s=this.config.shortBodyLimit,i=0,r=(0,n(11).size)(e);i<r;i++){var l=e[i]||e.get(i);if("image"===(0,n(11).get)(l,"type")?t+=o:t+=(0,n(11).get)(l,"length")||0,t>s){a=!1;break}}return a},_loadNativeAd:function(){if((0,D.default)(this.config,["ads","frequency"])){var e="content-canvas-"+(0,n(11).get)(this.state.content,"uuid");this.executeAction(P.default,{id:e,count:10})}},renderCanvasByType:function(e){if(!e||(0,n(11).isEmpty)(e))return null;var t,a=(0,n(2140).getPageType)(e),o=(0,n(2140).getComponentByPageType)(a),s=this.getStore(x.default),i=s.getPageData(),d=this.config.ads||{},u={},c=this.config.bodyAdsSlot||{},f=this.state.route;u.ctopic=i.ctopic,u.device=B.default.getDevice(this.context),u.route=f,u.dimensions=this.state.dimensions,u.tagFollowLink=(0,D.default)(this.config,["canvasTag","tagFollowLink"],!1),u.isCurrentRenderTarget=(0,n(1867).isCurrentRenderTarget)(this.context,s),d.frequency&&(u.ads=this.state.ads||p.default.List(),u.adsMessages=this.state.adsMessages,u.enableGeminiFeedback=this.props.enableGeminiFeedback||d.enableGeminiFeedback,u.geminiFrequency=d.frequency||0,u.geminiLimit=d.limit||3,u.geminiStart=d.start||0,u.imageCharCount=this.config.imageCharCount||1e3),c.enabled&&(u.bodyAdsSlotConfig={position:c.position,component:g.default,props:{pos:c.pos||"",style:c.style||{}}},d.enableCacheableAd&&(u.bodyAdsSlotConfig.props.config={cacheable:!0})),"video"===a&&(u.autoplay=!0,u.enableVideoDocking=this.config.enableVideoDocking,u.expName=this.config.videoExpName,u.enableLazy=this.config.enableVideoLazyLoad),u.vpConfigOverrides=this.state.vpConfigOverrides,t=(0,n(11).toJS)(e);var h=t.ad_meta;if(u.enableAd=this.enableVideoPreRollAd(h),"modal"===(this.context.renderTarget&&this.context.renderTarget.id||s.getCurrentRenderTargetId())){var m=s.getPageConfig()||{},v=h&&h.spaceid,b=(0,D.default)(m,["layout","spaceid","video"],v);b&&(u.videoSpaceid=b+"")}return l.default.createElement(o,r({},t,{readMoreCharLimit:this.config.readMoreCharLimit},u))},renderMicroMetaData:function(){var e=this.getStore(x.default).getPageData(),t=this.state.content,a=(0,D.default)(e,["meta","name","robots"],"");if(!e||!t||(0,n(11).isEmpty)(t)||a.indexOf("noindex")>=0)return null;var o=(0,n(11).get)(t,"site");"news"!==o&&"gma"!==o||(o=e.category);var s=e.description,i=e.image,r=(0,D.default)(e,["meta","name","news_keywords"]),d=(0,D.default)(e,["links",0,"href"],e.url);return[l.default.createElement("meta",{key:"microDataDescription",itemProp:"description",content:s}),l.default.createElement("meta",{key:"microDataArticleSection",itemProp:"articleSection",content:o}),l.default.createElement("meta",{key:"microDataGenre",itemProp:"genre",content:o}),l.default.createElement("meta",{key:"microDataThumbnailUrl",itemProp:"thumbnailUrl",content:i}),l.default.createElement("meta",{key:"microDataKeywords",itemProp:"keywords",content:r}),l.default.createElement("link",{key:"microDataUrl",itemProp:"url",href:d})]},scrollToAndExpandComments:function(e,t,a){if(window&&s&&!(0,D.default)(this.routeStore.getCurrentRoute(),["query","messageId"])){var o=this,i=(0,n(11).get)(o.state.content,"uuid");e=e||"canvas-bottom-anchor-"+i,a=a||750,t=t||{},t.context=i,t.instanceId="canvass-"+i,o.executeAction(_.default,t),setTimeout(function(){if(s){var t=s.documentElement&&s.documentElement.scrollTop||s.body.scrollTop,n=s.getElementsByClassName(e),o=n&&n[0]&&n[0].getBoundingClientRect()||{},r=o.top,l=o.bottom,d=s.getElementById("canvass-"+i);if(d&&d.focus({preventScroll:!0}),l&&l>window.innerHeight-200){(0,A.default)(t+r-150,a)}}},700)}},renderCollapsedContent:function(e){if(!e)return null;var t=this.config.enableTitle,a=(0,D.default)(this.config,["canvasConfig","ui","titleClasses"]);if("slideshow"===e.contentType||"photoset"===e.contentType){t=!(("photoset"===e.contentType||this.config.enableVerticalSlideshow)&&!t)}return"video"===e.contentType&&(t=!0),l.default.createElement("div",{className:(0,O.default)("content-canvas-collapsed",{"Px(20px) Pt(17px)":this.config.enableCanvasPadding})},t?l.default.createElement(f.default,{title:this.props.title,titleClasses:a}):null,t?l.default.createElement(h.default,{attribution:e.attribution,author:e.author,provider:e.provider,publishDate:e.publishDate,publishDateStr:e.publishDateStr}):null,l.default.createElement("div",{className:"read-full-article Ta(c) My(20px)"},l.default.createElement(n(14).I13nButton,{className:"Px(30px) Py(10px) W(300px) D(b) Mx(a) Pos(r) Fw(500) Fz(14px) Ta(c) Cur(p) Bdw(2px) Bdrs(4px) Bgc(#fff) C($c-fuji-blue-1-a) Bdc($c-fuji-blue-1-a) C(#fff):h Bgc($c-fuji-blue-1-a):h",onClick:this.showFullArticle},l.default.createElement(n(31).FormattedMessage,{id:"READ_FULL_ARTICLE",defaultMessage:"Read Full Article"}))))},shouldCollapseContent:function(e){var t=this.config.enableCollapsibleBody,n=t&&this._shouldExpandMyComments(e),a=t&&(0,D.default)(this.routeStore.getCurrentNavigate(),["params","collapseContent"],!1);return n||a},showFullArticle:function(){this.setState({isCollapsed:!1,userClickToShow:!0})},render:function(){var e=this.state.content,t="content-canvas-"+(0,n(11).get)(e,"uuid"),a=this.renderCanvasByType(e),o=(0,O.default)("content-canvas Bgc(#fff) Pos(r)",this.props.className,{"P(20px) Pt(17px)":this.config.enableCanvasPadding});return this.state.isCollapsed?this.renderCollapsedContent((0,n(11).toJS)(e)):l.default.createElement("div",{id:this.props.id,className:o,key:t},this.renderMicroMetaData(),a,this.renderTagsAndTumblrActions())},renderTagsAndTumblrActions:function(){if(this._shouldRenderRelatedTags())return l.default.createElement("div",{className:"Mt(20px)"},this.renderRelatedTags())},_shouldRenderRelatedTags:function(){var e=this.routeStore.getCurrentRoute()||{},t=B.default.getContentSite(e,this.context),a=(0,n(11).get)(this.state.content,"tags");return this.config.enableRelatedTags&&a&&(0,n(11).size)(a)>0&&t},renderRelatedTags:function(){var e=(0,n(11).get)(this.state.content,"tags")||p.default.List(),t=this.routeStore.getCurrentRoute()||{},a=B.default.getContentSite(t,this.context),o=B.default.getContextSite(this.context);if(this._shouldRenderRelatedTags())return l.default.createElement(m.default,{tags:e,contentSite:a,site:o,followLink:(0,D.default)(this.config,["canvasTag","tagFollowLink"],!1)})},_isTouchDevice:function(){return o&&o.touch}}),e.exports=t.default},3185:function(e,t){e.exports={classes:{beauty:"C($c-fuji-beauty)",business:"C($c-fuji-blue-1-a)",celebrity:"C($c-fuji-punch-a)",entertainment:"C($c-fuji-entertainment)",finance:"C($c-fuji-blue-1-a)",health:"C($c-fuji-teal-1-a)",hkfood:"C($c-fuji-style)",hkstylemen:"C($c-fuji-style)",hktravelnow:"C($c-fuji-style)",lifestyle:"C($c-fuji-lifestyle)",movies:"C($c-fuji-movies)",music:"C($c-fuji-music)",news:"C($c-fuji-blue-1-a)",politics:"C($c-fuji-blue-3-a)",popculture:"C($c-fuji-ruby-a)",science:"C($c-fuji-blue-3-a)",sports:"C($c-fuji-orange-c)",style:"C($c-fuji-ruby-a)",technology:"C($c-fuji-orange-b)",tv:"C($c-fuji-tv)",trending:"C($c-fuji-purple-1-b)",us:"C($c-fuji-blue-1-a)",wellness:"C($c-fuji-ruby-a)",world:"C($c-fuji-blue-1-a)"}}},3186:function(e,t){e.exports={inlineAttribution:{attribStart:"Start(80px)",authorClasses:"Fz(13px) C($c-fuji-grey-l) D(ib) Fw(b)",authorCoverClasses:"",authorSocial:"Pos(r) T(10px) D(ib) Mend(10px)",authorTitleClasses:"D(ib) Fz(13px) C($c-fuji-grey-l) Mstart(5px)",authorLogoClass:"Pos(a)",authorLogoImageDimension:"Mah(40px) Maw(40px)",containerClasses:"H(40px) Mb(15px)",dateClasses:"Fz(13px) C(#9ea2af)",dateDotClasses:"Mx(5px) C(#9ea2af)",infoAlignment:"D(ib)",infoCoverClasses:"Pos(r) Lh(36px) Fz(12px)",logoCoverClasses:"Pos(r) Mah(40px) Maw(70px)",logoClasses:"Pos(a) Lh(25px)",providerLogoImageDimension:"Mah(40px) Maw(70px)",providerLinkClasses:"Fz(13px) C($c-fuji-grey-l)",providerNameClasses:"Fz(13px) C($c-fuji-grey-l)",maxWidth:"Maw(650px)"},blockAttribution:{attribStart:"",authorClasses:"Fw(b) Fz(12px) C(#000)",authorCoverClasses:"Mend(4px)",authorSocial:"Mt(6px)",authorTitleClasses:"Mt(4px) Fw(b) Fz(12px) C(#999) Mstart(3px)",authorLogoClass:"",authorLogoImageDimension:"Mah(46px) Maw(46px)",containerClasses:"",dateClasses:" D(ib)",dateDotClasses:"Mx(5px)",infoAlignment:"D(tbc)",infoCoverClasses:"Fz(14px)",providerLogoImageDimension:"Mah(46px) Maw(46px)",logoCoverClasses:"",logoClasses:"D(tbc)  Mah(45px) Mah(40px)--sm",providerLinkClasses:"Fz(12px) C(#222) Fw(b)",providerNameClasses:"Fz(12px) C(#999) Fw(b)",maxWidth:""}}},3187:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(5)),s=(a(n(2671)),a(n(281))),i=(a(n(0)),a(n(1))),r=function(e){var t=e.tags,n=e.contentSite,a=e.className,r=e.site,l=void 0===r?"fp":r,d=e.followLink;if(!t||0===t.size||!n)return null;var u=[],c="fp"===l||"all"===l?"/"+n:"";return t.forEach(function(e,t){var n=e.replace(" ","-");"_"!==e.charAt(0)&&u.push(i.default.createElement("li",{key:t,className:"D(ib) Va(t)"},i.default.createElement(s.default,{className:"C(#7d7d7d) Td(n):h D(ib) Py(5px) Pend(15px)",href:c+"/tagged/"+n,stopPropagation:!0,followLink:d},"#"+e.toLowerCase())))}),i.default.createElement("ul",{className:(0,o.default)("M(0) Lis(n) Lh(1) Fz(14px)",a)},u)};t.default=r,e.exports=t.default},3188:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(t&&t.videoId){e.executeAction(r.default,{alias:u+t.alias,url:t.url,uuids:[t.videoId],sourceId:t.sourceId},function(a){a||e.dispatch("SHOW_CONTENT",{contentId:t.videoId,sourceId:t.sourceId}),n&&n(a)})}else n&&n()}function s(e,t,n){if(t&&t.videos){var a=i(t.videos,e);a.length&&e.executeAction(l.default,{uuids:a,sourceId:t.sourceId},n)}else n&&n()}function i(e,t){for(var n=[],a=0,o={},s=Math.min(e.length,d);a<s;)o=e[a],n.push(o.id),a++;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.loadPlaylistVideo=o,t.prefetchVideos=s;var r=a(n(310)),l=a(n(528)),d=5,u="ymedia-alias:cavideo=";o.displayName="loadPlaylistVideo",s.displayName="prefetchVideos"},3189:function(e,t,n){"use strict";function a(e){var t,a=e&&n(29).parse(e),s=a&&a.pathname;if(s)return o.some(function(e){var n=e.regex.exec(s);if(n)return t={},e.entity.forEach(function(e,a){t[e]=n[a+1]}),!0}),t}var o;o=[{regex:/^\/live\/event\/([^\/]+)\/?$/,entity:["event"]},{regex:/^\/video\/([^\/]+)\.html$/,entity:["video"]},{regex:/^\/([^\/]+)\/([^\/]+)(?:\/|\.html)$/,entity:["channel","video"]},{regex:/^\/([^\/]+)\.html$/,entity:["video"]},{regex:/^\/video\/(\d+)\/(tumblr_\w+)\/?$/,entity:["tumblrPostId","tumblrPostCrumb"]},{regex:/^\/video\/[^\/]+\/([^\/]+)\.html$/,entity:["video"]},{regex:/^\/[^\/]+\/(?:v|video)\/([^\/]+)\.html$/,entity:["video"]},{regex:/^\/([^\/]+)\/?$/,entity:["channel"]}],e.exports={urlToAlias:a}},3190:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(1)),i=a(n(4)),r=a(n(0)),l=a(n(2141)),d=a(n(1901)),u=a(n(1900)),c=a(n(2672)),p=a(n(39)),f=a(n(5)),h=a(n(2));t.default=(0,i.default)({displayName:"CanvasPreview",mixins:[p.default],contextTypes:{canvasConfig:r.default.object},propTypes:{summary:r.default.string.isRequired,type:r.default.string.isRequired,url:r.default.string.isRequired,uuid:r.default.string.isRequired},getInitialState:function(){return this.config=this.context.canvasConfig||{},{}},renderAttribution:function(){return this.config.enableTitle?s.default.createElement(d.default,{attribution:this.props.attribution,author:this.props.author,provider:this.props.provider,publishDate:this.props.publishDate,publishDateStr:this.props.publishDateStr}):null},renderCover:function(e){if(!e||"image"!==e.type)return null;var t=(0,h.default)(e,["size","original","width"]),n=t&&t<400,a=(0,f.default)("canvas-atom",{"Fl(end) Fl(n)--sm Mb(20px) Mstart(20px) Mt(0) M(a)--sm":n,"Mb(24px) Mb(22px)--sm":!n});return s.default.createElement(l.default,o({},e,{lazyLoad:!1,dimensions:this.config.imageDimensions||[],style:{width:n?t:"100%"}},{className:a,"data-type":e.type}))},renderHeader:function(){if(!this.config.enableTitle)return null;var e=(0,h.default)(this.config,["ui","titleClasses"]);return u.default.call(this,{title:this.props.title,titleClasses:e})},render:function(){var e=this.props,t=e.uuid,n=e.summary;return s.default.createElement("article",{"data-uuid":t,"data-type":this.props.type,className:(0,f.default)("canvas-body C(#000.87) Lh(1.6) Pb(20px)",this.props.className,(0,h.default)(this.config,["ui","bodyClasses"]))},this.renderHeader(),this.renderAttribution(),this.renderCover(this.props.cover),n?s.default.createElement("p",{"data-type":"text",className:"canvas-text Mb(1.0em) Mb(0)--sm Mt(0.8em)--sm canvas-atom",dangerouslySetInnerHTML:{__html:n}}):"",s.default.createElement(c.default,{uuid:t,url:this.props.url,noFollow:!0}))}}),e.exports=t.default},3191:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(5));t.default=(0,s.default)({displayName:"Caption",propTypes:{caption:i.default.string},getInitialState:function(){return{isCaptionExpanded:!1}},_handleButtonClick:function(){this.setState({isCaptionExpanded:!this.state.isCaptionExpanded})},renderCaptionButton:function(){return o.default.createElement(n(14).I13nButton,{className:(0,r.default)({"C($c-fuji-blue-1-b) Cur(p) W(100%) T(63px) Bgc(#fff)":!0,"Ta(start) Fz(13px) P(0) Bd(0) O(0) Lh(1.5)":!0,"Pos(a)":!this.state.isCaptionExpanded}),onClick:this._handleButtonClick},this.state.isCaptionExpanded?o.default.createElement(n(31).FormattedMessage,{id:"LESS",defaultMessage:"Less"}):o.default.createElement(n(31).FormattedMessage,{id:"MORE",defaultMessage:"More"}))},render:function(){var e=this.props.caption;return e?o.default.createElement("div",{itemProp:"caption description",className:(0,r.default)("Ov(h) Pos(r) Ff(ss)",{"Mah(80px)":!this.state.isCaptionExpanded})},o.default.createElement("figcaption",{className:"C($c-fuji-grey-h) Fz(13px) Py(5px) Lh(1.5)",title:e},o.default.createElement("div",{className:"figure-caption",dangerouslySetInnerHTML:{__html:e}})),this.renderCaptionButton()):null}}),e.exports=t.default},3192:function(e,t){if(void 0===n)var n={};n.arrowcurveright={name:"arrowcurveright",height:16,width:16,path:"M6 6.667h4.89l-1.37-1.53c-.25-.26-.25-.68 0-.94.25-.262.653-.262.902 0l2.91 3.137-2.91 3.137c-.123.132-.287.197-.45.197s-.328-.065-.452-.196c-.25-.26-.25-.68 0-.94L10.89 8H6c-1.105 0-2 .895-2 2v2c0 .368-.3.667-.667.667s-.667-.3-.667-.667v-2C2.666 8.16 4.16 6.667 6 6.667z"},void 0!==e&&e.exports&&(e.exports=n.arrowcurveright)},3193:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=a(n(1)),r=a(n(4)),l=a(n(9)),d=a(n(0)),u=a(n(2445)),c=a(n(1900)),p=a(n(1901)),f=a(n(2444)),h=a(n(2)),m=a(n(3201)),g=a(n(1902)),v=a(n(34)),b=a(n(2447)),C=a(n(39)),y=a(n(12));"undefined"==typeof window||(o=v.default),t.default=(0,r.default)({displayName:"CanvasSlideshow",mixins:[y.default,C.default],contextTypes:{canvasConfig:d.default.object},childContextTypes:{canvasConfig:d.default.object.isRequired},propTypes:{body:b.default},getChildContext:function(){return{canvasConfig:this.context.canvasConfig}},subscriber:null,getInitialState:function(){return this.getState(this.props)},getState:function(e){var t=this.context.canvasConfig||{},n=t.enableVerticalSlideshow||"photoset"===e.contentType,a=!1!==t.enableSlideshowTitle;return n&&(a=t.enableTitle),{currentLength:(0,h.default)(e,["cover","photos","length"]),isEnableTitle:a,isPhotoset:n}},componentDidMount:function(){this.state.isPhotoset&&(this.subscriber=o("scroll",this.handleScroll))},componentWillUnmount:function(){this.subscriber&&this.subscriber.unsubscribe()},handleScroll:function(e){l.default.findDOMNode(this).getBoundingClientRect().bottom<(window.innerHeight||document.documentElement.clientHeight)+1e3&&!this.loadingMore&&this.state.currentLength<(parseInt(this.props.total)||0)&&(this.loadingMore=!0,this.executeAction(g.default,{uuid:this.props.uuid,start:this.state.currentLength,count:25}))},componentWillReceiveProps:function(e){var t=this.getState(e);t.currentLength>this.state.currentLength&&(this.loadingMore=!1),this.setState(t)},renderAttribution:function(){return this.state.isEnableTitle?i.default.createElement(p.default,{attribution:this.props.attribution,author:this.props.author,provider:this.props.provider,publishDate:this.props.publishDate,publishDateStr:this.props.publishDateStr,uuid:this.props.uuid}):null},renderHeader:function(){var e=(0,h.default)(this.context,["canvasConfig","ui","titleClasses"]);return this.state.isEnableTitle?c.default.call(this,{title:this.props.title,titleClasses:e}):null},renderPhotoset:function(){if(!this.state.isPhotoset)return null;var e=(0,h.default)(this.context,["canvasConfig","imageDimensions"])||[];return i.default.createElement(m.default,{imageDimensions:e,items:this.props.cover,total:parseInt(this.props.total,10)})},renderSlideshow:function(){var e=this.context.canvasConfig||{},t=(0,h.default)(this.props,["cover","photos"],[]);if(this.state.isPhotoset||!e.enableLeadContent||0===t.length)return null;var a=e.ads||{},o=e.imageDimensions||[],s={adRefreshPositions:a.inlineSlideshowAdRefresh||[],items:t,uuid:this.props.uuid,dimensions:o,looping:!0,total:parseInt(this.props.total,10),className:"Mb(20px)"};return i.default.createElement(n(1824).InlineSlideshow,s)},render:function(){var e=this.context.canvasConfig||{},t=this.state.isPhotoset?null:this.props.bodyAdsSlotConfig,n=(0,h.default)(e,["ui","bodyClasses"]);return i.default.createElement("article",{"data-uuid":this.props.uuid,"data-type":"slideshow",className:this.props.className},i.default.createElement(f.default,{className:"Mb(20px)--sm",typeWhitelist:{slideshow:!0},followLink:this.props.tagFollowLink}),this.renderHeader(),this.renderAttribution(),this.renderSlideshow(),this.props.markup?i.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.markup}}):i.default.createElement(u.default,s({},this.props,{ads:this.props.ads||null,adsMessages:this.props.adsMessages||null,bodyAdsSlotConfig:t,bodyClasses:n,enableGeminiFeedback:this.props.enableGeminiFeedback,enableLiveCoverage:e.enableLiveCoverage,geminiFrequency:this.props.geminiFrequency||0,geminiLimit:this.props.geminiLimit||3,geminiStart:this.props.geminiStart||0,imageCharCount:this.props.imageCharCount||1e3})),this.renderPhotoset())}}),e.exports=t.default},3194:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=(a(n(0)),a(n(5))),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source,a=void 0===t?null:t,s=e.showCitation,i=void 0===s||s;return a&&i?o.default.createElement("cite",{className:"quote-citation D(b)"},o.default.createElement(n(31).FormattedMessage,{id:"SOURCE",values:{source:a}})):null},r=function(e){var t=e.content;if(!t)return null;var n=e.className,a=e.source,r=e.type;return o.default.createElement("blockquote",{className:(0,s.default)("canvas-blockquote M(30px) Pstart(20px) C($c-fuji-grey-h) Fs(i)","Bdstartc($c-fuji-grey-e) Bdstarts(s) Bdstartw(2px)",n),cite:a,"data-type":r},o.default.createElement("p",{className:"quote-text",dangerouslySetInnerHTML:{__html:t}}),i(e))};t.default=r,e.exports=t.default},3195:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=(a(n(0)),a(n(2142))),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.embedType,n=e.src,a=e.width,i=e.height,r=e.type,l=e.className;if(!n)return null;var d=(s.default.getVerticalSpace(a,i)||75)+"%";return o.default.createElement("div",{className:"embed-wrapper W(100%) Pos(r) H(0) My(20px)",style:{paddingBottom:d}},o.default.createElement("embed",{className:"canvas-embed Bdw(0) StretchedBox W(100%) H(100%)"+(l?" "+l:""),"data-type":r,src:n,type:t}))};t.default=i,e.exports=t.default},3196:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=(a(n(0)),a(n(5))),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.listItems,n=void 0===t?[]:t,a=e.listTagType,i=e.type;return n.length&&a?o.default.createElement(a,{className:(0,s.default)("canvas-list",{"List(d)":"ul"===a,"List(dc)":"ol"===a}),"data-type":i},n.map(function(e,t){return o.default.createElement("li",{dangerouslySetInnerHTML:{__html:e},key:"list-item-"+t})})):null};t.default=i,e.exports=t.default},3197:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(3198)),i=a(n(5)),r=a(n(190)),l=a(n(1)),d=a(n(4)),u=a(n(0)),c=a(n(12)),p=a(n(7)),f=a(n(2143));t.default=(0,d.default)({displayName:"LiveCoverage",mixins:[c.default],statics:{storeListeners:[p.default]},propTypes:{compositeId:u.default.string,enableIframe:u.default.bool},getDefaultProps:function(){return{compositeId:null,enableIframe:!1,iframeClasses:"chromemobile_H(1500px) Mt(14px)--sm Mb(0)--sm",liveCoverageClasses:"Mt(14px)--sm Mb(0)--sm"}},getInitialState:function(){return this.pageStore=this.getStore(p.default),{component:this.getComposite(),isMounted:!1}},componentDidMount:function(){this.setState({isMounted:!0})},onChange:function(e){e=e||{},this.props.enableIframe||"CREATE_COMPOSITE_SUCCESS"===e.eventName&&e.name===this.props.compositeId&&this.setState({component:this.getComposite()})},getComposite:function(){if(this.props.enableIframe)return null;var e=this.pageStore.getComposite(this.props.compositeId)||{};return e.components&&e.components[0]||null},hasLiveCoverageData:function(){var e=this.getStore(f.default),t=e&&e.getLiveCoverage();return t&&t.event&&t.event.length>0&&t.posts&&t.posts.length>0},renderIframe:function(){return l.default.createElement(s.default,o({},this.props,{className:(0,i.default)("canvas-live-coverage",this.props.iframeClasses)}))},render:function(){if(this.props.enableIframe)return this.renderIframe();var e=this.state.component;return e&&this.state.isMounted?this.hasLiveCoverageData()?l.default.createElement("div",{className:(0,i.default)("canvas-live-coverage",this.props.liveCoverageClasses)},l.default.createElement(r.default,{components:[e]})):this.renderIframe():null}}),e.exports=t.default},3198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(1214).IframeAtom}}),e.exports=t.default},3199:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=(a(n(0)),a(n(5))),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=e.className,a=e.type;return t?o.default.createElement("div",{className:(0,s.default)("canvas-table Px(4px) My(1.4em) Ov(a)",n),"data-type":a,style:{letterSpacing:".01em"}},o.default.createElement("table",{dangerouslySetInnerHTML:{__html:t}})):null};t.default=i,e.exports=t.default},3200:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=(a(n(0)),a(n(2142))),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.width,a=void 0===n?0:n,i=e.height,r=void 0===i?0:i;if(!t)return null;var l=s.default.getVerticalSpace(a,r)||56.25;return o.default.createElement("div",{className:"canvas-video Bxz(bb) Pos(r) W(100%) H(0)",style:{paddingBottom:l+"%"}},o.default.createElement("video",{className:"W(100%) H(100%) StretchedBox",src:t,controls:!0}))};i.displayName="Video",t.default=i,e.exports=t.default},3201:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(496)),l=a(n(2141)),d=a(n(12)),u=a(n(2));t.default=(0,s.default)({displayName:"Photoset",mixins:[d.default],propTypes:{device:i.default.string,imageDimensions:i.default.array,items:i.default.object},contextTypes:{canvasConfig:i.default.object},getDefaultProps:function(){return{device:"desktop",imageDimensions:[],items:{}}},getInitialState:function(){return{}},_blendInAds:function(e,t,n,a,s){e||(e=[]),s||(s=[]),n||(n=3),a||(a=7);var i=s.length;if(e.length&&i){var l,d=0,u={marginTop:"10px",marginBottom:"10px",marginLeft:"-10px",marginRight:"-10px",textAlign:"center"};for(l=n;l<e.length-1&&d<i;l+=a+1,d++)e.splice(l,0,o.default.createElement(r.default,{style:u,key:"ad-"+d,pos:s[d]}));return e}},renderPhotosetItems:function(e){var t=this,n=t.props.total||e.photos.length,a="canvas-text Mb(1.0em) Mb(0)--sm Mt(0.8em)--sm",s=(0,u.default)(this.context,["canvasConfig","enableSlideshowNumbering"]),i=e.photos.map(function(e,i){var r=e.headline,d=e.caption||e.description,u=e.credit;return o.default.createElement("div",{className:"photoset-item Py(24px) C($c-fuji-grey-l)",key:i},o.default.createElement(l.default,{className:"My(0)",dimensions:t.props.imageDimensions,lazyLoad:i>0,size:e.size,type:"image"}),u?o.default.createElement("cite",{className:"C(#999) Fz(10px) Fs(i) D(b) Ta(end)"},u):null,s?o.default.createElement("span",{className:"slide-index D(ib) Mend(8px)"},o.default.createElement("strong",null,i+1),"/",n):null,r?o.default.createElement("p",{className:"canvas-text Mb(1.0em) Mb(0)--sm Mt(0.8em)--sm D(i) Fw(b)",dangerouslySetInnerHTML:{__html:r},"data-type":"text"}):"",d?o.default.createElement("p",{classNames:a,dangerouslySetInnerHTML:{__html:d},"data-type":"text"}):"")}),r=(0,u.default)(this.context,["canvasConfig","ads","photosetAd"],{}),d=r.enable,c=r.interval,p=r.positions,f=r.start;return d?this._blendInAds(i,0,f,c,p):i},render:function(){return this.props.items&&this.props.items.photos?o.default.createElement("div",{className:"canvas-photoset Cl(start) Fz(18px) Fz(16px)--sm Fz(20px)--lg Lh(1.6)"},this.renderPhotosetItems(this.props.items)):null}}),e.exports=t.default},3202:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=a(n(1)),i=a(n(4)),r=a(n(5)),l=a(n(2));t.default=(0,i.default)({displayName:"ImageItem",autobind:!1,mixins:[a(n(2144)).default],type:"image",contextTypes:{session:o.default.object},propTypes:{caption:o.default.string,images:o.default.object.isRequired},getDefaultProps:function(){return{images:{reqular:{url:"",width:0,height:0},large:null}}},render:function(){var e=(0,l.default)(this.context,["session","dimensions","device"],"smartphone"),t=(0,l.default)(this.props,["images","regular"],{}),a=t.url,o=this.props.caption||"",i=(0,r.default)("slideshow-figure Bgc(x) M(0) Mend(4px)",{"Trsdu(0.3s)":"desktop"===e});return a?s.default.createElement("figure",{className:i},s.default.createElement(n(74).Img,{className:"slideshow-image",url:a,alt:o})):null}}),e.exports=t.default},3203:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(2141)),i=a(n(2673)),r=a(n(2446)),l=a(n(1901)),d=a(n(2445)),u=a(n(1900)),c=a(n(88)),p=a(n(3204)),f=a(n(1)),h=a(n(4)),m=a(n(535)),g=a(n(0)),v=a(n(2459)),b=a(n(12)),C=a(n(39)),y=a(n(2068)),x=a(n(5)),S=a(n(2447)),w=a(n(2)),I=(0,n(31).defineMessages)({RELATED_SEARCH_RESULT:{id:"RELATED_SEARCH_RESULT",defaultMessage:"Related Search Result"}}),_=(0,h.default)({displayName:"CanvasStory",mixins:[b.default,C.default,y.default],contextTypes:{canvasConfig:g.default.object,getStore:g.default.func.isRequired,i13n:g.default.object,session:g.default.object.isRequired},propTypes:{body:S.default,contactDetails:g.default.string,route:g.default.object,storylinePosition:g.default.number,type:g.default.string.isRequired,uuid:g.default.string.isRequired},statics:{initializeAction:v.default},getDefaultProps:function(){return{ctopic:"",storylinePosition:0}},getInitialState:function(){return this.getState(this.props)},getState:function(e){if(this.canvasConfig=this.context.canvasConfig||{},!this.canvasConfig.enableSlideshow)return{openLightboxForImages:!1,showSynthesizedSlideshow:!1,relatedImages:null};var t=this.canvasConfig.openLightboxForImages,n=this.canvasConfig.showSynthesizedSlideshow,a=this._getRelatedImages(e),o=this.canvasConfig.minImgCountToShowSlideshow||1,s=a.length>=o;return{openLightboxForImages:s&&t,showSynthesizedSlideshow:s&&n,relatedImages:a}},componentWillReceiveProps:function(e){this.setState(this.getState(e))},renderCover:function(e){var t=this,a=t.canvasConfig;if(!(0,w.default)(t.props,["showCoverItem"],!1!==a.showCoverItem)||!e)return null;var l,d,u=e.type,c=e,p={},h=a.enableTextWrap&&e.alignleft,m=a.imageDimensions||[],g=a.inlineSlideshowDimension||[],v=t.state.openLightboxForImages,b=t.state.relatedImages,C=t.state.showSynthesizedSlideshow;if(v&&"slideshow"===u&&(u="image",c=e.cover||e.photos&&e.photos[0]),v&&"image"===u&&(c.viewPhotosOverlay=!0,p.onClick=t._onBodyImageClick),C&&"image"===u&&(u="slideshow"),"videoIframe"===u)l=i.default,d="Mt(0)--sm";else if("image"===u)l=s.default,d=h?"Fl(start) Pend(20px) Mt(8px) Mb(10px) smartphone_My(18px)":"Mt(0) Mt(20px)--sm Mb(24px) Mb(22px)--sm",p.dimensions=m,p.enableTextWrap=h,p.isCoverImage=!0,p.lazyLoad=!1;else if("slideshow"===u&&a.enableSlideshow){l=n(1824).InlineSlideshow,d="Mb(24px) Mb(22px)--sm";var y=a.ads||{};p.dimensions=g,p.enableDescExtending=!0,p.enableDescExtendCover=!0,p.extendMinHeight=76,p.enableTouch=a.enableTouch,p.items=b,p.looping=!0,p.uuid=t.props.uuid,p.adRefreshPositions=y.inlineSlideshowAdRefresh||[]}else if("yvideo"===u){var S=a.showLeadVideo;if(!S)return null;var I="number"!=typeof this.props.storylinePosition||this.props.storylinePosition<=1,_=(0,n(2069).getVideoInitConfigFromContent)(this.context,a);l=r.default,p=this.getYahooVideoProps({config:{enableVideoAutoPlay:a.enableVideoAutoPlay,enableVideoDocking:a.enableVideoDocking,enableVideoEarlyInit:a.enableVideoEarlyInit,enableVideoManager:a.enableVideoManager,enableVideoMicrodata:a.enableVideoMicrodata,logoOverlay:a.logoOverlay,videoExpName:a.videoExpName,videoFallbackChannel:a.videoFallbackChannel,videoGeminiSectionId:a.videoGeminiSectionId,enableLazy:a.enableVideoLazyLoad},isFirst:!0}),p.isCurrentRenderTarget=t.props.isCurrentRenderTarget,_&&(_.autoplay=I,p=Object.assign(p,_))}return l?f.default.createElement(l,o({},c,p,{className:(0,x.default)("canvas-atom",d),"data-type":e.type})):null},showFirstImage:function(e){return this.renderCover(e)},_findBodyImageIndexByUrl:function(e,t){if(!t||!e)return null;for(var n=0;n<t.length;n++)if((0,w.default)(t,[n,"size","original","url"])===e)return n;return null},_fireBeacon:function(e,t){(0,w.default)(this.context,["i13n","executeEvent"])&&this.context.i13n.executeEvent(e,t)},_onLightBoxClose:function(){var e=this;e._fireBeacon("pageview"),e._fireBeacon("beacon",{arguments:["sshow","close",null,{elm:"btn",outcm:"cl",g:e.props.uuid,itc:0,tar:e.props.url}],beaconType:"beaconClick"})},getIBBackfill:function(e,t,n){for(var a,o,s=[].concat(t).concat(n||[]),i=t.length,r=[],l={},d=e.intl.formatMessage,u=d(I.RELATED_SEARCH_RESULT),c=0,p=s.length;c<p;c++)a=s[c],c>=i&&(a.headline=m.default.renderToStaticMarkup(f.default.createElement("div",null,f.default.createElement("p",{className:"Pb(14px)"},u),f.default.createElement("p",{dangerouslySetInnerHTML:{__html:a.headline}})))),(o=(0,w.default)(a,["size","original","url"]))&&l[o]||(r[r.length]=a,l[o]=!0);return r},_isImageValidForSlideshow:function(e,t,n){e=e||{},t=t||0,n=n||0;var a=(0,w.default)(e,["size","original","width"],0),o=(0,w.default)(e,["size","original","height"],0);return(a>t||0===a)&&(o>n||0===o)},_getRelatedImages:function(e){var t=this,n=t.canvasConfig,a=n.minImageWidthToBeInSlideshow,o=n.minImageHeightToBeInSlideshow,s=n.includeBodyImageInSlideshow,i=n.includeIBImageInSlideshow,r=[],l=e.cover,d=s?e.bodyImages||[]:[],u=e.ibsImages||[];if(l){if("image"===l.type)r=[].concat([l],d);else if("slideshow"===l.type){var c=l.photos[0],p=l.photos.slice(1);r=[].concat(c,d,p)}}else r=d;return i&&(r=t.getIBBackfill(e,r,u)),r=r.filter(function(e){return t._isImageValidForSlideshow(e,a,o)})},_onBodyImageClick:function(e,t){var a=this,o=a.canvasConfig,s=o.ads||{},i=a.props.route,r=f.default.createElement(n(19).Icon,{asset:c.default,height:"20",color:"#fff",className:"P(8px)"}),l=a.state.relatedImages,d=a._findBodyImageIndexByUrl(t,l)||0;a._fireBeacon("pageview",{pageParams:{pt:"content",pct:"slideshow",pd:"sshow"}}),a._fireBeacon("beacon",{arguments:["content-canvas","launch",null,{elm:"btn",g:a.props.uuid,itc:0,ct:"sshow",tar:this.context.session.host,tar_uri:i.url}],beaconType:"beaconClick"}),a.executeAction(n(198).show,{closeable:!0,closeButton:r,component:p.default,componentProps:{enableInterstitialAd:s.enableInterstitialAd,id:a.props.uuid,imageDimensions:o.lightboxImageDimensions||[],interstitialAdInterval:s.interstitialAdInterval,interstitialAdStart:s.interstitialAdStart,items:l,lightboxAdPositions:s.lightboxAdPositions,looping:o.enableLightboxLooping,startIndex:d,summary:a.props.summary,title:a.props.title,url:a.props.url,uuid:a.props.uuid},containerClass:"H(100%)",dangerouslyIgnoreFocus:!0,onClose:a._onLightBoxClose.bind(a)})},_addImageOverlay:function(){for(var e=this.canvasConfig,t=e.minImageWidthToBeInSlideshow,a=e.minImageHeightToBeInSlideshow,o=[].concat(this.props.cover||[],this.props.body),s=0,i=o.length;s<i;s++){var r=o[s];"image"===(r.type||(0,n(11).get)(r,"type"))&&(r.isPullQuoteImage?r.viewPhotosOverlay=!1:this._isImageValidForSlideshow(r,t,a)&&(r.viewPhotosOverlay=!0))}},render:function(){var e=this,t=e.canvasConfig,n=t.imageDimensions||[],a=e.props.body&&e.props.body[0]||{},o="image"===a.type&&!e.props.cover,s=t.enableLiveCoverage||!1,i=!1!==t.enableReadMore,r=t.enableTextWrap,c=!e.props.cover&&t.enableVideoLazyLoad,p=!e.props.cover&&t.enableVideoDocking,h=!e.props.cover&&t.enableVideoAutoPlay,m=t.enableVideoManager||!1,g=t.enableVideoEarlyInit||!1,v=t.enableVideoMicrodata||!1,b=t.enableTitle||!1,C=t.yahooVideoIframe||{},y=e.state.openLightboxForImages,x=(0,w.default)(t,["ui","titleClasses"]),S=(0,w.default)(t,["ui","bodyClasses"]);return y&&e._addImageOverlay(),f.default.createElement("article",{itemProp:"articleBody","data-uuid":e.props.uuid,"data-type":"story",className:e.props.className},b?u.default.call(this,{title:e.props.title,titleClasses:x}):null,b?f.default.createElement(l.default,{attribution:e.props.attribution,author:e.props.author,provider:e.props.provider,publishDate:e.props.publishDate,publishDateStr:e.props.publishDateStr,uuid:e.props.uuid}):null,e.renderCover(e.props.cover),o?e.showFirstImage(a):null,e.props.markup?f.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.props.markup}}):f.default.createElement(d.default,{ads:e.props.ads||null,adsMessages:e.props.adsMessages||null,body:e.props.body,bodyClasses:S,contactDetails:e.props.contactDetails,cover:e.props.cover,ctopic:e.props.ctopic,device:e.props.device,dimensions:e.props.dimensions,enableAd:e.props.enableAd,enableGeminiFeedback:e.props.enableGeminiFeedback,enableLiveCoverage:s,enableMutingBodyVideos:t.enableMutingBodyVideos,enableReadMore:i,enableTextWrap:r,enableVideoAutoPlay:h,enableVideoEarlyInit:g,enableVideoLazyLoad:c,enableVideoManager:m,enableVideoMicrodata:v,geminiFrequency:e.props.geminiFrequency||0,geminiLimit:e.props.geminiLimit||3,geminiStart:e.props.geminiStart||0,hideFirstImage:o,imageCharCount:e.props.imageCharCount||1e3,imageDimensions:n,isCurrentRenderTarget:e.props.isCurrentRenderTarget,liveCoverageEventId:this.props.liveCoverageEventId,bodySlotConfig:e.props.bodySlotConfig,bodyAdsSlotConfig:e.props.bodyAdsSlotConfig,onImageClick:y?e._onBodyImageClick:null,readMoreCharLimit:e.props.readMoreCharLimit,route:e.props.route,enableVideoDocking:p,storylinePosition:e.props.storylinePosition,uuid:e.props.uuid,videoExpName:t.videoExpName,videoExpType:t.videoExpType,videoGeminiSectionId:t.videoGeminiSectionId,vpConfigOverrides:e.props.vpConfigOverrides,yahooVideoIframe:C}))}});t.default=(0,n(31).injectIntl)(_),e.exports=t.default},3204:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(10)),l=a(n(153)),d=a(n(1222)),u=a(n(496)),c=a(n(520)),p=a(n(12)),f=a(n(149)),h=a(n(1218)),m=a(n(1489)),g=a(n(5)),v=a(n(62)),b=a(n(304)),C=a(n(1227)),y="undefined"!=typeof document?document:null,x="undefined"!=typeof window?window:null;t.default=(0,s.default)({displayName:"LightboxSlideshow",autobind:!1,mixins:[p.default,f.default],statics:{storeListeners:[m.default,h.default]},contextTypes:{session:i.default.object,renderTarget:i.default.object},propTypes:{enableInterstitialAd:i.default.bool,imageDimensions:i.default.array,interstitialAdInterval:i.default.number,interstitialAdStart:i.default.number,lightboxAdPositions:i.default.array,looping:i.default.bool,startIndex:i.default.number},getDefaultProps:function(){return{enableInterstitialAd:!1,imageDimensions:[],interstitialAdInterval:7,interstitialAdStart:2,items:[],lightboxAdPositions:[],looping:!1,startIndex:0,uuid:null}},getInitialState:function(){this.nativeAdStore=this.getStore(h.default),this.currentTaskId=1,this.slideShowStore=this.getStore(m.default),this.i13nStore=this.getStore("I13nStore"),this.pageStore=this.getStore("PageStore"),this.userStore=this.getStore("UserStore"),this.routeStore=this.getStore("RouteStore"),this.nativeAds=null,this.visitedAdIndex=[];var e=this.routeStore.getCurrentRoute()||{};return{contentSite:v.default.getContentSite(e,this.context),currentIndex:this.props.startIndex,items:this._transformImages(this.props.items),total:this.props.items.length,startIndex:this.props.startIndex}},componentDidMount:function(){if(this._isRenderTargetActive()){if(this.refs.lightboxSlideshow&&this.refs.lightboxSlideshow.getFocused(),this._refreshAd(),this._loadNativeAd(),!y)return null;y.addEventListener("touchmove",this._handleTouchMove)}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this._handleContainerClick=this._handleContainerClick.bind(this),this.i13nConfig=this.i13nStore.getI13nConfig(),"undefined"!=typeof DARLA&&DARLA.abort()},componentWillUnmount:function(){if(!y)return null;y.removeEventListener("touchmove",this._handleTouchMove)},onChange:function(e){if(this._isRenderTargetActive()){var t=this,a="lightbox-"+this.props.uuid,o=t.state.items,s={},i=!1,l=t.slideShowStore.getCurrentIndex(a),d=t.slideShowStore.getDisplayIndex(a),u=l!==d,c=t.state.currentIndex;if(e.nativeAd===a){var p=(t.nativeAdStore.popAds("lightbox-"+t.props.uuid)||r.default.List()).toJS();0!==p.length&&(t.nativeAds=p)}if(e&&a===e){if(l!==c){s.currentIndex=l,i=!0;"gemini"!==t.state.items[l].type&&(t._firePageViewBeacon(),t._refreshAd())}if(0===l&&c===o.length-1&&(s.startIndex=0,t._loadNativeAd()),!u&&t.visitedAdIndex.length>0&&-1===t.visitedAdIndex.indexOf(l)){var f=n(1824).utils.removeItemsFromArr(o,t.visitedAdIndex,l);s.items=f.list,s.currentIndex=f.updatedIndex,s.startIndex=f.updatedIndex,t.visitedAdIndex=[],i=!0}}if(!u&&t.nativeAds){var h=n(1824).utils.blendInNativeAds(o,t.nativeAds,t.state.startIndex,l,t.props.interstitialAdStart,t.props.interstitialAdInterval,t.props.imageDimensions);h&&(s.items=h,s.currentIndex=l,s.startIndex=l,i=!0),t.nativeAds=null}i&&t.setState(s)}},_isRenderTargetActive:function(){var e=this.context.renderTarget;return!!e&&e.isActive()},_loadNativeAd:function(){var e="lightbox-"+this.props.uuid,t=this.state.items||[],n=t.length,a=this.props.interstitialAdInterval,o=this.props.interstitialAdStart,s=Math.floor((a-o+n-1)/a);this.props.enableInterstitialAd&&s>0&&this.executeAction(d.default,{id:e,dimensions:this.props.imageDimensions,count:s})},_handleTouchMove:function(e){e.preventDefault()},_transformImages:function(e){var t=this,n=t.props.imageDimensions;return e=e||[],e.map(function(e,a){return{description:e.caption||t.props.summary||"",headline:e.headline||t.props.title||"",images:{regular:{url:(0,C.default)(e.size,n).url}},originalIndex:a,type:"image"}})},_refreshAd:function(){var e=this.props.lightboxAdPositions,t=this.getStore("AdStore"),n=t.getAdFetchEvent();this.executeAction(l.default,{eventName:"adFetch",positions:e,overrides:{ps:e,sa:n&&n.sa||""},siteAttrs:{}}),this.currentTaskId++},_handleContainerClick:function(e,t){this.refs.lightboxSlideshow.getFocused()},_firePageViewBeacon:function(){var e=n(14).ReactI13n.getInstance();if(e&&(e.execute("pageview",{pageParams:{pt:"content",pct:"slideshow",pd:"sshow-lightbox"}}),x)){var t=y.location.origin||y.location.protocol+"//"+y.location.hostname+(y.location.port?":"+y.location.port:"");this.i13nConfig.initComscore&&e.execute("comscore_beacons",{c14:this.userStore.getComscoreC14(),currentUrl:y.location.href,getConsentData:this.i13nConfig.enableConsentData?b.default:null,keyword:this.i13nStore.getComscoreC7Keyword(),panelTrackingUrl:t+"/pageview?client=1&property="+this.state.contentSite,spaceid:this.pageStore.getSpaceid()})}},_renderLRECs:function(e){var t=this.props.lightboxAdPositions,n=t.length;if(0!==n)return t.map(function(t,a){return o.default.createElement("div",{style:{bottom:270*(n-1-a)},className:(0,g.default)("Pos(a) Start(0)",{"D(n)":e})},o.default.createElement(u.default,{pos:t}))})},render:function(){var e="lightbox-"+this.props.uuid,t=this.state.items,a=this.state.currentIndex,s=t[a],i=this.props.lightboxAdPositions.length,r="gemini"===s.type;r&&-1===this.visitedAdIndex.indexOf(a)&&this.visitedAdIndex.push(a);var l={next:{sec:"sshow",slk:"next",elm:"btn",outcm:"ct",g:this.props.uuid,itc:0},prev:{sec:"sshow",slk:"previous",elm:"btn",outcm:"ct",g:this.props.uuid,itc:0}},d={background:"linear-gradient(to bottom, rgba(38,40,42,1) 0%, rgba(38,40,42,0) 100%)"},u={background:"linear-gradient(to bottom, rgba(38,40,42,0) 0%, rgba(38,40,42,1) 100%)"},p={borderBottomWidth:270*i};return o.default.createElement("div",{className:"H(100%) Pos(r) Bgc($c-fuji-grey-l)",onClick:this._handleContainerClick},o.default.createElement("div",{className:"W(100%) H(100%) Bxz(bb) Ov(h) Pend(380px) P(0)--sm"},o.default.createElement("div",{className:"H(100%) W(100%) Pos(r) Bxz(bb) Bgc(#131314)"},o.default.createElement(n(1824).Slideshow,{enableKeyboard:!0,enableNavButton:!1,id:e,items:t,looping:this.props.looping,onSlideshowChange:this._onSlideshowChange,ref:"lightboxSlideshow",startIndex:this.state.startIndex}),o.default.createElement(n(1824).NavigationButton,{buttonType:"prev",className:"Start(0) T(50%) Z(1) Pos(a) P(0) Bdw(0) O(n):f H(60px) W(60px) Mt(-30px)",iconColor:"#000",iconHeight:"25",items:t,slideshowId:e,startIndex:this.state.startIndex,ylk:l.prev}),o.default.createElement(n(1824).NavigationButton,{buttonType:"next",className:"End(0) T(50%) Z(1) Pos(a) P(0) Bdw(0) O(n):f H(60px) W(60px) Mt(-30px)",iconColor:"#000",iconHeight:"25",items:t,slideshowId:e,startIndex:this.state.startIndex,ylk:l.next}))),o.default.createElement("div",{className:"Pos(a) T(20px) End(40px) B(20px) W(300px) D(b) D(n)--sm"},o.default.createElement("div",{className:"Pos(r) W(100%) Ovy(a) H(100%) Bxz(bb) Bdstartw(0) Bdendw(0) Bdtw(0) Bds(s) Bdc(t)",style:p},o.default.createElement("div",{className:"top-overlay Pos(a) H(5px) T(0) W(100%) Z(2)",style:d}),o.default.createElement(c.default,{barBgc:"#26282a",indicatorW:"8px",indicatorBgc:"rgba(255, 255, 255, 0.3)"},o.default.createElement(n(1824).SlideshowDescription,{className:"C(#fff) Lh(1.4) Fz(14px) Lts(.02em) Pb(10px) Pend(8px)",enableExtending:!1,enableIndicator:!0,indicatorPos:"TOP",items:t,slideshowId:e,startIndex:this.state.startIndex,theme:"DARK",total:this.state.total})),o.default.createElement("div",{className:"bottom-overlay Pos(a) H(10px) B(0) W(100%) Z(1)",style:u})),this._renderLRECs(r)))}}),e.exports=t.default},3205:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(1)),i=a(n(4)),r=a(n(0)),l=a(n(2446)),d=a(n(2445)),u=a(n(1900)),c=a(n(1901)),p=a(n(2444)),f=a(n(39)),h=a(n(2068)),m=a(n(2459)),g=a(n(2447)),v=a(n(2));t.default=(0,i.default)({displayName:"CanvasVideo",mixins:[f.default,h.default],contextTypes:{canvasConfig:r.default.object,getStore:r.default.func.isRequired},childContextTypes:{canvasConfig:r.default.object.isRequired},propTypes:{body:g.default},statics:{initializeAction:m.default},getChildContext:function(){return{canvasConfig:this.context.canvasConfig}},renderVideo:function(){var e=this.context.canvasConfig||{},t=e.enableLeadContent,n=this.props.cover||{};if(!t)return null;var a="yvideo"===n.type?n:{},o=n.yvpConfig||{},i=this.getYahooVideoProps({config:{enableVideoAutoPlay:o.autoplay||e.enableVideoAutoPlay,enableVideoDocking:e.enableVideoDocking,enableVideoEarlyInit:e.enableVideoEarlyInit,enableVideoManager:e.enableVideoManager,enableVideoMicrodata:e.enableVideoMicrodata,logoOverlay:e.logoOverlay,videoExpName:e.videoExpName,videoFallbackChannel:e.videoFallbackChannel,videoGeminiSectionId:e.videoGeminiSectionId,enableLazy:e.enableVideoLazyLoad},isFirst:!0}),r=Object.assign({},this.props,o,i,a);return s.default.createElement(l.default,r)},render:function(){var e=this,t=this.context.canvasConfig||{},n=(0,v.default)(t,["ui","bodyClasses"]),a=!1!==t.enableVideoAttribution,i=t.enableLiveCoverage,r=t.enableMutingBodyVideos,l=!1!==t.enableVideoTitle,f=(0,v.default)(t,["ui","titleClasses"]),h=t.videoGeminiSectionId,m=!e.props.cover&&t.enableVideoLazyLoad,g=!e.props.cover&&t.enableVideoDocking,b=!e.props.cover&&t.enableVideoAutoPlay,C=t.enableVideoManager||!1,y=t.enableVideoEarlyInit||!1,x=t.enableVideoMicrodata||!1;return s.default.createElement("article",{"data-uuid":this.props.uuid,"data-type":"video",className:this.props.className},s.default.createElement(p.default,{className:"Mb(20px)--sm",typeWhitelist:{video:!0},followLink:this.props.tagFollowLink}),l?u.default.call(this,{title:this.props.title,titleClasses:f}):null,a?s.default.createElement(c.default,{attribution:this.props.attribution,author:this.props.author,provider:this.props.provider,publishDate:this.props.publishDate,publishDateStr:this.props.publishDateStr,uuid:this.props.uuid}):null,this.renderVideo(),this.props.markup?s.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.markup}}):s.default.createElement(d.default,o({ads:this.props.ads||null,adsMessages:this.props.adsMessages||null,bodyClasses:n,enableGeminiFeedback:this.props.enableGeminiFeedback,enableLiveCoverage:i,enableMutingBodyVideos:r,geminiFrequency:this.props.geminiFrequency||0,geminiLimit:this.props.geminiLimit||3,geminiStart:this.props.geminiStart||0,imageCharCount:this.props.imageCharCount||1e3,videoGeminiSectionId:h,enableVideoManager:C,enableVideoAutoPlay:b,enableVideoDocking:g,enableVideoEarlyInit:y,enableVideoLazyLoad:m,enableVideoMicrodata:x},this.props)))}}),e.exports=t.default},3206:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(1901)),l=a(n(110));t.default=(0,s.default)({displayName:"HeadComponentAttribution",mixins:[a(n(12)).default],contextTypes:{renderTarget:i.default.object},statics:{componentConfig:{name:"componentContentCanvas",filter:["attribution","shareButtons"]},storeListeners:[l.default]},propTypes:{instanceId:i.default.string},childContextTypes:{canvasConfig:i.default.object.isRequired},getChildContext:function(){return{canvasConfig:this.props.componentConfig||{}}},onChange:function(){this.setState(this.getState(this.props))},getInitialState:function(){return this.contentStore=this.getStore(l.default),this.getState(this.props)},getState:function(e){var t;return t=e.instanceId?this.contentStore.getContentByUUID(e.instanceId):this.contentStore.getCurrentContent((this.context.renderTarget||{}).id),t=t||{},{content:t,uuid:(0,n(11).get)(t,"uuid")}},shouldComponentUpdate:function(e,t){return t.uuid!==this.state.uuid},render:function(){var e=!1!==this.props.enableTypeCheck,t=this.state.content,a=(0,n(11).get)(t,"contentType"),s={story:!0,preview:!0,photoset:!0};if(e&&!s[a])return null;var i=(0,n(11).get)(t,"attribution")||{},l=(0,n(11).get)(t,"author")||{},d=(0,n(11).get)(t,"provider")||{},u=(0,n(11).get)(t,"publishDate")||"",c=(0,n(11).get)(t,"publishDateStr")||"";return o.default.createElement(r.default,{attribution:(0,n(11).toJS)(i),author:(0,n(11).toJS)(l),className:this.props.className,id:this.props.id,locales:this.props.locales,provider:(0,n(11).toJS)(d),publishDate:u,publishDateStr:c,uuid:(0,n(11).get)(t,"uuid")})}}),e.exports=t.default},3207:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(4)),s=a(n(0)),i=a(n(1900)),r=a(n(110)),l=a(n(12)),d=a(n(2));t.default=(0,o.default)({displayName:"HeadComponentTitle",mixins:[l.default],contextTypes:{renderTarget:s.default.object},statics:{storeListeners:[r.default]},propTypes:{instanceId:s.default.string},getInitialState:function(){return this.contentStore=this.getStore(r.default),this.getState(this.props)},getState:function(e){var t;if(e.instanceId)t=this.contentStore.getContentByUUID(e.instanceId);else{t=this.contentStore.getCurrentContent((this.context.renderTarget||{}).id)}return t=t||{},{categoryLabel:(0,n(11).get)(t,"categoryLabel")||"",contentType:(0,n(11).get)(t,"contentType"),title:(0,n(11).get)(t,"title")||"",property:(0,n(11).get)(t,"property")||"",uuid:(0,n(11).get)(t,"uuid")}},onChange:function(e){this.setState(this.getState(this.props))},componentWillReceiveProps:function(e){e.instanceId&&e.instanceId===this.state.uuid||this.setState(this.getState(e))},shouldComponentUpdate:function(e,t){return t.contentType!==this.state.contentType||t.title!==this.state.title},render:function(){var e=this.props.componentConfig||{},t=!1!==e.enableTypeCheck,n=this.state.contentType,a=(0,d.default)(e,["ui","titleClasses"]),o=(0,d.default)(e,["ui","enableCategoryLabel"]),s={photoset:!0,preview:!0,story:!0};return t&&!s[n]?null:i.default.call(this,{id:this.props.id,title:this.state.title,categoryLabel:this.state.categoryLabel,className:this.props.className,titleClasses:a,property:this.state.property,config:{enableCategoryLabel:o}})}}),e.exports=t.default},3208:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=a(n(10)),i=a(n(1)),r=a(n(4)),l=a(n(0)),d=a(n(1221)),u=a(n(3209)),c=a(n(3210)),p=a(n(110)),f=a(n(7)),h=a(n(12)),m=a(n(2068)),g=a(n(5)),v=a(n(62)),b=a(n(2)),C=/^https?:\/\//;t.default=(0,r.default)({displayName:"HeadComponentVideo",mixins:[h.default,m.default],propTypes:{containerClasses:l.default.string,enableAd:l.default.bool,hidePlaylist:l.default.bool,hidePlaylistWhenSmall:l.default.bool,leadVideoPlaylistView:l.default.string,leadVideoPlaylistWidth:l.default.number,leadVideoContainerBgc:l.default.string,videoLeadClasses:l.default.string,videoLeadComponentClass:l.default.string,video:l.default.object,yahooVideoPlaylist:l.default.object},contextTypes:{renderTarget:l.default.object,session:l.default.object.isRequired},statics:{componentConfig:{name:"componentContentCanvas",filter:["enableVerticalVideo","enableVideoCameraBanner","enableVideoDocking","enableVideoEarlyInit","enableVideoOnly","enableVideosContinuousPlay","enableVideoMicrodata","forceVideoAutoplayOff","leadVideoIframe","logoOverlay","playlistId","replayonlyendscreen","videoExpName","videoExpType","videoGeminiSectionId","videoFallbackChannel","videoNativePlaylist","mute"]},initializeAction:c.default,storeListeners:[p.default]},getDefaultProps:function(){return{containerClasses:"Pos(r) Mih(500px) Mih(0)--sm H(0)--sm H(60vh) H(0)--ipad Pb(sixteenx9)--sm W(100%) Ov(h)",enableAd:!0,hidePlaylist:!1,hidePlaylistWhenSmall:!0,leadVideoPlaylistView:"default",leadVideoPlaylistWidth:400,leadVideoContainerBgc:"",videoLeadClasses:"VideoLead-Container W(75%) W(100%)--sm Pend(320px) Pend(0)--sm Pos(a) T(0) B(0) Start(0)",videoLeadComponentClass:"Pos(r)",video:{}}},getInitialState:function(){return this.config=this.props.componentConfig||{},this.contentStore=this.getStore(p.default),this.leadVideoIframe=this.config.leadVideoIframe||{},this.forceVideoAutoplayOff=this.config.forceVideoAutoplayOff||!1,this.pageStore=this.getStore(f.default),this.routeStore=this.getStore("RouteStore"),this.getState()},componentDidMount:function(){this.focusVideoContainer()},shouldComponentUpdate:function(e,t){return t.uuid!==this.state.uuid||t.isCurrentRenderTarget!==this.state.isCurrentRenderTarget},onChange:function(e){e=e||{},this.config.enableVideosContinuousPlay&&("playlistVideoChange"===e.sourceId||"playlistVideoClick"===e.sourceId||(0,b.default)(this.routeStore.getCurrentNavigate(),["isVideoRouteChange"],!1))||("slotCompositeReady"===e.source&&this.focusVideoContainer(),this.setState(this.getState(e)))},focusVideoContainer:function(){var e=this.refs.videoContainer;e&&e.scrollTo(0,0)},getState:function(e){var t=this.context,a=t.renderTarget||{},o=this.contentStore.getCurrentContent(a.id)||s.default.Map(),i=this.pageStore.getPageData(),r=this.routeStore.getCurrentRoute()||{},l=t.session.dimensions,d=(0,n(11).get)(o,"ad_meta")||s.default.Map(),u=this.props.enableAd&&this.enableVideoPreRollAd(d.toJS());return{uuid:(0,n(11).get)(o,"uuid")||"",type:(0,n(11).get)(o,"contentType")||"",cover:(0,n(11).get)(o,"cover")||s.default.Map(),ctopic:i&&i.ctopic||"",dimensions:{site:v.default.getContentSite(r,t),region:l.region,lang:l.lang},enableAd:u,isCurrentRenderTarget:(0,n(1867).isCurrentRenderTarget)(t,this.pageStore),vpConfigOverrides:e&&this.getVpConfigOverrides(e),url:(0,n(11).get)(o,"url")||""}},getIframeSrc:function(e){var t=(0,n(11).get)(this.state.cover,"url"),a=[].concat(this.leadVideoIframe.params||[]);return this.forceVideoAutoplayOff||a.push("vp=1"),t||e&&(t="//video.yahoo.com/"+e+".html"),t?t.replace(C,"//")+"?"+a.join("&"):null},render:function(){var e=this.state.cover,t=(0,n(11).getIn)(e,["yvpConfig","playlist","mediaItems","0","id"]),a=(0,n(11).getIn)(e,["aliases","video"]),s=!!this.config.enableVideoOnly,r=!this.forceVideoAutoplayOff,l=this.state.isCurrentRenderTarget,c=(0,g.default)(this.props.containerClasses,{"Bgc(#000)":s,"Bgc($c-fuji-grey-l)":!s}),p=(0,b.default)(this.props,["yahooVideoPlaylist","ui","position"],"right"),f=(0,g.default)(this.props.videoLeadClasses,{"End(0) Mx(a)":s,"W(2/3)--md":s&&"bottom"!==p}),h=(0,n(11).getIn)(e,["aliases","channel"]);if("video"!==this.state.type||!t&&!a&&!h)return null;if(this.leadVideoIframe.enabled)return i.default.createElement("div",{className:"H(600px) H(500px)--md H(320px)--sm W(100%) Bgc($c-fuji-grey-l) Ta(c) Ov(h) Py(12px)"},i.default.createElement("iframe",{src:this.getIframeSrc(a),className:"W(100%) H(100%) Bd(none) Maw(1400px)"}));var m;r&&(m={tabIndex:0,ref:"videoContainer"});var v=Object.assign({useVideoLeadModulePrefix:!0},this.config),C=(0,n(2069).getVideoInitConfigFromContent)(this.context,v),y=Object.assign({className:this.props.videoLeadComponentClass,containerBgc:this.props.leadVideoContainerBgc,cTopic:this.state.ctopic,dimensions:this.state.dimensions,enableAd:this.state.enableAd,expName:this.config.videoExpName,expType:this.config.videoExpType,enableNativePlaylist:this.config.videoNativePlaylist,enableMicrodata:this.config.enableVideoMicrodata,enableNavTimers:r,enableVerticalVideo:!!this.config.enableVerticalVideo,geminiSectionId:this.config.videoGeminiSectionId,hidePlaylist:this.props.hidePlaylist,hidePlaylistWhenSmall:this.props.hidePlaylistWhenSmall,logoOverlay:this.config.logoOverlay,maintain16x9ratio:!1,playlistView:this.props.leadVideoPlaylistView,playlistWidth:this.props.leadVideoPlaylistWidth,replayonlyendscreen:this.config.replayonlyendscreen||!1,useAppDocking:this.config.enableVideoDocking,vpConfigOverrides:this.state.vpConfigOverrides,yahooVideoPlaylist:this.props.yahooVideoPlaylist},C),x=(0,n(11).getIn)(e,["query","recommendations"]);void 0!==x&&(y.videoRecommendations="true"===x);var S=this.config.enableVideoCameraBanner&&(0,n(213).isCameraBannerEnabled)({uuid:this.state.uuid}),w=this.props.id;S&&(w=null,y.playerKey=this.props.id,y.contentUuid=this.state.uuid);var I=i.default.createElement("div",{id:w,className:c},i.default.createElement("div",{className:f},i.default.createElement("div",o({className:"VideoLead-Container-inner Pos(a) T(0) B(0) End(0) Start(0)"},m),i.default.createElement(d.default,o({},y,this.props.video)))));if(S&&(I=i.default.createElement("div",{id:this.props.id},I,i.default.createElement(u.default,o({},y,this.props.video)))),l)return I;var _={lazyLoad:!0,viewport:{margins:{usePercent:!1,top:0,bottom:0},bottomBoundary:1/0}};return i.default.createElement(n(1214).Placeholder,_,I)}}),e.exports=t.default},3209:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=a(n(1)),d=(a(n(0)),a(n(5))),u=a(n(508)),c=a(n(40)),p=a(n(588)),f=a(n(208)),h=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={leadPlayerInited:!1,leadPlayerStarted:!1,selectedCameraIndex:-1},n._onVideoStart=n._onVideoStart.bind(n),n._syncCameraCallback=[n._syncCamera.bind(n,0),n._syncCamera.bind(n,1)],n}return i(t,e),r(t,[{key:"componentDidMount",value:function(){this._setupLeadPlayer()}},{key:"componentDidUpdate",value:function(){this._setupLeadPlayer()}},{key:"_setupLeadPlayer",value:function(){this.state.leadPlayerInited||this.props.leadPlayer&&(this.setState({leadPlayerInited:!0}),this._initleadPlayerEvent())}},{key:"_initleadPlayerEvent",value:function(){this.props.leadPlayer.on(window.YAHOO.VideoPlatform.API_Events.VIDEO_STARTED,this._onVideoStart),this._onVideoStart()}},{key:"_onVideoStart",value:function(){var e=this.props.leadPlayer;e&&e.controls.isPlaying()&&(this.state.leadPlayerStarted||this.setState({leadPlayerStarted:!0}),this._syncCamera())}},{key:"_syncCamera",value:function(e){var t,n=this.props,a=this.props.leadPlayer,o=(0,p.default)(n.contentUuid);if(a&&o&&o.cameras){var s=a.playlist.getCurrentItemId(),i=o.cameras;if(void 0===e)for(var r=0;r<i.length;r++)if(i[r]&&i[r].id===s){e=r;break}e>=0&&(t=i[e].id),this.setState({selectedCameraIndex:e}),t&&s!==t&&(-1===a.playlist.getIndexForId(t)&&a.playlist.addItem(t),a.playlist.setPositionById(t))}}},{key:"_renderCamera",value:function(e){var t=this.props,n=this.state,a=n.selectedCameraIndex,o=(0,p.default)(t.contentUuid),s=o&&o.cameras&&o.cameras[e];if(!s)return null;var i=l.default.createElement("div",{className:"H(18px) Lh(18px) C(#fff) Fw(b) Pos(a) B(10px) Start(18px)"},l.default.createElement("span",{className:"W(14px) H(14px) D(ib) Bgc(#ff520e) Bdrs(7px) Mend(8px) Va(tb)"}),s.label),r={};return s.thumbnail&&(r.backgroundImage="url("+s.thumbnail+")"),e===a?l.default.createElement("div",{className:"W(100%) H(100%) Pos(r) Bgz(cv)",style:r},l.default.createElement("div",{className:"Fz(35px) Fw(b) C(#fff) Pos(a) B(50%) Start(20px)"},"Watching"),i):l.default.createElement("div",{className:"W(100%) H(100%) Pos(r) Bgz(cv)",style:r,onClick:this._syncCameraCallback[e]},l.default.createElement(u.default,{autoplay:!0,ccOnMute:!1,className:"W(100%) H(100%)",continuousPlay:!1,cTopic:t.cTopic,detachable:!1,dimensions:t.dimensions,enableAd:!1,enableSharedMediaStore:t.enableSharedMediaStore,energySaverMode:t.energySaverMode,expName:t.expName,expType:t.expType,html5:t.html5,mute:!0,playContext:t.playContext,rapidConfig:t.rapidConfig,spaceid:t.spaceid,stopBufferingOnPause:t.stopBufferingOnPause,suppressAdContext:!!t.suppressAdContext,loop:!0,yvapid:t.yvapid,playlist:[{id:s.id}],showControls:!1}),i)}},{key:"render",value:function(){var e=this,t=this.props,n=(0,p.default)(t.contentUuid);if(!n||!n.enabled)return null;var a=this.state.selectedCameraIndex;return l.default.createElement("div",{className:"camera-banner H(194px) Bgr(nr) Bgc(#a2116b) Bgi(camera-banner) Bgz(1671px,194px) Pos(r)"},l.default.createElement("div",{className:"W(516px) H(0) Pos(a) Start(60px) T(50px) Pt(79px) C(#fff) H(20px) Fz(17px) Lh(20px) Bgi(camera-logo) Bgr(nr) Bgz(100%) Fw(b)"},n.watchLabel),this.state.leadPlayerStarted?[0,1].map(function(t){var n=(0,d.default)("H(153px) W(272px) Bgc(#808080) Pos(a) T(21px) Bxsh(camera)",{"Bdstartw(8px) Bdstarts(s) Bdstartc(#188fff)":a===t,"End(402px)":0===t,"End(80px)":1===t});return l.default.createElement("div",{key:t,className:n},e._renderCamera(t))}):null)}}]),t}(n(1).PureComponent);h.defaultProps={enableSharedMediaStore:!1,energySaverMode:!1,html5:!1,stopBufferingOnPause:!1},h.displayName="CameraBanner",t.default=(0,f.default)(h,[c.default],function(e,t){var n=e.getStore(c.default),a=n.getVideoPlayer(t.playerKey);return{leadPlayer:a&&a.player||null}}),e.exports=t.default},3210:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){(0,s.default)(e,(0,i.default)({},{componentProps:{componentConfig:{useVideoLeadModulePrefix:!0}}},t),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=a(n(2459)),i=a(n(23));o.displayName="initHeadComponentVideo",e.exports=t.default},3211:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(1237)),l=a(n(12)),d=a(n(96)),u=a(n(1238)),c=a(n(7)),p=a(n(21)),f=a(n(5)),h=a(n(62)),m=a(n(489)),g=a(n(1830));t.default=(0,s.default)({displayName:"CanvasPageView",autobind:!1,mixins:[l.default,d.default],contextTypes:{renderTarget:i.default.object,session:i.default.object},getInitialState:function(){return this.pageStore=this.getStore(c.default),this.routeStore=this.getStore(p.default),this._getState(this.props)},getDefaultProps:function(){return{content:{},isCurrentContent:!1,uuid:""}},componentWillMount:function(){this._getState=this._getState.bind(this),this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentWillUnmount:function(){this.onEnterViewport(null)},componentDidMount:function(){this.history=new r.default,this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillReceiveProps:function(e){e.uuid!==this.props.uuid&&this.setState(this._getState(e))},shouldComponentUpdate:function(e,t){return e.uuid!==this.props.uuid},_getState:function(e){var t=e.content,a=(0,n(11).get)(t,"url"),o=(0,n(11).get)(t,"uuid"),s=h.default.getContextSite(this.context);if(e.isCurrentContent){var i=this.routeStore.getCurrentRoute()||{};return{content:t,uuid:o,link:o&&i.url}}if(h.default.isLcpContent(t)){var r=h.default.getDevice(this.context);a=g.default.getPreviewUrl(o,a,(0,n(11).get)(t,"title"),r,(0,n(11).get)(t,"lcp"),s)}var l="undefined"!=typeof window&&window.location.search||"";return a=m.default.convertUrl(a,s),a=a&&0===a.indexOf("/")?a+l:null,{content:t,link:a,uuid:o}},handleEnterViewport:function(){if(!this.pageStore.getLoadingStatus()&&this.context.renderTarget.isActive()){var e=this.state.link,t=this.state.content;(0,n(11).get)(t,"markup")&&(0,n(1867).initializeCaas)(this.context,"YDC-MainCanvas"),e&&e!==this.history.getUrl()&&(this.history.replaceState({},(0,n(11).get)(t,"title"),e),this.executeAction(u.default,{content:t,pageParams:{p_cpos:this.props.position},spaceid:(0,n(11).get)(t,"spaceId"),url:e}))}},render:function(){return this.props.children?o.default.createElement("div",{className:(0,f.default)("canvas-pageview",this.props.className)},this.props.children):null}}),e.exports=t.default},3212:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(3213)),l=a(n(12)),d=a(n(110)),u=a(n(3214)),c=a(n(10)),p=(0,s.default)({displayName:"Storylines",autobind:!1,mixins:[l.default],statics:{storeListeners:[d.default]},childContextTypes:{canvasConfig:i.default.object,renderTarget:i.default.object},contextTypes:{renderTarget:i.default.object,session:i.default.object.isRequired},propTypes:{componentConfig:i.default.object},getChildContext:function(){return{canvasConfig:this.props.componentConfig,renderTarget:this.context.renderTarget}},getInitialState:function(){return this.contentStore=this.getStore(d.default),this.config=this.props.componentConfig||{},this.fetched=!1,this.getState()},getState:function(){var e,t=this.context.renderTarget||{},a=this.state||{},o=this.config,s=o.count,i=o.enableBackfill;e=this.contentStore.getCurrentContent(t.id)||c.default.Map({});var r=this.contentStore.getRelatedContentList(s,i)||c.default.List(),l=(0,n(11).get)(e,"uuid");return l!==a.uuid&&(this.fetched=!1),{relatedContentList:r,uuid:l}},onChange:function(e){e=e||{},this.setState(this.getState())},componentWillMount:function(){this.getState=this.getState.bind(this),this.onChange=this.onChange.bind(this)},componentDidMount:function(){this._loadRelated()},componentDidUpdate:function(){this._loadRelated()},shouldComponentUpdate:function(e,t){return t.uuid!==this.state.uuid||t.relatedContentList.size!==this.state.relatedContentList.size},_loadRelated:function(){var e=this.state;this.fetched||!e.uuid||e.relatedContentList&&0!==e.relatedContentList.size||(this.fetched=!0,this.executeAction(u.default,{relatedToUuid:e.uuid,sourceId:"storylines"}))},render:function(){var e=this,t=e.props.base,n=e.config,a=e.state.relatedContentList;if(0===a.size)return null;var s=a.map(function(e,a){return o.default.createElement(r.default,{key:"StorylineContainer-"+a,item:e,index:a,siblings:t,config:n})});return o.default.createElement("div",null,s)}});t.default=(0,n(31).injectIntl)(p),e.exports=t.default},3213:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=a(n(4)),i=a(n(0)),r=a(n(1231)),l=a(n(2674)),d=a(n(147)),u=a(n(12)),c=a(n(7)),p=a(n(2)),f=(0,s.default)({displayName:"StorylineContainer",autobind:!1,mixins:[u.default],statics:{storeListeners:[c.default]},childContextTypes:{canvasConfig:i.default.object,renderTarget:i.default.object},contextTypes:{executeAction:i.default.func,renderTarget:i.default.object,session:i.default.object.isRequired},propTypes:{index:i.default.number,item:i.default.object},getChildContext:function(){return{canvasConfig:this.props.componentConfig,renderTarget:this.context.renderTarget}},getInitialState:function(){return this.pageStore=this.getStore(c.default),{canvassComponent:null,companionComponent:null,leadComponent:null}},getComposite:function(e){var t=this.props.item;if(t){return(this.pageStore.getComposite(e+"-"+(0,n(11).get)(t,"uuid"))||{}).components||null}},componentDidMount:function(){this._loadComposites()},componentDidUpdate:function(){this._loadComposites()},shouldComponentUpdate:function(e,t){var n=this.state,a=(0,p.default)(n,["canvassComponent","props","id"],null),o=(0,p.default)(t,["canvassComponent","props","id"],null),s=(0,p.default)(n,["companionComponent","props","id"],null),i=(0,p.default)(t,["companionComponent","props","id"],null),r=(0,p.default)(n,["leadComponent","0","props","id"],null),l=(0,p.default)(t,["leadComponent","0","props","id"],null);return a!==o||s!==i||r!==l},_loadComposites:function(){var e=this,t=e.props.item;if(t){var a=(0,n(11).get)(t,"uuid");this._createComposites("canvass",[{bundleName:"tdv2-applet-canvass",name:"CanvassApplet",config:e.props.config.canvassConfig,props:{instanceId:"canvass-"+a,context:a,oauthConsumerKey:"frontpage.oauth.canvassKey",oauthConsumerSecret:"frontpage.oauth.canvassSecret"}}],!1),this._createComposites("companion",e.props.siblings.Companions,!0),this._createComposites("lead",e.props.siblings.Lead,!0)}},_createComposites:function(e,t,a){var o=this.context,s=this.props,i=s.item;if(i){var r=(0,n(11).get)(i,"uuid"),l=e+"-"+r;a&&(t=this.insertPropsIntoComponents(t,{instanceId:r,contentId:r})),o.executeAction(d.default,{name:l,components:t})}},insertPropsIntoComponents:function(e,t){e=e||[];var n=e.length;if(n){for(var a=[],o=0;o<n;o++){var s=Object.assign({},e[o]);s.props=Object.assign({},s.props,t),a.push(s)}return a}},onChange:function(e){e=e||{};var t=this.props.item,a=(0,n(11).get)(t,"uuid"),o=e.eventName,s=null;if("NEW_PAGE_START"===o)return void this.setState({canvassComponent:null,companionComponent:null,leadComponent:null});"CREATE_COMPOSITE_SUCCESS"===o&&e.name==="canvass-"+a&&(s=this.getComposite("canvass"))&&this.setState({canvassComponent:s[0]}),"CREATE_COMPOSITE_SUCCESS"===o&&e.name==="companion-"+a&&(s=this.getComposite("companion"))&&this.setState({companionComponent:s[0]}),"CREATE_COMPOSITE_SUCCESS"===o&&e.name==="lead-"+a&&(s=this.getComposite("lead"))&&this.setState({leadComponent:s})},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.getComposite=this.getComposite.bind(this)},render:function(){var e=this.props.item,t=this.props.index+2;if(!e||(0,n(11).isEmpty)(e))return null;var a=(0,n(11).get)(e,"uuid"),s=Object.assign({},this.props,{content:e,uuid:a,instanceId:a,position:t,key:"StorylineItem-"+a}),i=this.state.leadComponent?o.default.createElement(r.default,{name:"StorylineLead-"+t,Lead:this.state.leadComponent,outerClassName:"Pt(35px)",innerClassName:"Z(1) Pos(r)"}):null,d="canvas-bottom-anchor-"+a,u=this.state.canvassComponent?o.default.createElement("div",{className:"canvas-canvass-comments"},o.default.createElement("span",{className:d,"aria-hidden":!0}),o.default.createElement(n(145).Composite,{nodeName:"div",components:[this.state.canvassComponent]})):null,c=this.state.companionComponent?o.default.createElement(n(145).Composite,{nodeName:"div",components:[this.state.companionComponent],className:"CompanionSlot Pos(a) T(0) Start(0) B(40px) W(40px) Ov(h)"}):null;return o.default.createElement("div",{className:"Pos(r) Bdtc($c-fuji-grey-f) Bdts(s) Bdtw(1px) Bxz(bb)"},i,o.default.createElement("div",{className:"Pos(r)"},o.default.createElement("div",{className:"Mih(328px) Pb(45px)"},o.default.createElement("div",{className:"Maw(650px) Mstart(80px) Mstart(65px)--modalMinWidth"},o.default.createElement(l.default,s),u)),c))}});t.default=(0,n(31).injectIntl)(f),e.exports=t.default},3214:function(e,t,n){function a(e){var t=e.getStore("RouteStore").getCurrentRoute()||{};return n(2)(t,["params","contentSite"])||t.contentSite}var o=n(3)("CanvasActions:loadRelatedContent");e.exports=function(e,t,s){if(o("Load related content",t),!e||!t||!t.relatedToUuid)return s&&s(n(146).http.badRequest("Missing relatedToUuid parameter"));var i=t.relatedToUuid,r={fetchNewAttribution:!0,getDetailView:!0,getFullLcp:!1,showRelatedContent:!1,relatedContent:{enabled:!0},relatedToUuid:i,site:t.site||a(e)||e.session.dimensions.site||"fp",useSlingstoneLcp:!0};t.redisCompress&&(r.redisCompress=!0);var l=t.sourceId;e.service.read("content",r,{},function(t,a){var o,r;if(t||!a.items||!a.items.length)return e.dispatch("RECEIVE_CONTENT_FAILURE",{err:t||n(146).http.notFound("No related item returned from response"),relatedToUuid:i}),e.dispatch("ADD_RELATED_UUIDS",{relatedUuids:[],sourceId:l}),s&&s(t);o={items:a.items,sourceId:l};var d=[];for(r=0;r<o.items.length;r++)d.push(o.items[r].uuid);e.dispatch("RECEIVE_CONTENT_SUCCESS",o),e.dispatch("ADD_RELATED_UUIDS",{relatedUuids:d,sourceId:l}),s&&s()})}}});