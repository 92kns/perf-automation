(window.webpackJsonp=window.webpackJsonp||[]).push([["Governance~Reddit"],{"./src/lib/assertNever.ts":function(e,t,r){"use strict";function n(e){throw new Error("Unexpected object: "+e)}r.d(t,"a",function(){return n})},"./src/lib/bigNumberUtils/percent.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./node_modules/bignumber.js/bignumber.js");function a(e,t){var r=new n.BigNumber(e),a=new n.BigNumber(t),s=new n.BigNumber(r.dividedBy(a)),i=new n.BigNumber("100").multipliedBy(s);return new n.BigNumber(i).toNumber()}},"./src/lib/copyToClipboard/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/logs/console.ts");t.a=function(e){var t=document.body.scrollTop,r=document.body.scrollLeft,a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select();try{document.execCommand("copy")}catch(t){return Object(n.a)(t,"Failed to copy text: "+e),!1}return document.body.removeChild(a),document.body.scrollTop=t,document.body.scrollLeft=r,!0}},"./src/lib/filterQueryParams/index.ts":function(e,t,r){"use strict";var n=r("./node_modules/lodash/omit.js"),a=r.n(n),s=r("./node_modules/url/url.js"),i=r.n(s);t.a=function(e,t){var r=i.a.parse(e,!0);return r.search=void 0,r.query=Object.assign({},a()(r.query,t)),i.a.format(r)}},"./src/lib/formatApiError/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("./src/app/strings/index.ts"),a=r("./src/app/strings/sources/error.js");function s(e,t,r){return t?t.fields&&t.fields.length?t.fields.map(function(e){return e.msg}).join(", "):t.type&&a.a[t.type]?Object(n.a)(e,"error."+t.type):401===r?Object(n.a)(e,"error.authentication"):Object(n.a)(e,"error.generic"):""}},"./src/lib/getParsedUserAgent/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i});var n=r("./node_modules/ua-parser-js/src/ua-parser.js"),a=r.n(n),s=function(e){return"mobile"===c(e).device.type},i=function(e){return"Chrome"===c(e).browser.name};function c(e){return new a.a(e).getResult()}},"./src/lib/makeCollectionCommentsPageKey/index.ts":function(e,t,r){"use strict";t.a=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="collectionCommentsPage--[collection:'"+e+"']";return t&&(a+="--[post:'"+t+"']"),r&&(a+="--[rootComment:'"+r+"']"),n&&(n.sort&&n.hasSortParam&&(a+="--[sort:'"+n.sort+"']"),n.context&&(a+="--[context:"+n.context+"]"),n.depth&&(a+="--[depth:"+n.depth+"]")),a}},"./src/lib/makeDraftKey/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./src/app/models/Draft.ts");function a(e,t){return n.a[e]+"_"+t}},"./src/lib/makeExplorePageKey/index.ts":function(e,t,r){"use strict";function n(e){return"Explore--[categoryName:"+e.categoryName+"]"}r.d(t,"a",function(){return n})},"./src/lib/makeOverviewConversationsItemKey/index.ts":function(e,t,r){"use strict";t.a=function(e,t){return"overviewConversations--[profile:'"+t+"']--[post:'"+e+"']"}},"./src/lib/makePartnerSubredditConnectionPageKey/index.ts":function(e,t,r){"use strict";function n(e){return"PartnerSubredditConnection--[to:"+e.to+"]--[userId:"+e.userId+"]"}r.d(t,"a",function(){return n})},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,r){"use strict";function n(e){var t="PostDraftPage";return e.draftId&&(t+="--[draftId:"+e.draftId+"]"),t}r.d(t,"a",function(){return n})},"./src/lib/makeSearchKey/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o});var n=r("./src/lib/constants/index.ts"),a=function(e,t){return e+"--[type:"+t.sort().join(",")+"]"},s=new Set(["f","n","0"]),i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase();return!(0===e.length||"off"===e||s.has(e[0]))},c=function(e){return e?"1":""},o=function(e){var t=e.sort&&Object(n.Xb)(e.sort)?e.sort:n.ob,r=e.t&&n.Ub.has(e.t)?e.t:n.pb,a=e.type,s=[];"string"==typeof a?s=decodeURIComponent(a).split(",").sort().filter(n.Yb):Array.isArray(a)&&(s=a.filter(n.Yb)),s&&0!==s.length||(s=[n.Eb.Posts,n.Eb.Subreddits,n.Eb.Users]);var o={q:e.q,sort:t,t:r,type:s};return void 0!==e.include_over_18&&(o.include_over_18=c(i(e.include_over_18))),void 0!==e.restrict_sr&&(o.restrict_sr=c(i(e.restrict_sr))),e.is_multi&&(o.is_multi=c(i(e.is_multi))),o};t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e||"!";return t.include_over_18&&(r=r+"--[include_over_18:"+t.include_over_18+"]"),t.q&&(r=r+"--[q:"+t.q+"]"),t.restrict_sr&&(r=r+"--[restrict_sr:"+t.restrict_sr+"]"),t.sort&&(r=r+"--[sort:"+t.sort+"]"),t.t&&(r=r+"--[t:"+t.t+"]"),r.toLowerCase()}},"./src/lib/omitKey/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("./node_modules/babel-runtime/helpers/typeof.js"),a=r.n(n),s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r};function i(e,t){if(t in e){var r=t;e[r];return s(e,["symbol"===(void 0===r?"undefined":a()(r))?r:r+""])}return e}},"./src/lib/truthyString/index.ts":function(e,t,r){"use strict";var n=new Set(["0","disabled","false","off",""]);t.a=function(e){return!n.has(e.toLowerCase())}},"./src/reddit/actions/ad.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/helpers/defineProperty.js"),s=r.n(a),i=r("./node_modules/babel-runtime/regenerator/index.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),u=r.n(o),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/config.ts"),p=r("./src/lib/constants/index.ts"),b=r("./src/lib/makeApiRequest/index.ts"),f=(n=u()(c.a.mark(function e(t,r,n){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={count:r},n&&(a.subreddit=n),e.abrupt("return",Object(b.b)(t,{type:"json",endpoint:l.a.gatewayUrl+"/desktopapi/v1/sidebar_ads",method:p.Fa.POST,data:a}));case 3:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return n.apply(this,arguments)}),O=r("./src/reddit/helpers/adCount/index.ts"),m=r("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),v=r("./src/reddit/selectors/platform.ts"),g=r("./src/reddit/selectors/posts.ts");r.d(t,"a",function(){return j}),r.d(t,"c",function(){return h}),r.d(t,"b",function(){return y}),r.d(t,"d",function(){return _}),r.d(t,"e",function(){return E}),r.d(t,"f",function(){return x}),r.d(t,"g",function(){return w}),r.d(t,"h",function(){return C});var j="AD_BRAND_SAFETY_STATUS_RECEIVED",h="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",y="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",_="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",E="RESET_SIDEBAR_PROMOTED_POSTS",x=Object(d.a)(j),T=Object(d.a)(y),I=Object(d.a)(h),S=Object(d.a)(_),k=Object(d.a)("REFRESH_SIDEBAR_PROMOTED_POST_FAILED"),w=(Object(d.a)(E),function(e){return t=u()(c.a.mark(function t(r,n,a){var s,i,o,u,d,l,p,b,j,h,y=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=Object(O.b)(s,e),0!==(o=i.length)){t.next=5;break}return t.abrupt("return");case 5:t.t0=e,t.next=t.t0===m.a.COMMENTS?8:t.t0===m.a.COMMENTS_OVERLAY?8:t.t0===m.a.FRONTPAGE?12:t.t0===m.a.MULTIREDDIT?12:t.t0===m.a.SEARCH_RESULTS?12:t.t0===m.a.SUBREDDIT?12:17;break;case 8:if(Object(v.l)(s,{page:s.platform.currentPage})){t.next=11;break}return t.abrupt("return");case 11:return t.abrupt("break",20);case 12:if(u=s.listings.activeKey,(d=Object(g.F)(s,{listingKey:u}))&&d.length){t.next=16;break}return t.abrupt("return");case 16:return t.abrupt("break",20);case 17:t.next=19;break;case 19:return t.abrupt("return");case 20:if(l=Object(v.e)(s),p=void 0,!l){t.next=28;break}return t.next=25,f(y(),o,l);case 25:p=t.sent,t.next=31;break;case 28:return t.next=30,f(y(),o);case 30:p=t.sent;case 31:if(p.body&&p.body.length){for(b=p.body,j={},h=0;h<b.length;h++)j[i[h]]=b[h];r(T(j))}else r(I(p.error));case 32:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}),C=function(e){return t=u()(c.a.mark(function t(r,n,a){var i,o=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(o(),1);case 2:(i=t.sent).body&&i.body.length?r(S(s()({},e,i.body[0]))):r(k(i.error));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/adblockUpsell.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return b});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/constants/adblockUpsellModal.ts"),u=r("./src/reddit/endpoints/user/index.ts"),d=r("./src/reddit/selectors/user.ts"),l="ADBLOCK_MODAL_SEEN_SUCCESS",p=Object(c.a)(l),b=function(){return e=i()(a.a.mark(function e(t,r,n){var s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(d.B)(r())){e.next=8;break}return t(p()),e.next=4,Object(u.a)(n.apiContext());case 4:e.sent.ok,e.next=11;break;case 8:s=Date.now(),localStorage.setItem(o.a,s.toString()),t(p());case 11:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/alpha.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/logs/errors.ts"),d=r("./src/lib/makeApiRequest/index.ts"),l=r("./src/lib/omitHeaders/index.ts"),p=r("./src/reddit/constants/headers.ts"),b=function(e,t){return Object(d.b)(Object(l.a)(e,[p.a]),{endpoint:e.apiUrl+"/api/v1/alpha/remove",method:o.Fa.POST,data:t,type:"json"})},f=r("./src/config.ts");var O,m=r("./src/reddit/actions/toaster.ts"),v=r("./src/reddit/models/Toast/index.ts"),g=r("./src/lib/makeRequest/index.ts"),j=(O=i()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)({method:o.Fa.POST,endpoint:"/timings/optoutrequest",data:{appName:t.statsAppName,successful:r},type:"json"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return O.apply(this,arguments)});r.d(t,"b",function(){return h}),r.d(t,"c",function(){return y}),r.d(t,"a",function(){return _}),r.d(t,"f",function(){return E}),r.d(t,"g",function(){return x}),r.d(t,"e",function(){return T}),r.d(t,"h",function(){return R}),r.d(t,"l",function(){return D}),r.d(t,"j",function(){return P}),r.d(t,"d",function(){return N}),r.d(t,"k",function(){return L}),r.d(t,"i",function(){return U}),r.d(t,"m",function(){return M});var h="ADD_PARTICIPANTS_REQUESTED",y="ADD_PARTICIPANTS_SUCCESS",_="ADD_PARTICIPANTS_FAILED",E="REMOVE_PARTICIPANTS_REQUESTED",x="REMOVE_PARTICIPANTS_SUCCESS",T="REMOVE_PARTICIPANTS_FAILED",I=Object(c.a)(x),S=Object(c.a)(h),k=Object(c.a)(_),w=Object(c.a)(x),C=Object(c.a)(E),A=Object(c.a)(T),R=function(e,t,r){return n=i()(a.a.mark(function n(s,i,c){var u,b=c.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s(S()),n.next=3,a=b(),i={subreddits:e,users:t,message:r},Object(d.b)(Object(l.a)(a,[p.a]),{endpoint:a.apiUrl+"/api/v1/alpha/add",method:o.Fa.POST,data:i,type:"json"});case 3:(u=n.sent).ok?s(I(Object.assign({},u.body))):s(k({error:u.error}));case 5:case"end":return n.stop()}var a,i},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},D=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,u=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(C()),c={subreddits:e,users:t},r.next=4,b(u(),c);case 4:(o=r.sent).ok?n(w(Object.assign({},o.body))):n(A({error:o.error}));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},P=function(e){return t=i()(a.a.mark(function t(r,n,s){var i=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=i(),Object(d.b)(Object(l.a)(n,[p.a]),{endpoint:n.apiUrl+"/api/leave_redesign_beta",method:"post",type:"json"});case 2:if(!t.sent.ok){t.next=9;break}return t.next=6,j(i(),!0);case 6:e&&window.location.reload(),t.next=11;break;case 9:j(i(),!1),r(Object(m.e)({kind:v.a.Error,text:"Sorry, something went wrong. Try Opting out again."}));case 11:case"end":return t.stop()}var n},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},N="OPTOUT_BANNER_TOGGLED",L=Object(c.a)(N),U=function(){return e=i()(a.a.mark(function e(t,r,n){var s=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s(),Object(d.b)(Object(l.a)(t,[p.a]),{endpoint:t.apiUrl+"/api/join_redesign_beta",method:"post",type:"json"}).then(function(){var e=window.location,t=e.pathname,r=e.search,n=""+f.a.redditUrl+t+r;window.location.replace(n)});case 1:case"end":return e.stop()}var t},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},M=function(){return e=i()(a.a.mark(function e(t,r,n){var s=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(u.a)({context:s(),error:{},type:o.s.LOGGEDIN_HAS_REDESIGN_COOKIE});case 1:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./src/lib/makeActionCreator/index.ts"),a="API_REQUEST_HEADERS__set";Object(n.a)(a)},"./src/reddit/actions/apiRequestState.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"c",function(){return o}),r.d(t,"h",function(){return u}),r.d(t,"e",function(){return d}),r.d(t,"f",function(){return l}),r.d(t,"g",function(){return p});var n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/models/ApiRequestState/index.ts"),s="API_REQUEST_STATE__STARTED",i="API_REQUEST_STATE__COMPLETED",c="API_REQUEST_STATE__FAILED",o="API_REQUEST_STATE__RELEASED";function u(e){return{type:s,payload:{apiRequestStatus:a.a.Pending,apiRequestId:e}}}function d(e){return{type:i,payload:{apiRequestStatus:a.a.Complete,apiRequestId:e}}}function l(e,t){return{type:c,payload:{apiRequestStatus:a.a.Failed,apiRequestId:e,apiError:t}}}var p=Object(n.a)(o)},"./src/reddit/actions/appeal.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/omitHeaders/index.ts"),l=r("./src/reddit/constants/headers.ts"),p=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),b=function(e,t,r){return Object(u.b)(Object(d.a)(e,[l.a]),{method:o.Fa.POST,endpoint:Object(p.a)(e.apiUrl+"/api/appeal"),data:{description:t,email:r}})},f=r("./src/reddit/endpoints/me/index.ts"),O=r("./src/reddit/helpers/pageActionLoginRedirect.ts");r.d(t,"e",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"a",function(){return g}),r.d(t,"d",function(){return j}),r.d(t,"c",function(){return h}),r.d(t,"f",function(){return S}),r.d(t,"g",function(){return k});var m="APPEAL_PENDING",v="APPEAL_LOADED",g="APPEAL_FAILED",j="APPEAL_PAGE_LOADED",h="APPEAL_PAGE_FAILED",y=Object(c.a)(m),_=Object(c.a)(v),E=Object(c.a)(g),x=Object(c.a)("APPEAL_PAGE_PENDING"),T=Object(c.a)(j),I=Object(c.a)(h),S=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(x()),e.next=3,Object(f.a)(c());case 3:if((s=e.sent).ok&&s.body){e.next=7;break}return t(I(s.error)),e.abrupt("return");case 7:if(s.body.account){e.next=11;break}return i=r(),Object(O.a)(t,i),e.abrupt("return");case 11:t(T(s.body));case 12:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},k=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,u=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),!c.appeal.api.pending){r.next=4;break}return r.abrupt("return");case 4:return n(y()),r.next=7,b(u(),e,t);case 7:(o=r.sent).ok&&o.body.success?n(_()):n(E());case 9:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/authorFlair.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=r("./src/lib/makeActionCreator/index.ts"),a="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",s=Object(n.a)(a)},"./src/reddit/actions/badge.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return d}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return p}),r.d(t,"f",function(){return b}),r.d(t,"d",function(){return f}),r.d(t,"e",function(){return O}),r.d(t,"i",function(){return m}),r.d(t,"g",function(){return v}),r.d(t,"h",function(){return g}),r.d(t,"j",function(){return j}),r.d(t,"k",function(){return k}),r.d(t,"l",function(){return w}),r.d(t,"m",function(){return C});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/governance.ts"),u=r("./src/reddit/endpoints/governance/badges.ts"),d="BADGE__BADGE_MODAL_OPENED",l="BADGE__BADGE_APPLICATION_SUCCESS",p="BADGE__BADGE_APPLICATION_FAILURE",b="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",f="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",O="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",m="BADGE__USER_BADGES_FETCH_SUCCESS",v="BADGE__USER_BADGES_FETCH_FAILURE",g="BADGE__USER_BADGES_FETCH_PENDING",j=Object(c.a)(d),h=Object(c.a)(l),y=Object(c.a)(p),_=(Object(c.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(c.a)(b)),E=Object(c.a)(f),x=Object(c.a)(O),T=Object(c.a)(m),I=Object(c.a)(v),S=Object(c.a)(g),k=function(e){var t,r=e.badgeIds,n=e.subredditId;return t=i()(a.a.mark(function e(t,s,i){var c,d,l,p,b,f,O,m=i.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s(),!(d=c.user.account)){e.next=12;break}return l=c.users.appliedBadges[d.id]||{},p=l[n]||[],b=r.length?r[0]:p[0],f=!!r.length,t(h({badgeIds:r,subredditId:n,userId:d.id})),e.next=10,Object(u.a)(m(),n,b,f);case 10:(O=e.sent).ok||(t(y({badgeIds:r,subredditId:n,error:O.error,previousBadgeIds:p,userId:d.id})),Object(o.o)(t,O.error));case 12:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}},w=function(e){var t,r=e.subredditId;return t=i()(a.a.mark(function e(t,n,s){var i,c=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(x({subredditId:r})),e.next=3,Object(u.b)(c(),r);case 3:(i=e.sent).ok?t(_(Object.assign({},i.body,{subredditId:r}))):t(E({subredditId:r,error:i.error}));case 5:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}},C=function(e){var t,r=e.subredditId;return t=i()(a.a.mark(function e(t,n,s){var i,c,o,d=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n(),!(c=i.user.account)){e.next=8;break}return t(S({subredditId:r})),e.next=6,Object(u.c)(d(),r,c.id);case 6:(o=e.sent).ok?t(T(Object.assign({},o.body,{subredditId:r}))):t(I({subredditId:r,error:o.error}));case 8:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/category.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/isEmpty.js"),o=r.n(c),u=r("./node_modules/react-router-redux/es/index.js"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/constants/categories.tsx"),p=r("./src/lib/constants/index.ts"),b=r("./src/lib/makeApiRequest/index.ts"),f=r("./src/lib/omitHeaders/index.ts"),O=r("./src/reddit/constants/headers.ts"),m=function(e){var t={},r=[];return e.forEach(function(e,n){var a={attr:e.category_attr,color:e.category_color||l.a[n%l.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};r.push(a.id),t[a.id]=a}),{categories:t,categoryIds:r}},v=r("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),g=function(e){var t=[],r={},n={};return e.data.children.forEach(function(e){var a=Object(v.a)(e.data);t.push(a.id),r[a.id]=a,n[a.id]={allOriginalContent:e.all_original_content,contentCategory:e.content_category,originalContentTagEnabled:e.original_content_tag_enabled,userIsSubscriber:e.user_is_subscriber}}),{subredditIds:t,subreddits:r,subredditsAboutInfo:n}},j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(b.b)(Object(f.a)(e,[O.a]),{endpoint:e.apiUrl+"/api/subreddits_in_category.json?category="+t+"&max_recs="+r,method:p.Fa.GET})},h=r("./src/reddit/selectors/category.ts");r.d(t,"c",function(){return y}),r.d(t,"b",function(){return _}),r.d(t,"a",function(){return E}),r.d(t,"g",function(){return S}),r.d(t,"f",function(){return k}),r.d(t,"e",function(){return w}),r.d(t,"d",function(){return C}),r.d(t,"h",function(){return P}),r.d(t,"i",function(){return N});var y="CATEGORY__LIST_PENDING",_="CATEGORY__LIST_LOADED",E="CATEGORY__LIST_FAILED",x=Object(d.a)(y),T=Object(d.a)(_),I=Object(d.a)(E),S=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,o,u,d,l,v=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),i=Object(h.g)(s),c=Object(h.f)(s),!i&&!c){e.next=5;break}return e.abrupt("return");case 5:return t(x()),e.next=8,n=v(),Object(b.b)(Object(f.a)(n,[O.a]),{endpoint:n.apiUrl+"/api/available_subreddit_categories.json?use_extended_categories=true",method:p.Fa.GET});case 8:(o=e.sent).ok?(u=m(o.body),d=u.categories,l=u.categoryIds,t(T({categories:d,categoryIds:l}))):t(I(o.error));case 10:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},k="CATEGORY__SUBREDDITS_PENDING",w="CATEGORY__SUBREDDITS_LOADED",C="CATEGORY__SUBREDDITS_FAILED",A=Object(d.a)(k),R=Object(d.a)(w),D=Object(d.a)(C),P=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d,l=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=Object(h.j)(i,{id:e}),o=Object(h.i)(i,{id:e}),!c&&!o){t.next=5;break}return t.abrupt("return");case 5:return r(A({categoryId:e})),t.next=8,j(l(),e);case 8:(u=t.sent).ok?(d=g(u.body),r(R(Object.assign({categoryId:e},d)))):r(D({categoryId:e,error:u.error}));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},N=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,d,p;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(P(e));case 2:if(i=n(),c=Object(h.h)(i,{id:e})){t.next=6;break}return t.abrupt("return");case 6:d=c.name,p=Object(h.b)(i,{categoryName:d}),o()(p)||r(Object(u.b)(Object(l.f)(p)));case 9:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/chat/sendbirdProxy.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return l});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/endpoints/chat/index.ts"),u="SENDBIRD_PROXY__SET_CONFIG",d=Object(c.a)(u),l=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)(i());case 2:if(!(s=e.sent).ok){e.next=6;break}return e.next=6,t(d(s.body));case 6:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/chat/subredditChannel.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return p}),r.d(t,"a",function(){return b}),r.d(t,"c",function(){return f}),r.d(t,"e",function(){return O}),r.d(t,"h",function(){return m}),r.d(t,"f",function(){return v}),r.d(t,"g",function(){return g}),r.d(t,"m",function(){return j}),r.d(t,"l",function(){return T}),r.d(t,"i",function(){return I}),r.d(t,"k",function(){return S}),r.d(t,"j",function(){return w}),r.d(t,"b",function(){return A});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/endpoints/chat/index.ts"),u=r("./src/reddit/models/SubredditChannel/index.ts"),d=r("./src/reddit/selectors/chat.ts"),l=r("./src/reddit/selectors/user.ts"),p="SUBREDDIT_CHANNELS__REQUESTED",b="SUBREDDIT_CHANNELS__ADDED",f="SUBREDDIT_CHANNELS__FAILED",O="SUBREDDIT_CHANNEL__ADDED",m="SUBREDDIT_CHANNEL__SELECTED",v="SUBREDDIT_CHANNEL__EDITED",g="SUBREDDIT_CHANNEL__REMOVED",j=Object(c.a)(m),h=Object(c.a)(p),y=Object(c.a)(f),_=Object(c.a)(b),E=Object(c.a)(O),x=Object(c.a)("SUBREDDIT_CHANNEL__FAILED"),T=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,l,p,b,f,O,m,v,g,j,E,x=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.user,l=c.account,p=c.session,l&&p){t.next=3;break}return t.abrupt("return");case 3:return r(h({subredditId:e})),b=Object(d.d)(n(),{subredditId:e}),t.next=7,Object(o.i)(x(),e,b);case 7:(f=t.sent).ok?(O=f.body,m=O.rooms,v=O.subreddit_chat_enabled,g=O.user_subreddit_chat_enabled,j=Object(u.d)(m),r(_({collection:j,subredditId:e,isSubredditWhitelisted:!!v,isUserSubredditChatEnabled:!!g}))):f.error&&(E=f.error,r(y({error:E,subredditId:e})));case 9:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},I=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,d,l,p,b,f,O=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),d=c.user,l=d.account,p=d.session,l&&p){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,Object(o.d)(O(),p,t);case 5:if(!(b=r.sent).ok){r.next=13;break}return f=Object(u.e)(Object.assign({},b.body,t)),r.next=10,n(E({channel:f,subredditId:e}));case 10:return r.abrupt("return",f.channelId);case 13:n(x(b.error));case 14:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},S=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,u,d,l,p=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=e.channelSendbirdUrl,u=s(),d=u.user.session){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,Object(o.f)(p(),c,d,t);case 6:(l=r.sent).ok?n(k({channel:e,editedSubredditChannelData:t})):n(x(l.error));case 8:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},k=Object(c.a)(v),w=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,u,d,p=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.channelId,c=e.channelSendbirdUrl,u=n(),Object(l.B)(u)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Object(o.e)(p(),c);case 6:(d=t.sent).ok?r(C(i)):r(x(d.error));case 8:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},C=Object(c.a)(g),A="SUBREDDIT_CHANNELS__ENABLED";Object(c.a)(A)},"./src/reddit/actions/chat/subredditSettings.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return O}),r.d(t,"c",function(){return m});var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/endpoints/chat/index.ts"),d=r("./src/reddit/selectors/user.ts"),l="CHAT_SUBREDDIT_SETTINGS__SET",p=Object(o.a)(l),b=Object(o.a)("CHAT_SUBREDDIT_SETTINGS__SET_FAILED"),f=(n=c()(s.a.mark(function e(t,r,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=5;break}return e.next=4,t(p(Object.assign({subredditId:r},n)));case 4:return e.abrupt("return",n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0);case 10:case"end":return e.stop()}},e,void 0,[[0,7]])})),function(e,t,r){return n.apply(this,arguments)}),O=function(e){return t=c()(s.a.mark(function t(r,n,a){var i,c,o=a.apiContext;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=n(),Object(d.B)(i)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Object(u.g)(o(),e);case 6:return c=t.sent,t.abrupt("return",f(r,e,c));case 10:t.prev=10,t.t0=t.catch(0),b(t.t0);case 13:case"end":return t.stop()}},t,void 0,[[0,10]])})),function(e,r,n){return t.apply(this,arguments)};var t},m=function(e,t){return r=c()(s.a.mark(function r(n,a,i){var c,o,l=i.apiContext;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,c=a(),Object(d.B)(c)){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,Object(u.j)(l(),e,t);case 6:(o=r.sent).ok&&f(n,e,o.body),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),b(r.t0);case 13:case"end":return r.stop()}},r,void 0,[[0,10]])})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return g}),r.d(t,"c",function(){return T});var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/chat/endpoints/sendbird/index.ts"),l=r("./src/reddit/selectors/chat.ts"),p=r("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(n||(n={}));var b=n,f=b.SYNC,O=b.REQUEST_FAILED,m=b.REQUEST_PENDING,v=b.REQUEST_SUCCESS,g=Object(u.a)(f),j=Object(u.a)(O),h=Object(u.a)(m),y=Object(u.a)(v),_=function(){return e=c()(s.a.mark(function e(t,r,n){var a,i,c,o=n.apiContext;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),!((i=a.user.session)&&Object(p.B)(a)&&Object(l.e)(a))){e.next=8;break}return t(h()),e.next=6,Object(d.i)(o(),i);case 6:(c=e.sent)&&c.ok?t(y({basicChannelCount:c.body.unread_count||0,subredditChannelCount:c.body.subreddit_unread_count||0})):t(j({error:c.error}));case 8:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},E=void 0,x=5*o.Ga,T=function e(){return t=c()(s.a.mark(function t(r,n,a){var i;a.apiContext;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),Object(p.B)(i)&&Object(l.e)(i)){t.next=3;break}return t.abrupt("return",clearTimeout(E));case 3:E||r(_()),E=setTimeout(function(){r(e())},x);case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/claimgold.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/app/strings/index.ts"),d=r("./src/reddit/actions/toaster.ts"),l=r("./src/reddit/models/Toast/index.ts"),p=r("./src/lib/constants/index.ts"),b=r("./src/lib/makeApiRequest/index.ts"),f=r("./src/lib/omitHeaders/index.ts"),O=r("./src/reddit/constants/headers.ts"),m=r("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),v=(n=c()(s.a.mark(function e(t,r){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.code,a={api_type:"json",code:n,raw_json:1},e.abrupt("return",Object(b.b)(Object(f.a)(t,[O.a]),{method:p.Fa.POST,endpoint:t.apiUrl+"/api/claimgold",data:a}).then(function(e){return e.ok?Object.assign({},e):Object.assign({},e,{error:Object(m.a)(e)})}));case 3:case"end":return e.stop()}},e,void 0)})),function(e,t){return n.apply(this,arguments)}),g=r("./src/reddit/helpers/genericServerError/index.ts"),j=r("./src/reddit/selectors/claimgold.ts"),h=r("./src/reddit/selectors/user.ts");r.d(t,"e",function(){return y}),r.d(t,"d",function(){return _}),r.d(t,"i",function(){return T}),r.d(t,"g",function(){return I}),r.d(t,"j",function(){return S}),r.d(t,"f",function(){return k}),r.d(t,"b",function(){return w}),r.d(t,"c",function(){return C}),r.d(t,"a",function(){return A}),r.d(t,"h",function(){return R});var y="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",_="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",E=Object(o.a)(y),x=Object(o.a)(_),T=function(){return e=c()(s.a.mark(function e(t,r){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r(),Object(j.b)(n)?t(x()):t(E());case 2:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e},I="CLAIMGOLD_UPDATE_CODE",S=Object(o.a)(I),k="CLAIM_GOLD__TRIGGER_LOADER",w="CLAIM_GOLD__CLAIM_GOLD_PENDING",C="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",A="CLAIM_GOLD__CLAIM_GOLD_FAILED",R=function(){return e=c()(s.a.mark(function e(t,r,n){var a,i,c,o=n.apiContext;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),i={code:a.claimGold.code},t(N()),e.prev=3,e.next=6,v(o(),i);case 6:(c=e.sent).error?t(U(c)):t(F()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t(U(e.t0));case 13:case"end":return e.stop()}},e,void 0,[[3,10]])})),function(t,r,n){return e.apply(this,arguments)};var e},D=Object(o.a)(k),P=Object(o.a)(w),N=function(){return e=c()(s.a.mark(function e(t,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(P()),window.setTimeout(function(){r().claimGold.api.pending&&t(D())},2e3);case 2:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e},L=Object(o.a)(A),U=function(e){return t=c()(s.a.mark(function t(r,n){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(h.H)(n()),t.next=3,r(L(Object.assign({},e,{error:e.error||Object(g.a)(a)})));case 3:(i=n().claimGold.api.error)&&r(Object(d.e)({kind:l.a.Error,duration:d.a,text:i}));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},M=Object(o.a)(C),F=function(){return e=c()(s.a.mark(function e(t,r){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(M()),n=Object(h.H)(r()),t(Object(d.e)({kind:l.a.SuccessCommunity,text:Object(u.a)(n,"gold.premiumPurchase.redeemGiftCodeSuccess")}));case 3:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e}},"./src/reddit/actions/comment.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/helpers/typeof.js"),s=r.n(a),i=r("./node_modules/babel-runtime/regenerator/index.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/defineProperty.js"),u=r.n(o),d=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),l=r.n(d),p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/lib/makeCommentsPageKey/index.ts"),f=r("./src/lib/makeDraftKey/index.ts"),O=r("./src/app/models/Draft.ts"),m=r("./src/app/strings/index.ts"),v=r("./src/reddit/actions/modal.ts"),g=r("./src/reddit/actions/postCreation/editorContent.ts"),j=r("./src/reddit/actions/shortcuts.ts"),h=r("./src/reddit/actions/toaster.ts"),y=r("./src/reddit/actions/vote.ts"),_=r("./src/reddit/constants/adEvents.ts"),E=r("./src/config.ts"),x=r("./src/lib/constants/index.ts"),T=r("./src/lib/makeApiRequest/index.ts"),I=r("./src/lib/omitHeaders/index.ts"),S=r("./src/reddit/constants/headers.ts"),k=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),w=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),C=function(e,t){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:Object(k.a)(e.apiUrl+"/api/save"),method:x.Fa.POST,data:{id:t}})},A=function(e,t){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:Object(k.a)(e.apiUrl+"/api/unsave"),method:x.Fa.POST,data:{id:t}})},R=function(e,t){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:Object(k.a)(e.apiUrl+"/api/approve"),method:x.Fa.POST,data:{id:t}})},D=function(e,t,r){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:Object(k.a)(e.apiUrl+"/api/remove"),method:x.Fa.POST,data:{id:t,spam:r}})},P=function(e,t){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:e.apiUrl+"/api/ignore_reports",method:x.Fa.POST,data:{id:t}})},N=function(e,t){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:e.apiUrl+"/api/unignore_reports",method:x.Fa.POST,data:{id:t}})},L=function(e,t,r){return Object(T.b)(e,{data:r,endpoint:Object(w.a)(E.a.gatewayUrl+"/desktopapi/v1/morecomments/"+t),method:x.Fa.POST,type:"json"})},U=function(e,t,r,n){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:Object(k.a)(e.apiUrl+"/api/distinguish/"+r),method:x.Fa.POST,data:{id:t,sticky:n}})},M=r("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),F=r("./src/reddit/helpers/genericServerError/index.ts"),G=r("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),B=r("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),V=r("./src/reddit/models/PostCreationForm/index.ts"),H=(n=l()(c.a.mark(function e(t,r,n,a,s,i){var o,u,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i===V.h.MARKDOWN,u={api_type:"json",return_rtjson:!0,thing_id:n},o?u.text=a.text:(u.text=null,d=null,a.rteState&&(d=M.a.toRichTextJSON(a.rteState).document),u.richtext_json=JSON.stringify({document:d})),e.abrupt("return",Object(T.b)(Object(I.a)(t,[S.a]),{method:x.Fa.POST,endpoint:Object(k.a)(Object(w.a)(t.apiUrl+"/api/comment.json")),data:u}).then(function(e){return e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(B.a)(e)}):Object.assign({},e,{body:{comment:Object(G.a)(e.body.json.data.things[0].data,s)}}):Object.assign({},e,{body:{comment:Object(G.a)(e.body,s)}}):Object.assign({},e,{error:e.error||Object(F.a)(r)})}));case 4:case"end":return e.stop()}},e,void 0)})),function(e,t,r,a,s,i){return n.apply(this,arguments)}),q=function(e,t,r){return Object(T.b)(Object(I.a)(e,[S.a]),{endpoint:Object(k.a)(e.apiUrl+"/api/del"),method:x.Fa.POST,data:{id:t}}).then(function(e){return e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(B.a)(e)}):Object.assign({},e,{body:{}}):Object.assign({},e,{error:e.error||Object(F.a)(r)})})},K=function(){var e=l()(c.a.mark(function e(t,r,n,a,s,i,o){var u,d,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=o===V.h.MARKDOWN,d={api_type:"json",return_rtjson:!0,thing_id:n},u?d.text=s.text:(d.text=null,l=null,s.rteState&&(l=M.a.toRichTextJSON(s.rteState).document),d.richtext_json=JSON.stringify({document:l})),e.abrupt("return",Object(T.b)(Object(I.a)(t,[S.a]),{endpoint:Object(k.a)(Object(w.a)(t.apiUrl+"/api/editusertext")),method:x.Fa.POST,data:d}).then(function(e){return e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(B.a)(e)}):Object.assign({},e,{body:{comment:Object(G.a)(e.body.json.data.things[0].data,i)}}):Object.assign({},e,{body:{comment:Object(G.a)(e.body,i)}}):Object.assign({},e,{error:e.error||Object(F.a)(r)})}));case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,a,s,i,c){return e.apply(this,arguments)}}(),W=r("./src/reddit/endpoints/post/index.tsx"),Q=r("./src/reddit/endpoints/post/convert.ts"),Y=r("./src/reddit/helpers/commentList/index.ts"),J=r("./src/reddit/helpers/dom/index.ts"),z=r("./src/reddit/helpers/pixels.ts"),X=r("./src/reddit/helpers/trackers/commentsPage.ts"),Z=r("./src/reddit/models/Comment/index.ts"),$=r("./src/reddit/models/Post/index.ts"),ee=r("./src/reddit/models/RichTextJson/index.ts"),te=r("./src/reddit/models/RichTextJson/nodeMakers.ts"),re=r("./src/reddit/models/Toast/index.ts"),ne=r("./src/reddit/models/Vote/index.ts"),ae=r("./src/reddit/selectors/comments.ts"),se=r("./src/reddit/selectors/posts.ts"),ie=r("./src/reddit/selectors/user.ts"),ce=r("./src/reddit/components/AccountManagerModal/index.tsx");r.d(t,"B",function(){return oe}),r.d(t,"Da",function(){return ue}),r.d(t,"m",function(){return de}),r.d(t,"O",function(){return le}),r.d(t,"Ba",function(){return pe}),r.d(t,"u",function(){return be}),r.d(t,"t",function(){return fe}),r.d(t,"s",function(){return Oe}),r.d(t,"U",function(){return je}),r.d(t,"La",function(){return he}),r.d(t,"Q",function(){return ye}),r.d(t,"i",function(){return _e}),r.d(t,"h",function(){return Ee}),r.d(t,"d",function(){return xe}),r.d(t,"e",function(){return Te}),r.d(t,"c",function(){return Ie}),r.d(t,"b",function(){return Se}),r.d(t,"j",function(){return ke}),r.d(t,"L",function(){return we}),r.d(t,"K",function(){return Ce}),r.d(t,"T",function(){return Pe}),r.d(t,"Ia",function(){return Ne}),r.d(t,"J",function(){return Ue}),r.d(t,"G",function(){return Me}),r.d(t,"X",function(){return Fe}),r.d(t,"Ka",function(){return Ge}),r.d(t,"P",function(){return Be}),r.d(t,"D",function(){return Ve}),r.d(t,"F",function(){return He}),r.d(t,"E",function(){return qe}),r.d(t,"C",function(){return Ke}),r.d(t,"Ha",function(){return Qe}),r.d(t,"Fa",function(){return Ye}),r.d(t,"Ga",function(){return ze}),r.d(t,"Ea",function(){return Xe}),r.d(t,"o",function(){return Ze}),r.d(t,"n",function(){return $e}),r.d(t,"k",function(){return et}),r.d(t,"f",function(){return tt}),r.d(t,"l",function(){return rt}),r.d(t,"M",function(){return at}),r.d(t,"r",function(){return ct}),r.d(t,"N",function(){return ot}),r.d(t,"Ja",function(){return ut}),r.d(t,"V",function(){return dt}),r.d(t,"W",function(){return lt}),r.d(t,"Aa",function(){return pt}),r.d(t,"p",function(){return bt}),r.d(t,"H",function(){return Ot}),r.d(t,"q",function(){return mt}),r.d(t,"z",function(){return vt}),r.d(t,"y",function(){return gt}),r.d(t,"A",function(){return jt}),r.d(t,"g",function(){return ht}),r.d(t,"S",function(){return _t}),r.d(t,"R",function(){return It}),r.d(t,"Z",function(){return St}),r.d(t,"w",function(){return kt}),r.d(t,"v",function(){return wt}),r.d(t,"x",function(){return Ct}),r.d(t,"Y",function(){return Pt}),r.d(t,"Ca",function(){return Nt}),r.d(t,"a",function(){return Lt}),r.d(t,"I",function(){return Ut});var oe="COMMENT__STICKIED_COMMENT_SUCCESS",ue=Object(p.a)(oe),de="COMMENT__MUTATED",le=Object(p.a)(de),pe=function(e){return t=l()(c.a.mark(function t(r,n,a){var s,i,o=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(ie.B)(n())){t.next=4;break}return r(Object(v.j)(ce.b)),r(Object(v.m)({actionSource:"save",redirectUrl:Object(ae.m)(n(),{commentId:e})})),t.abrupt("return");case 4:if(s=n().comments.models[e]){t.next=7;break}return t.abrupt("return");case 7:return i=s.isSaved?A:C,r(le(u()({},e,{isSaved:!s.isSaved}))),t.next=11,i(o(),e);case 11:t.sent.ok||r(le(u()({},e,{isSaved:s.isSaved})));case 13:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},be="COMMENT__MORECOMMENTS_PENDING",fe="COMMENT__MORECOMMENTS_LOADED",Oe="COMMENT__MORECOMMENTS_FAILED",me=Object(p.a)(be),ve=Object(p.a)(fe),ge=Object(p.a)(Oe),je=function(e,t){return r=l()(c.a.mark(function r(n,a,s){var i,o,u,d,l,p,b,f,O,m,v,g=s.apiContext;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a(),o=i.moreComments.models[t],u=i.platform.currentPage,d=u&&u.routeMatch,l=d&&d.match,p=l?l.params:null,b=p.partialPostId){r.next=8;break}return r.abrupt("return");case 8:return f=Object($.d)(b),n(me({moreCommentsId:o.id})),r.next=12,L(g(),f,{token:o.token});case 12:(O=r.sent).ok?(m=O.body,v=Object(Y.a)(m,f),n(ve(Object.assign({key:e,moreCommentsItem:o,shouldCollapse:v},m)))):n(ge(Object.assign({moreCommentsItem:o},O.error)));case 14:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},he=Object(y.b)(Y.b,ne.a.upvoted),ye=Object(y.b)(Y.b,ne.a.downvoted),_e="COMMENT__FOCUSED_TOGGLED",Ee="COMMENT__FOCUSED_SET",xe="COMMENT__COLLAPSED_TOGGLED",Te="COMMENT__COLLAPSED_UNSET",Ie="COMMENTS__HIDDEN_TOGGLED",Se="COMMENTS__HIDDEN_SET",ke="COMMENT_FORM_FOCUS_CHANGED",we=Object(p.a)(_e),Ce=Object(p.a)(Ee),Ae=Object(p.a)(xe),Re=Object(p.a)(Te),De=(Object(p.a)(Se),Object(p.a)(Ie),Object(p.a)(ke)),Pe=function(e){var t,r=e.hasFocus,n=e.draftKey;return t=l()(c.a.mark(function e(t,a){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a(),!!s.comments.drafts[n]){e.next=4;break}return e.abrupt("return");case 4:t(De({hasFocus:r,draftKey:n}));case 5:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},Ne=function(e){var t,r=e.commentId,n=e.commentsPageKey,a=e.scrollToAndRemeasure;return t=l()(c.a.mark(function e(t,s){var i,o,u,d,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=s(),o=Object(Z.c)(r),u=Object(ae.o)(i,{commentLink:o,commentsPageKey:n}),d=u.depth,l=!i.comments.collapsed[n][r],t(Ae({commentId:r,commentsPageKey:n})),l&&0===d&&a(r,!0),Object(j.r)();case 8:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},Le=function(e){var t,r=e.commentId,n=e.commentsPageKey;return t=l()(c.a.mark(function e(t,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(Re({commentId:r,commentsPageKey:n}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},Ue=function(e){var t,r=e.commentLink,n=e.commentsPageKey,a=e.lineDepth,s=e.scrollToAndRemeasure;return t=l()(c.a.mark(function e(t,i){var o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i(),u=Object(Y.e)(n,r,a,o),t(Ae({commentId:u,commentsPageKey:n})),0===a&&s(u,!0),Object(j.r)();case 5:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},Me=function(e){return t=l()(c.a.mark(function t(r,n,a){var s,i,o,d=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=s.comments.models[e],o=s.user.account?s.user.account.displayText:null,i&&o){t.next=5;break}return t.abrupt("return");case 5:return r(le(u()({},e,{isApproved:!0,approvedBy:o,bannedBy:null,isRemoved:!1,isSpam:!1,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}))),t.next=8,R(d(),e);case 8:t.sent.ok||r(le(u()({},e,{isApproved:i.isApproved,approvedBy:null,bannedBy:i.bannedBy,isRemoved:i.isRemoved,isSpam:i.isSpam,modNote:i.modNote,modReasonBy:i.modReasonBy,modRemovalReason:i.modRemovalReason,numReports:i.numReports||null}))),Object(j.r)();case 11:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Fe=function(e,t){return r=l()(c.a.mark(function r(n,a,s){var i,o,d,l=s.apiContext;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a(),o=i.comments.models[e],d=i.user.account?i.user.account.displayText:null,o&&d){r.next=5;break}return r.abrupt("return");case 5:return n(le(u()({},e,{approvedBy:null,bannedBy:d,isApproved:!1,isRemoved:!t,isSpam:t}))),r.next=8,D(l(),e,t);case 8:r.sent.ok||n(le(u()({},e,{approvedBy:o.approvedBy,bannedBy:o.bannedBy,isApproved:o.isApproved,isRemoved:o.isRemoved,isSpam:o.isSpam}))),Object(j.r)();case 11:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},Ge=function(e){return t=l()(c.a.mark(function t(r,n,a){var s,i,o,d=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=s.comments.models[e]){t.next=4;break}return t.abrupt("return");case 4:return o=i.ignoreReports?N:P,r(le(u()({},e,{ignoreReports:!i.ignoreReports}))),t.next=8,o(d(),e);case 8:t.sent.ok||r(le(u()({},e,{ignoreReports:i.ignoreReports})));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Be=function(e,t,r){return n=l()(c.a.mark(function n(a,s,i){var o,d,l,p,f,O=i.apiContext;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=s(),d=o.comments.models[e]){n.next=4;break}return n.abrupt("return");case 4:return l=d.postId,p=o.postStickiedComments.data[l],f=x.h[t],a(le(u()({},e,{distinguishType:t,isAdmin:t===x.C.ADMIN,isMod:t===x.C.MODERATOR,isStickied:!!r}))),r&&p&&p!==e&&a(le(u()({},p,{isStickied:!1}))),n.next=11,U(O(),e,f,r||null);case 11:n.sent.ok?r&&a(ue({id:e,postId:l,commentsPageKey:Object(b.a)(l,null,Object.assign({sort:x.t.CONFIDENCE},o.platform.currentPage.queryParams))})):(a(le(u()({},e,{distinguishType:d.distinguishType,isAdmin:d.isAdmin,isMod:d.isMod,isStickied:d.isStickied}))),a(le(u()({},p,{isStickied:o.comments.models[p].isStickied}))));case 13:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},Ve="COMMENT__SUBMIT_COMMENT_PENDING",He="COMMENT__SUBMIT_REPLY_TO_POST_SUCCESS",qe="COMMENT__SUBMIT_REPLY_TO_COMMENT_SUCCESS",Ke="COMMENT__SUBMIT_COMMENT_FAILURE",We=Object(p.a)(Ve),Qe=Object(p.a)(He),Ye=Object(p.a)(qe),Je=Object(p.a)(Ke),ze=function(e,t,r,n,a,s){return i=l()(c.a.mark(function i(o,u,d){var l,p,b,f,O,m,v=d.apiContext;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l=u(),p=l.comments.submit.pending[n],l.user.account&&!p){i.next=4;break}return i.abrupt("return");case 4:return X.f(u(),s),o(We({draftKey:n,draft:a})),b=l.user.account.displayText,f=a.commentMode,i.next=10,H(v(),e,t,a,b,f);case 10:(O=i.sent).ok?(o(Qe(Object.assign({},O.body,{headCommentId:Object(ae.w)(l,{commentsPageKey:r}),commentsPageKey:r,draftKey:n}))),m=Object(se.A)(u(),{postId:t}),Object(z.a)(m.events,_.a.CommentSubmitted)):o(Je({draftKey:n,error:O.error})),Object(j.r)();case 13:case"end":return i.stop()}},i,void 0)})),function(e,t,r){return i.apply(this,arguments)};var i},Xe=function(e){return t=l()(c.a.mark(function t(r,n,a){var s,i,o,u,d,l,p,b,f,O,m,v,g=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.language,i=e.parentCommentId,o=e.commentsPageKey,u=e.parentCommentDepth,d=e.draftKey,l=e.formData,p=e.editorMode,b=n(),f=b.comments.submit.pending[d],b.user.account&&!f){t.next=5;break}return t.abrupt("return");case 5:return X.f(b,p),r(We({draftKey:d,draft:l})),O=b.user.account.displayText,m=l.commentMode,t.next=11,H(g(),s,i,l,O,m);case 11:(v=t.sent).ok?r(Ye(Object.assign({},v.body,{parentCommentId:i,commentsPageKey:o,draftKey:d,depth:u+1}))):r(Je({draftKey:d,error:v.error})),Object(j.r)();case 14:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Ze="COMMENT__COMMENT_REPLY_FORM_OPENED",$e="COMMENT__COMMENT_REPLY_FORM_CANCELLED",et="COMMENT__COMMENT_FORM_MUTATED",tt="COMMENT__COMMENT_DRAFT_CLEARED",rt="COMMENT__COMMENT_FORM_SWITCHED_MODE",nt=Object(p.a)(Ze),at=Object(p.a)($e),st=Object(p.a)(et),it=(Object(p.a)(tt),Object(p.a)(rt)),ct="INITIALIZE_COMMENT_EDITOR_MODE",ot=(Object(p.a)(ct),function(e,t,r){return n=l()(c.a.mark(function n(a,i,o){var u,d,l,p,b=o.apiContext;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=e===V.h.RICH_TEXT,d=Object(ie.H)(i()),t&&("object"!==(void 0===t?"undefined":s()(t))||!Object(ee.E)(t))){n.next=6;break}a(it({editorMode:e,draftKey:r,content:u?ee.i:""})),n.next=11;break;case 6:return a(Object(g.f)(r)),n.next=9,Object(Q.a)(b(),e,u?t:JSON.stringify(t));case 9:(l=n.sent).ok?(p=l.body.output,a(Object(g.e)(r)),a(it({editorMode:e,draftKey:r,content:p}))):(a(Object(g.e)(r)),a(Object(h.e)({duration:h.a,kind:re.a.Error,text:Object(m.a)(d,"error.generic")})));case 11:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n}),ut=function(e){var t,r=e.parentCommentId,n=e.commentsPageKey;return t=l()(c.a.mark(function e(t,a){var s,i,o,u,d,l,p,b,m,g,j,h,y;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a(),i=Object(f.a)(O.a.replyToComment,r),Object(ie.B)(a())){e.next=6;break}return t(Object(v.j)(ce.b)),t(Object(v.m)({actionSource:"reply",redirectUrl:Object(ae.m)(a(),{commentId:r})})),e.abrupt("return");case 6:if(!s.comments.replyFormOpen[n]||!s.comments.replyFormOpen[n][r]){e.next=9;break}return t(at({parentCommentId:r,commentsPageKey:n})),e.abrupt("return");case 9:o="",u=null,d=s.user.prefs.commentMode,(l=Object(J.c)())&&(p=l.filter(function(e){return!!e&&10!==e.charCodeAt(0)}),d===V.h.MARKDOWN?o=p.map(function(e){return"> "+e+"\n"}).join(""):(b=p.map(function(e){return te.r(e,null)}),m=b.map(function(e){return te.k([e])}),g=te.r("",null),j=te.k([g]),u={document:[te.c(m),j]})),h=s.comments.drafts[i],y=void 0,y=l?{commentMode:d,draftType:O.a.replyToComment,rtJson:u,text:o+"\n"}:h||{commentMode:d,draftType:O.a.replyToComment,rtJson:u,text:""},t(nt({parentCommentId:r,commentsPageKey:n,draftKey:i,formData:y}));case 18:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},dt=function(e){return t=l()(c.a.mark(function t(r,n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(Le(e)),r(_t(e));case 2:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},lt=function(e){var t,r=e.parentCommentId,n=e.commentsPageKey;return t=l()(c.a.mark(function e(t,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(at({parentCommentId:r,commentsPageKey:n})),t(ut({parentCommentId:r,commentsPageKey:n})),t(Le({commentId:r,commentsPageKey:n}));case 3:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},pt=function(e,t){return function(r){return r(st({draftKey:e,formData:t}))}},bt="COMMENT__DISABLE_AUTOFOCUS",ft=Object(p.a)(bt),Ot=function(e){return function(t){return t(ft({draftKey:e}))}},mt="COMMENT__EDIT_COMMENT_ENABLED",vt="COMMENT__REQUEST_EDIT_PENDING",gt="COMMENT__REQUEST_EDIT_FAILURE",jt="COMMENT__REQUEST_EDIT_SUCCESS",ht="COMMENT__COMMENT_EDIT_FORM_CANCELLED",yt=Object(p.a)(mt),_t=function(e){var t,r=e.commentId,n=e.commentMode,a=e.commentsPageKey,s=e.draftKey,i=e.text;return t=l()(c.a.mark(function e(t,o){var u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((u=o()).user.account){e.next=3;break}return e.abrupt("return");case 3:X.c(u),t(yt({commentId:r,commentsPageKey:a,draftKey:s,formData:{text:i,commentMode:n,rteState:null,draftType:O.a.edit,hasFocus:!0}}));case 5:case"end":return e.stop()}},e,void 0)})),function(e,r){return t.apply(this,arguments)}},Et=Object(p.a)(vt),xt=Object(p.a)(gt),Tt=Object(p.a)(jt),It=Object(p.a)(ht),St=function(e){var t,r=e.language,n=e.id,a=e.commentsPageKey,s=e.depth,i=e.draftKey,o=e.formData;return t=l()(c.a.mark(function e(t,d,l){var p,b,f,O,m,v=l.apiContext;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((p=d()).user.account){e.next=3;break}return e.abrupt("return");case 3:return t(Et({draftKey:i})),X.d(p),b=p.user.account.displayText||"",f=o.commentMode,e.next=9,K(v(),r,n,s,o,b,f);case 9:(O=e.sent).ok?(m=O.body,t(Tt({commentId:n,commentsPageKey:a,draftKey:i})),t(le(u()({},n,Object.assign({},m.comment))))):t(xt({draftKey:i,error:O.error}));case 11:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}},kt="COMMENT__REQUEST_DELETE_PENDING",wt="COMMENT__REQUEST_DELETE_FAILURE",Ct="COMMENT__REQUEST_DELETE_SUCCESS",At=Object(p.a)(kt),Rt=Object(p.a)(wt),Dt=Object(p.a)(Ct),Pt=function(e,t,r,n){return a=l()(c.a.mark(function n(a,s,i){var o,u,d=i.apiContext;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((o=s()).user.account){n.next=3;break}return n.abrupt("return");case 3:return a(At({id:t})),X.a(t,o),n.next=7,q(d(),t,e);case 7:(u=n.sent).ok?a(Dt({id:t,postId:r})):a(Rt({id:t,error:u.error}));case 9:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return a.apply(this,arguments)};var a},Nt=function(e){return t=l()(c.a.mark(function t(r,n,a){var s,i,o=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().comments.models[e],i=!s.sendReplies,r(le(u()({},e,{sendReplies:i}))),t.next=5,Object(W.o)(o(),e,i);case 5:t.sent.ok||r(le(u()({},e,{sendReplies:!i})));case 7:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Lt="COMMENT__CHANGE_HIGHLIGHT_FILTER",Ut=Object(p.a)(Lt)},"./src/reddit/actions/commentList.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return b});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/helpers/trackers/commentList.ts"),u="COMMENTLIST__MARKED_END",d="COMMENTLIST__UNMARKED_END",l=Object(c.a)(u),p=Object(c.a)(d),b=function(e,t){return r=i()(a.a.mark(function r(n,s){var i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=s(),e in i.profileCommentsPage.fetchedTokens){r.next=4;break}return n(l({listingKey:e,listingName:t})),r.abrupt("return");case 4:if(!(e in i.profileCommentsPage.commentIds)){r.next=7;break}return n(p({listingKey:e})),r.abrupt("return");case 7:o.a(i,e);case 8:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)};var r}},"./src/reddit/actions/contentGate.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return O}),r.d(t,"c",function(){return m}),r.d(t,"d",function(){return v}),r.d(t,"e",function(){return g}),r.d(t,"f",function(){return j}),r.d(t,"h",function(){return y}),r.d(t,"i",function(){return _}),r.d(t,"j",function(){return E}),r.d(t,"k",function(){return x}),r.d(t,"l",function(){return T}),r.d(t,"g",function(){return I});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/config.ts"),o=r("./node_modules/js-cookie/src/js.cookie.js"),u=r.n(o),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/constants/cookie.ts"),p=r("./src/reddit/endpoints/user/preferences.ts"),b=r("./src/reddit/selectors/user.ts"),f="CONTENTGATE__VISITED_GOLD_SUBREDDIT",O="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",m="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",v="CONTENTGATE__SET_OVER_18_PREF",g="CONTENTGATE__VISITED_BANNED_SUBREDDIT",j="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",h=Object(d.a)(v),y=Object(d.a)(g),_=Object(d.a)(j),E=Object(d.a)(f),x=Object(d.a)(O),T=Object(d.a)(m),I=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,o=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),!Object(b.B)(s)||!s.platform.currentPage){e.next=6;break}return e.next=4,Object(p.e)(o());case 4:e.next=9;break;case 6:(i=new Date).setFullYear(i.getFullYear()+2),u.a.set(l.g,"1",{expires:i,domain:c.a.cookieDomain});case 9:t(h({over18:!0}));case 10:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/dashboard.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return c}),r.d(t,"f",function(){return o}),r.d(t,"e",function(){return u});var n=r("./src/lib/makeActionCreator/index.ts"),a="DASHBOARD__COMPONENT_SELECTED",s="DASHBOARD__SUBREDDIT_SELECTED",i="DASHBOARD__SUBREDDIT_LOADED",c=Object(n.a)(a),o=Object(n.a)(s),u=Object(n.a)(i)},"./src/reddit/actions/discoveryUnit.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/constants/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/lib/makeListingKey/index.ts"),d=r("./src/reddit/actions/category.ts"),l=r("./src/reddit/actions/page.ts"),p=r("./src/lib/addQueryParams/index.ts"),b=r("./src/lib/makeApiRequest/index.ts"),f=r("./src/lib/omitHeaders/index.ts"),O=r("./src/lib/stringInterpolate/index.ts"),m=r("./src/reddit/constants/headers.ts"),v=r("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),g=function(e){var t=[],r={};return e.data.children.forEach(function(e){var n=Object(v.a)(e.data);t.push(n.id),r[n.id]=n}),{postIds:t,posts:r}},j=function(e,t,r){var n=t.url;return t.parameters&&(n=Object(p.a)(Object(O.a)(n,t.parameters),t.parameters)),r&&(n=Object(p.a)(Object(O.a)(n,r),r)),Object(b.b)(Object(f.a)(e,[m.a]),{endpoint:""+e.apiUrl+n,method:c.Fa.GET})},h=r("./src/reddit/models/DiscoveryUnit/index.ts"),y=r("./src/reddit/selectors/category.ts"),_=r("./src/reddit/selectors/discoveryUnit.ts"),E=r("./src/reddit/selectors/listings.ts"),x=r("./src/reddit/selectors/posts.ts");r.d(t,"c",function(){return T}),r.d(t,"b",function(){return I}),r.d(t,"a",function(){return S}),r.d(t,"h",function(){return A}),r.d(t,"f",function(){return R}),r.d(t,"e",function(){return D}),r.d(t,"d",function(){return P}),r.d(t,"g",function(){return F}),r.d(t,"i",function(){return G});var T="DISCOVERY_UNIT__LIST_PENDING",I="DISCOVERY_UNIT__LIST_LOADED",S="DISCOVERY_UNIT__LIST_FAILED",k=Object(o.a)(T),w=Object(o.a)(I),C=Object(o.a)(S),A=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,o,u,d,l=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),i=Object(_.f)(s),c=Object(_.e)(s),!i&&!c){e.next=5;break}return e.abrupt("return");case 5:return t(k()),e.next=8,l(),Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"community",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"community",url:"/r/%{subredditName}/hot.json"}]}}}});case 8:(o=e.sent).ok?(n=o.body,u={discoveryUnits:n.global.discovery_config_v1.discovery_units.reduce(function(e,t){var r={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[r.id]=r,e},{})},d=u.discoveryUnits,t(w({discoveryUnits:d}))):t(C({error:o.error}));case 10:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},R="DISCOVERY_UNIT__UNIT_DATA_PENDING",D="DISCOVERY_UNIT__UNIT_DATA_LOADED",P="DISCOVERY_UNIT__UNIT_DATA_FAILED",N=Object(o.a)(R),L=Object(o.a)(D),U=Object(o.a)(P),M=function(e,t,r){return n=i()(a.a.mark(function n(s,i,o){var d,l,p,b,f,O,m,v,y,_,x,T,I,S=o.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(d=i(),l=e.unitName,p=Object(u.a)(l,c.U.HOT,Object.assign({},e.parameters,t)),b=Object(E.j)(d,{listingKey:p}),f=b?b.token:void 0,O=Object(E.h)(d,{listingKey:p}),b){n.next=12;break}if(m=!!d.listings.listingOrder.fetchedTokens[p],!O&&!m){n.next=10;break}return n.abrupt("return");case 10:n.next=19;break;case 12:if(r){n.next=16;break}return n.abrupt("return");case 16:if(v=Object(E.i)(d,{listingKey:p,token:b.token}),!O&&!v){n.next=19;break}return n.abrupt("return");case 19:return s(N({fetchedToken:f,key:p})),y=Object.assign({},t,{after:f}),n.next=23,j(S(),e,y);case 23:if(!(_=n.sent).ok){n.next=33;break}n.t0=e.unitType,n.next=n.t0===h.a.CommunityCategory?28:n.t0===h.a.Community?28:31;break;case 28:return x=g(_.body),T=x.postIds,I=x.posts,s(L({fetchedToken:f,key:p,meta:d.meta,postIds:T,posts:I,token:T[T.length-1]})),n.abrupt("break",31);case 31:n.next=34;break;case 33:s(U({key:p,error:_.error}));case 34:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},F=function(e,t,r){return n=i()(a.a.mark(function n(s,i,c){var o;c.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(d.g());case 2:if(o=Object(y.e)(i(),{categoryName:t})){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,Promise.all([s(M(e,{category:o.id},r)),s(d.h(o.id))]);case 7:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},G=function(e,t,r){return n=i()(a.a.mark(function n(s,i,o){var d;o.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(d=Object(u.a)(t,c.U.HOT),0!==Object(x.w)(i(),{listingKey:d}).length){n.next=5;break}return n.next=5,s(l.P(d,t,{},!0));case 5:return n.next=7,s(M(e,{subredditName:t},r));case 7:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n}},"./src/reddit/actions/embedAndImage.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"c",function(){return c});var n=r("./src/lib/makeActionCreator/index.ts"),a="EMBEDS__UNLOADABLE",s="EMBEDS__LOADABLE",i=Object(n.a)(a),c=Object(n.a)(s)},"./src/reddit/actions/emoji.ts":function(e,t,r){"use strict";var n,a,s,i,c,o,u,d=r("./node_modules/babel-runtime/regenerator/index.js"),l=r.n(d),p=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),b=r.n(p),f=r("./node_modules/lodash/forEach.js"),O=r.n(f),m=r("./src/lib/constants/index.ts"),v=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/lib/omitHeaders/index.ts"),j=r("./src/lib/uploadToS3/index.ts"),h=r("./src/reddit/constants/headers.ts"),y=(n=b()(l.a.mark(function e(t,r,n,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(Object(g.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/emoji_asset_upload_s3.json",method:m.Fa.POST,data:{filepath:n,mimetype:a}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,a){return n.apply(this,arguments)}),_=(a=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(n,r));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return a.apply(this,arguments)}),E=(s=b()(l.a.mark(function e(t,r,n,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(Object(g.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/emoji.json",method:m.Fa.POST,data:{s3_key:n,name:a}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return s.apply(this,arguments)}),x=(i=b()(l.a.mark(function e(t,r){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(Object(g.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/emojis/all",method:m.Fa.GET,type:"json"}).then(function(e){return e.ok&&O()(e.body,function(e){return O()(e,function(e,t){return e.name=t})}),e}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return i.apply(this,arguments)}),T=(c=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(Object(g.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/v1/"+n+"/emoji/"+r,method:m.Fa.DELETE,type:"json"}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return c.apply(this,arguments)}),I=(o=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(Object(g.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/enable_emojis_in_sr.json",method:m.Fa.POST,data:{subreddit:r,enable:n}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return o.apply(this,arguments)}),S=(u=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(Object(g.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/emoji_custom_size",method:m.Fa.POST,data:n}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return u.apply(this,arguments)}),k=r("./src/lib/makeActionCreator/index.ts"),w=r("./src/reddit/actions/imageUploads.ts"),C=r("./src/reddit/helpers/getGenericUploadError.ts"),A=r("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),R=r("./src/reddit/helpers/media/index.ts"),D=r("./src/reddit/models/Emoji/index.ts"),P=r("./src/reddit/models/Image/index.tsx"),N=r("./src/reddit/selectors/subreddit.ts"),L=r("./src/reddit/actions/toaster.ts");r.d(t,"g",function(){return U}),r.d(t,"d",function(){return F}),r.d(t,"c",function(){return G}),r.d(t,"f",function(){return H}),r.d(t,"e",function(){return q}),r.d(t,"a",function(){return Q}),r.d(t,"n",function(){return z}),r.d(t,"m",function(){return Z}),r.d(t,"j",function(){return $}),r.d(t,"k",function(){return ee}),r.d(t,"h",function(){return te}),r.d(t,"i",function(){return re}),r.d(t,"b",function(){return ne}),r.d(t,"l",function(){return se});var U="STRUCTURED_STYLES__NEW_EMOJI_ADDED",M=Object(k.a)(U),F="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",G="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",B=Object(k.a)(F),V=Object(k.a)(G),H="GET_ALL_EMOJIS_LOADED",q="GET_ALL_EMOJIS_FAILED",K=Object(k.a)(H),W=Object(k.a)(q),Q="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",Y=Object(k.a)(Q),J=function(e){return{text:"Failed to save emoji",buttonText:"Retry",buttonAction:Z(e)}},z=function(e){var t,r=e.imageData,n=e.subredditId;return t=b()(l.a.mark(function e(t,a,s){var i,c,o,u,d,p,b,f,O,m,v;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a(),c=Object(N.A)(i,{subredditId:n}).name,t(Object(w.k)(r)),o=r.file,e.next=6,Object(R.f)(o);case 6:return u=e.sent,e.next=9,y(s.apiContext(),c,o.name,u);case 9:if(!(d=e.sent).ok){e.next=29;break}return e.next=13,_(s.apiContext(),d.body.s3UploadLease,o);case 13:if(!(p=e.sent).ok){e.next=25;break}if(a().imageUploads[r.id]){e.next=19;break}return Object(P.d)(r),e.abrupt("return");case 19:b=decodeURIComponent(p.body.PostResponse.Location),f=d.body.websocketUrl,O=Object(P.m)(r,b,f),t(Object(w.j)(O)),e.next=27;break;case 25:m=Object(P.j)(r,p.error),t(Object(w.i)(m));case 27:e.next=31;break;case 29:v=Object(P.j)(r,d.error),t(Object(w.i)(v));case 31:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}},X=function(e,t){return r=b()(l.a.mark(function r(n,a,s){var i,c,o,u,d,p,b,f;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.imageData,c=e.subredditId,o=e.emojiName,u=Object(A.a)(i.url),d=a(),p=Object(N.A)(d,{subredditId:c}).name,r.next=6,E(s.apiContext(),p,u,o);case 6:(b=r.sent).ok||(f=Object(P.j)(i,b.error),n(Object(w.i)(f)),n(Object(L.e)(J(e))),t&&t.close());case 8:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},Z=function(e){return t=b()(l.a.mark(function t(r,n,a){var s,i,c,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.imageData,i=e.subredditId,c=e.emojiName,r(Object(w.k)(s)),s.websocketUrl){t.next=4;break}return t.abrupt("return",r(Object(L.e)({text:"Could not upload emoji"})));case 4:(o=new WebSocket(s.websocketUrl)).onopen=b()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(e,o)(r,n,a);case 2:case"end":return t.stop()}},t,void 0)})),o.onmessage=function(t){var n=JSON.parse(t.data);if("success"===n.type){var a=n.payload.emoji_url,u=Object(P.n)(s,a);r(Object(w.l)(u));var d=Object(D.e)(c,u.url,i);r(M(d))}else{var l=Object(C.a)(c),p=Object(P.j)(s,l);r(Object(w.i)(p)),r(Object(L.e)(J(e)))}o.close()},o.onerror=function(t){var n=Object(C.a)(c),a=Object(P.j)(s,n);r(Object(w.i)(a)),r(Object(L.e)(J(e))),o.close()};case 8:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},$=function(e){return t=b()(l.a.mark(function t(r,n,a){var s,i,c,o,u=a.apiContext;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(),i=Object(N.A)(s,{subredditId:e}).name,t.next=4,x(u(),i);case 4:(c=t.sent).ok?(o=c.body,r(K(o))):r(W(c.error));case 6:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},ee=function(e){return t=b()(l.a.mark(function t(r,n,a){a.apiContext;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n().emojis[e]||r($(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},te=function(e,t){return r=b()(l.a.mark(function r(n,a,s){var i,c,o,u=s.apiContext;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=a(),c=Object(N.A)(i,{subredditId:t}).name,r.next=4,T(u(),e,c);case 4:(o=r.sent).ok?n(B({emojiName:e,subredditId:t})):n(V(o.error));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},re=function(e,t){return r=b()(l.a.mark(function r(n,a,s){var i,c,o=s.apiContext;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=a(),c=Object(N.A)(i,{subredditId:e}).name,r.next=4,I(o(),c,t);case 4:r.sent.ok&&n(Y({subredditId:e,emojisEnabled:t}));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},ne="EMOJI_CUSTOM_SIZE_UPDATED",ae=Object(k.a)(ne),se=function(e,t){return r=b()(l.a.mark(function r(n,a,s){var i,c,o=s.apiContext;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=a(),c=Object(N.A)(i,{subredditId:e}).name,r.next=4,S(o(),c,t);case 4:r.sent.ok&&n(ae({subredditId:e,emojiCustomSize:t}));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/experiments.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i});r("./node_modules/babel-runtime/regenerator/index.js"),r("./node_modules/babel-runtime/helpers/asyncToGenerator.js");var n=r("./src/lib/makeActionCreator/index.ts"),a=(r("./src/reddit/endpoints/user/index.ts"),"EXPERIMENTS__REQUEST_LOADED"),s=(Object(n.a)("EXPERIMENTS__REQUEST_PENDING"),Object(n.a)("EXPERIMENTS__REQUEST_FAILED"),Object(n.a)(a),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),i=Object(n.a)(s)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return O}),r.d(t,"b",function(){return m}),r.d(t,"a",function(){return v}),r.d(t,"d",function(){return x}),r.d(t,"e",function(){return T});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/app/strings/index.ts"),u=r("./src/lib/loadWithRetries/index.ts"),d=r("./src/reddit/actions/structuredStyles.ts"),l=r("./src/reddit/actions/toaster.ts"),p=r("./src/reddit/models/StructuredStyles/index.ts"),b=r("./src/reddit/models/Toast/index.ts"),f=r("./src/reddit/selectors/subreddit.ts"),O="STRUCTURED_STYLES__EXPORT_THEME_PENDING",m="STRUCTURED_STYLES__EXPORT_THEME_LOADED",v="STRUCTURED_STYLES__EXPORT_THEME_FAILED",g=Object(c.a)(O),j=Object(c.a)(m),h=Object(c.a)(v),y=Object(c.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),_=Object(c.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),E=Object(c.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),x=function(e){return t=i()(a.a.mark(function t(n,s){var i,c,d,p,O,m;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(g()),i=s(),c=i.user.language,d=Object(f.A)(i,{subredditId:e}).name,p=i.structuredStyles.models[e],t.next=7,Object(u.a)(function(){return Promise.all([r.e("vendors~ExportTheme~ImportTheme~xml2js"),r.e("vendors~ExportTheme~ImportTheme"),r.e("ExportTheme")]).then(r.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))}).then(function(e){return e.default});case 7:return O=t.sent,t.next=10,O(p,d);case 10:(m=t.sent).ok?(n(j()),n(Object(l.e)({kind:b.a.SuccessMod,text:Object(o.a)(c,"structuredStyles.forms.themes.exportSuccessToast")}))):(n(h(m.error)),n(Object(l.e)({kind:b.a.Error,text:Object(o.a)(c,"structuredStyles.forms.themes.exportFailToast")})));case 12:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},T=function(e){return t=i()(a.a.mark(function t(n,s){var i,c,f,O;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(y()),i=s(),c=i.user.language,t.next=5,Object(u.a)(function(){return Promise.all([r.e("vendors~ExportTheme~ImportTheme~xml2js"),r.e("vendors~ExportTheme~ImportTheme"),r.e("ImportTheme")]).then(r.bind(null,"./src/reddit/helpers/importTheme/index.ts"))}).then(function(e){return e.default});case 5:return f=t.sent,t.next=8,f(e);case 8:(O=t.sent).ok?(n(_()),n(Object(l.e)({kind:b.a.SuccessMod,text:Object(o.a)(c,"structuredStyles.forms.themes.importSuccessToast")})),0!==Object.keys(O.attributes).length&&n(Object(d.n)(Object(p.f)(O.attributes)))):(n(E(O.error)),n(Object(l.e)({kind:b.a.Error,text:Object(o.a)(c,"structuredStyles.forms.themes.importFailToast")})));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/externalAccount.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/app/strings/index.ts"),l=r("./src/lib/addQueryParams/index.ts"),p=r("./src/reddit/actions/toaster.ts"),b=r("./src/reddit/constants/parameters.ts"),f=r("./src/lib/constants/index.ts"),O=r("./src/lib/makeApiRequest/index.ts"),m=r("./src/lib/omitHeaders/index.ts"),v=r("./src/reddit/constants/headers.ts"),g=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=function(e){return e.reduce(function(e,t){return e[t.provider]=t,e},{})},h=function(e,t){return Object(O.b)(Object(m.a)(e,[v.a]),{endpoint:Object(g.a)(e.apiUrl+"/api/v1/external_account/user/"+t+".json"),method:f.Fa.GET})},y=function(e,t){return Object(O.b)(Object(m.a)(e,[v.a]),{endpoint:Object(g.a)(e.apiUrl+"/api/v1/external_account/subreddit/"+t+".json"),method:f.Fa.GET})},_=function(e,t){return Object(O.b)(Object(m.a)(e,[v.a]),{endpoint:Object(g.a)(e.apiUrl+"/api/v1/external_account/"+t+"/disconnect.json"),method:f.Fa.POST})},E=function(e,t,r){return Object(O.b)(Object(m.a)(e,[v.a]),{endpoint:Object(g.a)(e.apiUrl+"/api/v1/external_account/"+t+"/connect.json"),method:f.Fa.POST,data:{redirect_url:r}})},x=r("./src/reddit/featureFlags/index.ts"),T=r("./src/reddit/models/Toast/index.ts"),I=r("./src/reddit/models/User/index.ts"),S=r("./src/reddit/selectors/externalAccount.ts"),k=r("./src/reddit/selectors/platform.ts"),w=r("./src/reddit/selectors/user.ts");r.d(t,"l",function(){return C}),r.d(t,"k",function(){return A}),r.d(t,"j",function(){return R}),r.d(t,"i",function(){return D}),r.d(t,"h",function(){return P}),r.d(t,"g",function(){return N}),r.d(t,"o",function(){return V}),r.d(t,"p",function(){return H}),r.d(t,"b",function(){return q}),r.d(t,"c",function(){return K}),r.d(t,"a",function(){return W}),r.d(t,"n",function(){return z}),r.d(t,"e",function(){return X}),r.d(t,"f",function(){return Z}),r.d(t,"d",function(){return $}),r.d(t,"m",function(){return ne});var C="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",A="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",R="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",D="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",P="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",N="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",L=Object(u.a)(C),U=Object(u.a)(A),M=Object(u.a)(R),F=Object(u.a)(D),G=Object(u.a)(P),B=Object(u.a)(N),V=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,d,l=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),x.d.externalAccounts(s)){t.next=3;break}return t.abrupt("return");case 3:if(c=Object(w.j)(s),o=e||c&&Object(I.d)(c)){t.next=7;break}return t.abrupt("return");case 7:if(!Object(S.f)(s,{username:o})){t.next=10;break}return t.abrupt("return");case 10:return r(L(o)),t.next=13,h(l(),o);case 13:(u=t.sent).ok?(d=j(u.body),r(U({username:o,accountsData:d}))):r(M(u.error));case 15:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},H=function(){return e=o()(i.a.mark(function e(t,r,n){var a,s,c,o,u=n.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),x.d.externalAccounts(a)){e.next=3;break}return e.abrupt("return");case 3:if(s=Object(k.e)(a)){e.next=6;break}return e.abrupt("return");case 6:return t(F(s)),e.next=9,y(u(),s);case 9:(c=e.sent).ok?(o=j(c.body),t(G({subredditName:s,accountsData:o}))):t(B(c.error));case 11:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},q="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",K="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",W="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",Q=Object(u.a)(q),Y=Object(u.a)(K),J=Object(u.a)(W),z=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(Q({provider:e})),s=Object(w.j)(n()),c=Object(I.d)(s),t.next=5,_(u(),e);case 5:(o=t.sent).ok?r(Y({provider:e,username:c})):r(J({provider:e,error:o.error}));case 7:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},X="OAUTH_FLOW_URL_PENDING",Z="OAUTH_FLOW_URL_SUCCESS",$="OAUTH_FLOW_URL_FAILED",ee=Object(u.a)(X),te=Object(u.a)(Z),re=Object(u.a)($),ne=function(e){return t=o()(i.a.mark(function t(r,n,s){var c,o,u,f,O=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(ee({provider:e})),c=Object(w.H)(n()),o=Object(l.a)(window.location.href,a()({},b.a,e)),t.next=5,E(O(),e,o);case 5:(u=t.sent).ok?(f=u.body.redirect_url,r(te({provider:e})),window.location.href=f):(r(re({provider:e,error:u.error})),r(Object(p.e)({kind:T.a.Error,text:Object(d.a)(c,"error.type.generic")})));case 7:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/frontpage.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return x}),r.d(t,"b",function(){return T}),r.d(t,"a",function(){return I}),r.d(t,"d",function(){return C});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/pick.js"),o=r.n(c),u=r("./src/lib/getParsedUserAgent/index.ts"),d=r("./src/reddit/actions/page.ts"),l=r("./src/reddit/constants/parameters.ts"),p=r("./src/reddit/endpoints/governance/posts.ts"),b=r("./src/reddit/endpoints/page/frontpage.ts"),f=r("./src/reddit/endpoints/page/subredditPage.ts"),O=r("./src/lib/makeActionCreator/index.ts"),m=r("./src/lib/makeListingKey/index.ts"),v=r("./src/lib/constants/index.ts"),g=r("./src/reddit/constants/page.ts"),j=r("./src/reddit/constants/postLayout.ts"),h=r("./src/reddit/contexts/PageLayer/index.tsx"),y=r("./src/reddit/helpers/filterListingResponse/index.ts"),_=r("./src/reddit/selectors/frontpage.ts"),E=r("./src/reddit/selectors/monthsToMinutes.ts"),x="FRONTPAGE__MORE_POSTS_PENDING",T="FRONTPAGE__MORE_POSTS_LOADED",I="FRONTPAGE__MORE_POSTS_FAILED",S=Object(O.a)(x),k=Object(O.a)(T),w=Object(O.a)(I),C=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,O,x,T,I,C,A,R,D,P,N,L,U,M,F,G,B,V,H,q,K,W,Q,Y,J=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=Object(_.a)(i),O=e.sort,x=void 0===O?c:O,T=i.platform.currentPage?i.platform.currentPage.queryParams:{},I=Object(m.a)(g.b,x,T),C=i.listings.postOrder.loadMore[I],A=T[l.n]?T[l.n].toUpperCase():"",R=A in v.Kb&&v.Kb[A],!C){t.next=37;break}if(D=i.listings.postOrder.api.pending[I],P=i.listings.postOrder.fetchedTokens,N=!(!P[I]||!P[I][C.token]),D||N){t.next=37;break}return r(S({key:I,fetchedToken:C.token})),L=!!i.platform.currentPage&&!!i.platform.currentPage.queryParams.useMockData,U=Object.assign({after:C.token,dist:C.dist},o()(T,l.h),{isMobile:Object(u.b)(i.meta.userAgent),sort:x,t:Object(d.F)(x,R),layout:j.c[Object(h.J)(i,{})],useMockData:L}),M=Object(E.h)(i),F=Object(E.i)(i),(G=M&&F)||(B=i.platform.lastPage,(V=B&&B.url)&&(U.clickUrl=V)),H=G?function(){return Object(f.a)(J(),M,U)}:function(){return Object(b.a)(J(),U)},t.next=23,H();case 23:if(q=t.sent,K=Object.assign({},q.body,Object(y.a)(i,I,q.body)),!q.ok){t.next=36;break}if(W=void 0,!(Q=K.postIds.filter(function(e){return!!K.posts[e].isMeta})).length){t.next=33;break}return t.next=31,Object(p.a)(J(),Q);case 31:(Y=t.sent).ok&&(W=Y.body);case 33:r(k(Object.assign({key:I,fetchedToken:C.token,meta:i.meta,governance:W},K))),t.next=37;break;case 36:r(w(Object.assign({key:I,error:q.error,fetchedToken:C.token},K)));case 37:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/gild.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/app/strings/index.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/lib/messageIframeParent/index.ts"),p=r("./src/reddit/actions/toaster.ts"),b=r("./src/reddit/models/Gild/index.tsx"),f=r("./src/reddit/models/Toast/index.ts"),O=r("./src/reddit/selectors/gild.ts"),m=r("./src/reddit/selectors/user.ts"),v=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/lib/omitHeaders/index.ts"),j=r("./src/reddit/constants/headers.ts"),h=r("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),y=r("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),_=(n=c()(s.a.mark(function e(t,r,n,a){var i,c,o,d,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.gildType,c=a.includeMessage,o=a.isAnonymous,d=a.message,l={thing_id:n,gild_type:i,message:c?d:"",is_anonymous:o},e.abrupt("return",Object(v.b)(Object(g.a)(t,[j.a]),{method:u.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/gild",data:l}).then(function(e){return e.ok?(e.body.gildings=Object(h.a)(e.body.gildings),Object.assign({},e)):e.error&&e.error.type?e:Object.assign({},e,{error:Object(y.a)(e)})}));case 3:case"end":return e.stop()}},e,void 0)})),function(e,t,r,a){return n.apply(this,arguments)}),E=r("./src/reddit/helpers/correlationIdTracker.ts"),x=r("./src/reddit/helpers/isPost.ts"),T=r("./src/reddit/helpers/trackers/gild.ts"),I=r("./src/telemetry/index.ts");r.d(t,"f",function(){return S}),r.d(t,"a",function(){return k}),r.d(t,"e",function(){return w}),r.d(t,"p",function(){return C}),r.d(t,"o",function(){return R}),r.d(t,"l",function(){return D}),r.d(t,"q",function(){return P}),r.d(t,"g",function(){return N}),r.d(t,"i",function(){return L}),r.d(t,"h",function(){return U}),r.d(t,"k",function(){return M}),r.d(t,"r",function(){return F}),r.d(t,"t",function(){return G}),r.d(t,"s",function(){return B}),r.d(t,"u",function(){return V}),r.d(t,"j",function(){return H}),r.d(t,"c",function(){return q}),r.d(t,"d",function(){return K}),r.d(t,"b",function(){return W}),r.d(t,"m",function(){return Q}),r.d(t,"n",function(){return te});var S="GILD__OPEN_GILD_MODAL",k="GILD__CLOSE_GILD_MODAL",w="GILD__OPEN_FRAMED_GILD",C=Object(d.a)(S),A=Object(d.a)(k),R=Object(d.a)(w),D=function(){return e=c()(s.a.mark(function e(t,r){var n,a,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r(),a=Object(O.d)(n),Object(I.a)(Object(T.a)(a)(n)),Object(O.h)(n)&&(i="close.gild",Object(l.a)({type:i})),t(A()),Object(E.b)(E.a.GildingFlow);case 6:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e},P=function(){return c()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="login.gild",Object(l.a)({type:t});case 2:case"end":return e.stop()}},e,void 0)}))},N="GILD__SELECT_GILD_TYPE",L="GILD__SET_IS_ANONYMOUS",U="GILD__SET_INCLUDE_MESSAGE",M="GILD__UPDATE_MESSAGE",F=Object(d.a)(N),G=Object(d.a)(L),B=Object(d.a)(U),V=Object(d.a)(M),H="GILD__TRIGGER_LOADER",q="GILD__GILD_PENDING",K="GILD__GILD_SUCCESSFUL",W="GILD__GILD_FAILED",Q=function(e){return t=c()(s.a.mark(function t(r,n,a){var i,c,o,u,d=a.apiContext;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n(),c=i.gild,r(z()),t.prev=3,t.next=6,_(d(),"en",e,c);case 6:if(!(o=t.sent).error){t.next=12;break}return t.next=10,r($(o));case 10:t.next=15;break;case 12:return u=o.body,t.next=15,r(te({coins:u.coins,gildings:u.gildings,gildType:c.gildType,id:e}));case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(3),t.next=21,r($(t.t0));case 21:return t.prev=21,Object(E.b)(E.a.GildingFlow),t.finish(21);case 24:case"end":return t.stop()}},t,void 0,[[3,17,21,24]])})),function(e,r,n){return t.apply(this,arguments)};var t},Y=Object(d.a)(H),J=Object(d.a)(q),z=function(){return e=c()(s.a.mark(function e(t,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(J()),window.setTimeout(function(){r().gild.api.pending&&t(Y())},2e3);case 2:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e},X=Object(d.a)(W),Z=function(e,t,r){switch(!0){case e&&e.body&&e.body.json&&e.body.json.errors&&e.body.json.errors[0]&&"SELF_GILDING_NOT_ALLOWED"===e.body.json.errors[0][0]:return Object(o.a)(r,"gold.gildModal.notAllowedAwardOwnSubmissions");case e&&e.error&&e.error.type&&e.error.type===u.k:return Object(o.a)(r,"error.authentication");default:return t}},$=function(e){return t=c()(s.a.mark(function t(r,n){var a,i,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(X(e));case 2:(a=n().gild.api.error)&&(i=Object(m.H)(n()),c=Z(e,a,i),r(Object(p.e)({kind:f.a.Error,duration:p.a,text:c})));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},ee=Object(d.a)(K),te=function(e){return t=c()(s.a.mark(function t(r,n){var a,i,c,u,d,v,g,j,h;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n(),Object(O.h)(a)&&(i="success.gild",Object(l.a)({type:i,data:e})),r(ee(e)),(a.posts.instances[e.id]||[]).forEach(function(t){r(ee(Object.assign({},e,{id:t})))}),c=e.gildType,u=e.id,d=Object(m.H)(a),v=Object(b.c)(c),g=v.awardMessage,j=v.cost,Object(I.a)(Object(T.l)(u,j,c)(a)),h=Object(o.a)(d,Object(x.a)(u)?"gold.postOrComment.post":"gold.postOrComment.comment"),r(Object(p.e)({kind:f.a.SuccessCommunity,text:Object(o.a)(d,g,{postOrComment:h})}));case 11:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/goldClickTest.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"e",function(){return s}),r.d(t,"f",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"j",function(){return d}),r.d(t,"k",function(){return l}),r.d(t,"h",function(){return p}),r.d(t,"i",function(){return b}),r.d(t,"g",function(){return f});var n=r("./src/lib/makeActionCreator/index.ts"),a="GOLD_CLICK_TEST__CHECK_IF_ENABLED",s="GOLD_CLICK_TEST__SUBMITTED_EMAIL",i="GOLD_CLICK_TEST__SUBMITTED_FEEDBACK",c="GOLD_CLICK_TEST__CLICKED_INTERESTED",o="GOLD_CLICK_TEST__CLICKED_UNINTERESTED",u="GOLD_CLICK_TEST__CLICKED_CANCEL",d=(Object(n.a)(a),Object(n.a)(s)),l=Object(n.a)(i),p=Object(n.a)(c),b=Object(n.a)(o),f=Object(n.a)(u)},"./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return v}),r.d(t,"a",function(){return g}),r.d(t,"g",function(){return j}),r.d(t,"f",function(){return h}),r.d(t,"c",function(){return y}),r.d(t,"e",function(){return _}),r.d(t,"h",function(){return E}),r.d(t,"k",function(){return x}),r.d(t,"j",function(){return T}),r.d(t,"d",function(){return I}),r.d(t,"i",function(){return k});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/config.ts"),u=r("./src/lib/formatApiError/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/actions/gild.ts"),p=r("./src/reddit/actions/goldPurchaseModals/payment.ts"),b=r("./src/reddit/endpoints/gold/purchase.ts"),f=r("./src/reddit/helpers/correlationIdTracker.ts"),O=r("./src/reddit/models/Coins/index.ts"),m=r("./src/reddit/selectors/user.ts"),v="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL",g="COIN_PURCHASE_MODAL__CLOSE_COIN_PURCHASE_MODAL",j=Object(d.a)(v),h=Object(d.a)(g),y="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL_TO_GILD",_=Object(d.a)(y),E=function(e,t,r){return n=i()(a.a.mark(function n(s){var i,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:s(_({thingId:r})),i=Object(O.c)(e,t),c=Object(f.c)(f.a.GoldPayment),s(w({coinPackage:i,correlationId:c}));case 4:case"end":return n.stop()}},n,void 0)})),function(e){return n.apply(this,arguments)};var n},x=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,d,l,O,v,g,j,h,y=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=s(),o=t.coins,d=t.pennies,l=Object(f.c)(f.a.GoldPayment),O=Object(m.H)(c),n(Object(p.p)()),r.next=8,n(Object(p.q)(e));case 8:if(v=r.sent){r.next=11;break}return r.abrupt("return");case 11:return r.prev=11,r.next=14,Object(b.e)(y(),O,v,o,d,l);case 14:if(!(g=r.sent).error){r.next=21;break}return j=Object(u.a)(O,g.error,g.status),n(Object(p.o)(j)),r.abrupt("return");case 21:return n(Object(p.l)({coins:g.body.coins?g.body.coins:0,confirmed:!1})),r.abrupt("return");case 23:r.next=29;break;case 25:r.prev=25,r.t0=r.catch(11),h=Object(u.a)(O,r.t0),n(Object(p.o)(h));case 29:case"end":return r.stop()}},r,void 0,[[11,25]])})),function(e,t,n){return r.apply(this,arguments)};var r},T=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var o,d,O,v,g,j,y,_,E,x,T,I,S,k,w,C,A,R,D,P=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=s(),d=t.coins,O=t.pennies,v=Object(f.c)(f.a.GoldPayment),g=Object(m.H)(o),n(Object(p.p)()),r.next=8,n(Object(p.q)(e));case 8:if(j=r.sent){r.next=11;break}return r.abrupt("return");case 11:if(r.prev=11,y=o.gild,_=y.gildModalThingId,E=y.gildType,x=y.isAnonymous,T=y.includeMessage,I=y.message,_&&E){r.next=16;break}return n(Object(p.o)(Object(c.a)(g,"gold.errors.unknowngild"))),r.abrupt("return");case 16:return S={gildType:E,includeMessage:T,isAnonymous:x,message:I},r.next=19,Object(b.d)(P(),g,j,d,O,_,S,v);case 19:if(!(k=r.sent).error){r.next=26;break}return w=Object(u.a)(g,k.error,k.status),n(Object(p.o)(w)),r.abrupt("return");case 26:return n(h()),n(Object(p.l)({confirmed:!1})),C=k.body,A=C.coins,R=C.gildings,n(Object(l.n)({id:_,gildings:R,coins:A,gildType:E})),r.abrupt("return");case 31:r.next=37;break;case 33:r.prev=33,r.t0=r.catch(11),D=Object(u.a)(g,r.t0),n(Object(p.o)(D));case 37:case"end":return r.stop()}},r,void 0,[[11,33]])})),function(e,t,n){return r.apply(this,arguments)};var r},I="COIN_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",S=Object(d.a)(I),k=function(e){var t,r=e.coinPackage,n=e.correlationId;return t=i()(a.a.mark(function e(t,s,i){var c,d,l,f,O,v,g=i.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(j({coinPackage:r})),c=s(),d=o.a.paypal.buttons["coins"+r.coins]||o.a.paypal.buttons.coins500,l=Object(m.H)(c),e.prev=4,e.next=7,Object(b.b)(g(),l,d,n);case 7:(f=e.sent).error?(O=Object(u.a)(l,f.error,f.status),t(Object(p.m)(O))):t(S(f)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),v=Object(u.a)(l,e.t0),t(Object(p.m)(v));case 15:case"end":return e.stop()}},e,void 0,[[4,11]])})),function(e,r,n){return t.apply(this,arguments)}},w=function(e){var t,r=e.coinPackage,n=e.correlationId;return t=i()(a.a.mark(function e(t,s,i){var d,l,f,O,v,g,h,y,_,E,x,T=i.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t(j({coinPackage:r})),d=s(),l=o.a.paypal.buttons["coinsGild"+r.coins]||o.a.paypal.buttons.coinsGild500,f=Object(m.H)(d),O=d.gild,v=O.gildModalThingId,g=O.gildType,h=O.isAnonymous,y=O.message,v&&g){e.next=8;break}return t(Object(p.m)(Object(c.a)(f,"gold.errors.unknowngild"))),e.abrupt("return");case 8:return e.prev=8,e.next=11,Object(b.a)(T(),f,l,v,g,y,h,n);case 11:(_=e.sent).error?(E=Object(u.a)(f,_.error,_.status),t(Object(p.m)(E))):t(S(_)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),x=Object(u.a)(f,e.t0),t(Object(p.m)(x));case 19:case"end":return e.stop()}},e,void 0,[[8,15]])})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/goldPurchaseModals/payment.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return l}),r.d(t,"n",function(){return p}),r.d(t,"c",function(){return b}),r.d(t,"l",function(){return f}),r.d(t,"b",function(){return O}),r.d(t,"k",function(){return m}),r.d(t,"a",function(){return v}),r.d(t,"g",function(){return j}),r.d(t,"j",function(){return h}),r.d(t,"i",function(){return y}),r.d(t,"p",function(){return _}),r.d(t,"h",function(){return E}),r.d(t,"f",function(){return T}),r.d(t,"o",function(){return I}),r.d(t,"d",function(){return S}),r.d(t,"m",function(){return k}),r.d(t,"q",function(){return w});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/app/strings/index.ts"),u=r("./src/reddit/selectors/goldPurchaseModals.ts"),d=r("./src/reddit/selectors/user.ts"),l="GOLD_PAYMENT__SELECT_PAYMENT_METHOD",p=Object(c.a)(l),b="GOLD_PAYMENT__PAYMENT_COMPLETED",f=Object(c.a)(b),O="GOLD_PAYMENT__CARD_NAME_INPUT",m=Object(c.a)(O),v="GOLD_PAYMENT__CARD_NAME_EMPTY",g=Object(c.a)(v),j="GOLD_PAYMENT__STRIPE_ELEMENT_CHANGE",h=Object(c.a)(j),y="GOLD_PAYMENT__STRIPE_TOKEN_PENDING",_=Object(c.a)(y),E="GOLD_PAYMENT__CARD_ERROR",x=Object(c.a)(E),T="GOLD_PAYMENT__STRIPE_API_ERROR",I=Object(c.a)(T),S="GOLD_PAYMENT__PAYPAL_API_ERROR",k=Object(c.a)(S),w=function(e){return t=i()(a.a.mark(function t(r,n){var s,i,c,l,p,b,f;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(),i=Object(u.j)(s),t.next=4,e.createToken({name:i});case 4:if(c=t.sent,l=c.token,p=c.error,i.trim()){t.next=12;break}return b=Object(d.H)(s),f=Object(o.a)(b,"gold.checkoutForm.yourCardsNameFieldIsIncomplete"),r(g({message:f})),t.abrupt("return");case 12:if(!p&&l){t.next=16;break}return r(x(p||void 0)),t.abrupt("return");case 16:return t.abrupt("return",l);case 17:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return O}),r.d(t,"a",function(){return m}),r.d(t,"e",function(){return v}),r.d(t,"d",function(){return g}),r.d(t,"g",function(){return j}),r.d(t,"c",function(){return h}),r.d(t,"f",function(){return _});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/config.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/formatApiError/index.ts"),l=r("./src/reddit/actions/goldPurchaseModals/payment.ts"),p=r("./src/reddit/endpoints/gold/purchase.ts"),b=r("./src/reddit/helpers/correlationIdTracker.ts"),f=r("./src/reddit/selectors/user.ts"),O="PREMIUM_PURCHASE_MODAL__OPEN_PREMIUM_PURCHASE_MODAL",m="PREMIUM_PURCHASE_MODAL__CLOSE_PREMIUM_PURCHASE_MODAL",v=Object(o.a)(O),g=Object(o.a)(m),j=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,O,m,v,g,j,h=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n(),c=u.Ta,o=Object(b.c)(b.a.GoldPayment),O=Object(f.H)(i),r(Object(l.p)()),t.next=7,r(Object(l.q)(e));case 7:if(m=t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.prev=10,t.next=13,Object(p.f)(h(),O,m,c,o);case 13:(v=t.sent).error?(g=Object(d.a)(O,v.error),r(Object(l.o)(g))):r(Object(l.l)({confirmed:!1})),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(10),j=Object(d.a)(O,t.t0),r(Object(l.o)(j));case 21:case"end":return t.stop()}},t,void 0,[[10,17]])})),function(e,r,n){return t.apply(this,arguments)};var t},h="PREMIUM_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",y=Object(o.a)(h),_=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o,u,b,O,m,g=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(v()),i=n(),o=Object(f.H)(i),u=c.a.paypal.buttons.premium,t.prev=4,t.next=7,Object(p.c)(g(),o,u,e);case 7:(b=t.sent).error?(O=Object(d.a)(o,b.error),r(Object(l.m)(O))):r(y(b)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),m=Object(d.a)(o,t.t0),r(Object(l.m)(m));case 15:case"end":return t.stop()}},t,void 0,[[4,11]])})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/governance.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/app/strings/index.ts"),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/localStorageAvailable/index.ts"),p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/lib/prettyPrintNumber/index.ts"),f=r("./src/reddit/actions/modal.ts"),O=r("./src/reddit/actions/post.ts"),m=r("./src/reddit/actions/toaster.ts"),v=r("./src/reddit/endpoints/governance/requester.ts");function g(e,t,r){return Object(v.a)(e,{data:{optOut:t},method:"patch",endpoint:"https://meta-api.reddit.com/wallets/me/"+r})}function j(e,t,r){return Object(v.a)(e,{method:"put",endpoint:"https://meta-api.reddit.com/polls/"+t+"/votes/me/"+r})}var h=r("./src/config.ts"),y=r("./src/lib/omitHeaders/index.ts"),_=r("./src/reddit/constants/headers.ts"),E=r("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),x=h.a.releaseNotesSubredditMap||{t5_kzsl3:"rn_funkygoose",t5_37jgj:"rn_ethtrader",t5_2t9ha:"rn_stellar"};function T(e,t){return Object(v.a)(e,{data:{amount:t.amount,contentId:t.contentId,description:t.message,receiveUserName:t.recipient},endpoint:"https://meta-api.reddit.com/wallets/me/"+t.subredditId+"/transfers",method:"post"})}r("./src/lib/bigNumberUtils/percent.ts");function I(e,t){var r="https://meta-api.reddit.com/wallets/me";return t&&t.subredditId&&(r+=r+"/"+t.subredditId),Object(v.a)(e,{endpoint:r,method:d.Fa.GET}).then(function(e){if(e.ok){var r=e.body,n=t&&t.subredditId?a()({},t.subredditId,r):r;return Object.assign({},e,{body:n})}return e})}var S=r("./src/reddit/models/Toast/index.ts"),k=r("./src/reddit/models/Vote/index.ts"),w=r("./src/reddit/selectors/gov.ts");r.d(t,"a",function(){return A}),r.d(t,"b",function(){return R}),r.d(t,"c",function(){return D}),r.d(t,"e",function(){return P}),r.d(t,"f",function(){return N}),r.d(t,"d",function(){return L}),r.d(t,"h",function(){return U}),r.d(t,"g",function(){return M}),r.d(t,"j",function(){return F}),r.d(t,"k",function(){return G}),r.d(t,"l",function(){return B}),r.d(t,"i",function(){return V}),r.d(t,"m",function(){return H}),r.d(t,"q",function(){return W}),r.d(t,"r",function(){return Q}),r.d(t,"v",function(){return $}),r.d(t,"o",function(){return ie}),r.d(t,"n",function(){return ce}),r.d(t,"s",function(){return oe}),r.d(t,"t",function(){return ue}),r.d(t,"u",function(){return de}),r.d(t,"w",function(){return le}),r.d(t,"p",function(){return pe});var C=function(e){return"RELEASE_NOTES-"+e},A="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",R="GOVERNANCE__OPT_OUT_MODAL_OPENED",D="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",P="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",N="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",L="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",U="GOVERNANCE__RELEASE_NOTES_SUCCESS",M="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",F="GOVERNANCE__TRANSFER_MODAL_OPENED",G="GOVERNANCE__TRANSFER_PENDING",B="GOVERNANCE__TRANSFER_SUCCESS",V="GOVERNANCE__TRANSFER_FAILURE",H="GOVERNANCE__WALLETS_FETCH_SUCCESS",q=Object(p.a)(A),K=Object(p.a)("GOVERNANCE__OPT_OUT_IN_PENDING"),W=Object(p.a)(R),Q=(Object(p.a)("GOVERNANCE__PROPOSAL_CREATION_PENDING"),Object(p.a)(D)),Y=(Object(p.a)("GOVERNANCE__PROPOSAL_CREATION_FAILURE"),Object(p.a)(P)),J=Object(p.a)(N),z=Object(p.a)(L),X=Object(p.a)(U),Z=Object(p.a)(M),$=Object(p.a)(F),ee=Object(p.a)(G),te=Object(p.a)(B),re=Object(p.a)(V),ne=Object(p.a)("GOVERNANCE__WALLETS_FETCH_PENDING"),ae=Object(p.a)(H),se=Object(p.a)("GOVERNANCE__WALLETS_FETCH_FAILURE");function ie(e,t){if("extra"in t){var r="string"==typeof t.extra?t.extra:Object.keys(t.extra).map(function(e){return t.extra[e]}).join(" ");e(Object(m.e)({duration:5e3,kind:S.a.Error,text:r}))}else e(Object(m.e)({duration:5e3,kind:S.a.Error,text:"Something wen't wrong. Please try again later."}))}var ce=function(e){var t,r=e.subredditId;return t=o()(i.a.mark(function e(t,n,a){var s,c=a.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=c(),a={subredditId:r},Object(v.a)(n,{endpoint:"https://meta-api.reddit.com/community/"+a.subredditId+"/me",method:d.Fa.GET});case 2:(s=e.sent).ok&&t(q(Object.assign({subredditId:r},s.body)));case 4:case"end":return e.stop()}var n,a},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}},oe=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l,p=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(Y({pollId:e})),r.next=3,j(p(),e,t);case 3:(c=r.sent).ok?(n(J(c.body)),o=a(),(u=o.polls.models[e])&&(d=u.postId,(l=o.posts.models[d])&&l.voteState===k.a.notVoted&&n(Object(O.G)(d)))):(n(z({pollId:e,error:c.error})),ie(n,c.error));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},ue=function(e){var t,r=e.subredditId;return t=o()(i.a.mark(function e(t,n,a){var s,c,o,u,p,b,f,O=a.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x[r]){e.next=2;break}return e.abrupt("return");case 2:if(Object(l.a)()){e.next=4;break}return e.abrupt("return");case 4:s=C(r),c=localStorage.getItem(s),o={},e.prev=7,c&&(o=JSON.parse(c)),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(7),localStorage.removeItem(s),e.abrupt("return");case 15:if(u=Object.keys(o).reduce(function(e,t){return o[t]>e?o[t]:e},0),!(Date.now()-d.y<u)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,n=O(),void 0,(a=x[{subredditId:r}.subredditId])?Object(v.a)(Object(y.a)(n,[_.a]),{endpoint:n.apiUrl+"/r/"+a+"/new.json?limit=10&rtj=debug",method:"get"}).then(function(e){return e.ok?Object.assign({},e,{body:{releaseNotes:e.body.data.children.map(function(e){return Object(E.a)(e.data)})}}):e}):Promise.resolve({ok:!1,error:{},status:404});case 20:(p=e.sent).ok&&(t(X(Object.assign({subredditId:r},p.body))),b=p.body.releaseNotes.map(function(e){return e.id}),b.filter(function(e){return!o[e]}).length&&t(Z()),f=b.reduce(function(e,t){return e[t]=Date.now(),e},{}),localStorage.setItem(s,JSON.stringify(f)));case 22:case"end":return e.stop()}var n,a},e,void 0,[[7,11]])})),function(e,r,n){return t.apply(this,arguments)}},de=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,d,l,p=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(ee()),c=a().transfers.communityPoints.contentId||void 0,r.next=4,T(p(),Object.assign({},e,{contentId:c}));case 4:(o=r.sent).ok?(d=a(),l=d.user.language,n(te(Object.assign({},o.body,{subredditId:e.subredditId}))),n(Object(m.e)({kind:S.a.SuccessCommunity,text:Object(u.a)(l,"gov.transferSuccess",{amount:Object(b.a)(e.amount),recipient:e.recipient,tokenName:Object(w.c)(a(),{subredditId:e.subredditId})})})),t&&n(Object(f.g)())):(n(re({error:o.error})),ie(n,o.error));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},le=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(ne()),t.next=3,I(c(),e);case 3:(s=t.sent).ok?r(ae(s.body)):r(se({error:s.error}));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},pe=function(e,t){return r=o()(i.a.mark(function r(n,s,c){var o,d,l=c.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(K()),r.next=3,g(l(),e,t);case 3:(o=r.sent).ok?(n(ae(a()({},t,o.body))),d=e?"polls.optOutSuccess":"polls.optInSuccess",n(Object(m.e)({kind:S.a.SuccessCommunity,text:Object(u.a)(s().user.language,d,{tokenName:Object(w.c)(s(),{subredditId:t})})}))):ie(n,o.error);case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/header.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"f",function(){return s}),r.d(t,"j",function(){return i}),r.d(t,"k",function(){return c}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"g",function(){return p}),r.d(t,"h",function(){return b}),r.d(t,"i",function(){return f});var n=r("./src/lib/makeActionCreator/index.ts"),a="HEADER__SUBSCRIPTIONS_PINNED",s="HEADER__SUBSCRIPTIONS_UNPINNED",i=Object(n.a)(a),c=Object(n.a)(s),o="EXPERIMENTS__SHUFFLE_CATEGORIES",u=(Object(n.a)(o),"HEADER__DROPDOWN_CLOSED"),d="HEADER__DROPDOWN_OPENED",l="HEADER__DROPDOWN_TOGGLED",p=Object(n.a)(u),b=Object(n.a)(d),f=Object(n.a)(l)},"./src/reddit/actions/hero.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/news.ts"),d=r("./src/reddit/actions/pages/news/utils.ts"),l=r("./src/reddit/actions/toaster.ts"),p=r("./src/config.ts"),b=r("./src/lib/constants/index.ts"),f=r("./src/lib/makeApiRequest/index.ts"),O=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),m=function(e,t){return Object(f.b)(e,{endpoint:Object(O.a)(p.a.gatewayUrl+"/desktopapi/v1/news_hero"),method:b.Fa.GET,data:Object.assign({},t)})},v=r("./src/reddit/models/Toast/index.ts"),g=r("./src/reddit/selectors/listings.ts"),j=r("./src/reddit/selectors/news.ts");r.d(t,"b",function(){return h}),r.d(t,"c",function(){return y}),r.d(t,"a",function(){return _}),r.d(t,"d",function(){return S}),r.d(t,"e",function(){return k});var h="NEWS__NEWS_HERO_LOADED",y="NEWS__NEWS_HERO_PENDING",_="NEWS__NEWS_HERO_FAILED",E=Object(o.a)(y),x=Object(o.a)(h),T=Object(o.a)(_),I=function(e,t,r){var n,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n=i()(a.a.mark(function n(i,c,o){var u,p,b,f,O,v,h,y,_,T,I;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=c(),p=Object(g.d)(u,{listingKey:e}),b=u.listings.postOrder.ids[e],f=Object(g.c)(u,{listingKey:e}),!(p||b&&!f)){n.next=6;break}return n.abrupt("return");case 6:return i(E({key:e})),O=Object.assign({},Object(d.b)(t,r)),n.next=10,m(o.apiContext(),O);case 10:if(v=n.sent,h="error-"+e,v.ok){n.next=14;break}return n.abrupt("return",w(e,i,u,v.error,h,t,r,s));case 14:y=v.body,_=y.posts,T=y.postIds,I=y.subreddits,i(x({availableTopics:Object(j.d)(u),key:e,meta:u.meta,postIds:T,posts:_,subreddits:I})),i(l.f(h));case 17:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)}},S=function(e,t,r){var n,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n=i()(a.a.mark(function n(i,c,o){var u;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=i(I(e,t,r,s)),s||(u=u.catch(function(e){return Promise.resolve(e)})),n.abrupt("return",u);case 3:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)}},k=function(e,t,r){var n,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n=i()(a.a.mark(function n(i,c,o){var l,p,b,f;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i(u.g(s));case 2:return l=c(),p=Object(d.c)(l,t,r),b=p.topic,f=p.subtopic,n.abrupt("return",i(S(e,b,f,s)));case 5:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)}},w=function(e,t,r,n,a,s,i,o){t(T({error:n,key:e})),o&&t(l.e({id:a,kind:v.a.Error,text:Object(c.a)(r.user.language,"news.failedToLoadHero"),buttonText:Object(c.a)(r.user.language,"listings.toast.retryButton"),buttonAction:I(e,s,i)}))}},"./src/reddit/actions/imageUploads.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return f}),r.d(t,"c",function(){return O}),r.d(t,"e",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"a",function(){return g}),r.d(t,"k",function(){return j}),r.d(t,"j",function(){return h}),r.d(t,"l",function(){return y}),r.d(t,"i",function(){return _}),r.d(t,"h",function(){return E}),r.d(t,"g",function(){return x}),r.d(t,"f",function(){return I}),r.d(t,"m",function(){return S});var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/lib/raven/index.ts"),d=r("./src/lib/uploadToS3/index.ts"),l=r("./src/reddit/helpers/getGenericUploadError.ts"),p=r("./src/reddit/models/Image/index.tsx"),b=r("./src/reddit/selectors/imageUploads.ts"),f="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",O="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",m="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",v="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",g="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",j=Object(o.a)(f),h=Object(o.a)(O),y=Object(o.a)(m),_=Object(o.a)(v),E=Object(o.a)(g),x=(n=c()(s.a.mark(function e(t,r,n,a){var i,c,o,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ok){e.next=2;break}throw Object(p.j)(n,r.error);case 2:return i=r.body,c=void 0,"s3UploadLease"in i&&(i=i.s3UploadLease,c=r.body.websocketUrl),e.next=7,Object(d.a)(n.file,i);case 7:if(!(o=e.sent).ok){e.next=16;break}if(t.imageUploads[n.id]){e.next=12;break}return Object(p.d)(n),e.abrupt("return");case 12:return u=decodeURIComponent(o.body.PostResponse.Location),e.abrupt("return",Object(p.m)(n,u,c,a));case 16:throw Object(p.j)(n,o.error);case 17:case"end":return e.stop()}},e,void 0)})),function(e,t,r,a){return n.apply(this,arguments)});function T(e){return e.split("/").pop()}var I=function(e,t){return new Promise(function(r,n){var a=Object(b.b)(e,t);if(!a.length)return r(null);var s=a[0].websocketUrl;if(!s)return n(new Error("ImageUploads: No websocket URL found"));for(var i={},c=0;c<a.length;c++){var o=a[c],d=T(o.url);i[d]=o}var l=a.length,p=new WebSocket(s);p.onopen=function(e){p.onerror=null,r({websocket:p,imagesByKey:i,imageCount:l})},p.onerror=function(e){p.close();var t=new Error("ImageUploads: Failed to connect to websocket");Object(u.b)(t),n()}})},S=function(e){return function(t,r,n){n.apiContext;return new Promise(function(r,n){var a=e.websocket,s=e.imageCount,i=e.imagesByKey;function c(){for(var e in i){var n=i[e],s=Object(p.n)(n,n.url);t(y(s))}r(),a.close()}i=Object.assign({},i);var o=setTimeout(c,6e4);a.onmessage=function(e){clearTimeout(o);var n=JSON.parse(e.data);if(n&&"success"===n.type){var u=n.payload.url,d=T(u),b=i[d];if(!b)return;s-=1,delete b[d];var f=Object(p.n)(b,u);t(y(f))}else{var O=T(n.payload.image_key),m=i[O];if(!m)return;s-=1,delete m[O];var v=Object(l.a)(n.payload.image_key),g=Object(p.j)(m,v);t(_(g))}s?o=setTimeout(c,6e4):(a.close(),r())},a.onerror=function(e){clearTimeout(o);var r=Object(l.a)("websocket");for(var s in i){var c=i[s],d=Object(p.j)(c,r);t(_(d))}a.close();var b=new Error("ImageUploads: WebSocket connection failed before all messages received");Object(u.b)(b),n()}})}}},"./src/reddit/actions/inContextModeration.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return c});var n=r("./src/lib/makeActionCreator/index.ts"),a="INCONTEXT__BANNED",s="INCONTEXT__MUTED",i=Object(n.a)(a),c=Object(n.a)(s)},"./src/reddit/actions/jsApi.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=r("./src/lib/makeActionCreator/index.ts"),a="JSAPI__CONSUMER_SUBSCRIBED",s=Object(n.a)(a)},"./src/reddit/actions/modMode.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return f});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/js-cookie/src/js.cookie.js"),o=r.n(c),u=r("./src/config.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/constants/cookie.ts"),p="MOD_MODE_TOGGLED",b=Object(d.a)(p),f=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=void 0,void 0!==e?i=e:(c=o.a.get(l.c),i="false"===c),o.a.set(l.c,i,{domain:u.a.cookieDomain}),(document.cookie.match(/mod_mode_enabled=/g)||[]).length>1&&o.a.set(l.c,"",{expires:0,path:"/"}),r(b({enabled:i}));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/modQueue.ts":function(e,t,r){"use strict";r.d(t,"k",function(){return E}),r.d(t,"j",function(){return x}),r.d(t,"i",function(){return T}),r.d(t,"h",function(){return w}),r.d(t,"g",function(){return C}),r.d(t,"f",function(){return A}),r.d(t,"o",function(){return N}),r.d(t,"n",function(){return L}),r.d(t,"m",function(){return U}),r.d(t,"r",function(){return B}),r.d(t,"q",function(){return V}),r.d(t,"p",function(){return H}),r.d(t,"v",function(){return Q}),r.d(t,"u",function(){return Y}),r.d(t,"t",function(){return J}),r.d(t,"B",function(){return $}),r.d(t,"l",function(){return ee}),r.d(t,"b",function(){return re}),r.d(t,"A",function(){return ae}),r.d(t,"c",function(){return se}),r.d(t,"x",function(){return ce}),r.d(t,"s",function(){return ue}),r.d(t,"C",function(){return be}),r.d(t,"a",function(){return fe}),r.d(t,"w",function(){return Oe}),r.d(t,"d",function(){return me}),r.d(t,"y",function(){return ve}),r.d(t,"e",function(){return ge}),r.d(t,"z",function(){return je});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/reddit/actions/removalReasons.ts"),l=r("./src/reddit/actions/toaster.ts"),p=r("./src/reddit/endpoints/modQueue/index.ts"),b=r("./src/reddit/helpers/isPost.ts"),f=r("./src/reddit/helpers/makeModQueueListingKey/index.ts"),O=r("./src/reddit/models/Flair/index.ts"),m=r("./src/reddit/models/ModQueue/index.ts"),v=r("./src/reddit/models/Toast/index.ts"),g=r("./src/reddit/selectors/modQueue.ts"),j=r("./src/reddit/selectors/subreddit.ts"),h=r("./src/reddit/selectors/telemetry.ts"),y=r("./src/reddit/selectors/user.ts"),_=r("./src/telemetry/index.ts"),E="MODQUEUE_PENDING",x="MODQUEUE_LOADED",T="MODQUEUE_FAILED",I=Object(u.a)(E),S=Object(u.a)(x),k=Object(u.a)(T),w="EDITED_PENDING",C="EDITED_LOADED",A="EDITED_FAILED",R=Object(u.a)(w),D=Object(u.a)(C),P=Object(u.a)(A),N="REPORTS_PENDING",L="REPORTS_LOADED",U="REPORTS_FAILED",M=Object(u.a)(N),F=Object(u.a)(L),G=Object(u.a)(U),B="SPAM_PENDING",V="SPAM_LOADED",H="SPAM_FAILED",q=Object(u.a)(B),K=Object(u.a)(V),W=Object(u.a)(H),Q="UNMODERATED_PENDING",Y="UNMODERATED_LOADED",J="UNMODERATED_FAILED",z=Object(u.a)(Q),X=Object(u.a)(Y),Z=Object(u.a)(J),$=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var u,d,b,O,g,j,h,_=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:u=void 0,d=void 0,b=void 0,r.t0=e,r.next=r.t0===o.Ja.Edited?6:r.t0===o.Ja.Modqueue?10:r.t0===o.Ja.Reports?14:r.t0===o.Ja.Spam?18:r.t0===o.Ja.Unmoderated?22:26;break;case 6:return u=R,d=P,b=D,r.abrupt("break",27);case 10:return u=I,d=k,b=S,r.abrupt("break",27);case 14:return u=M,d=G,b=F,r.abrupt("break",27);case 18:return u=q,d=W,b=K,r.abrupt("break",27);case 22:return u=z,d=Z,b=X,r.abrupt("break",27);case 26:throw new Error("Invalid modqueue requested");case 27:return n(u()),r.next=30,Object(p.b)(_(),e,t);case 30:(O=r.sent).ok?(g=Object(f.a)(t),j={listingKey:g,page:""+(t.page||m.b),response:O.body},n(b(j))):(h=Object(y.H)(s()),n(d(O.error)),n(Object(l.e)({kind:v.a.Error,text:Object(c.a)(h,"subredditModeration.modQueue.toastText.somethingWentWrong")})));case 32:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},ee="MORE_MODERATED_SUBREDDITS_LOADED",te=Object(u.a)(ee),re="ALL_MODERATED_COMMUNITIES_LOADED",ne=Object(u.a)(re),ae=function e(t){return r=i()(a.a.mark(function r(n,s,i){var o,u,d,b,f,O,m,g,j=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=s(),u=o.modQueue.moderatedCommunitiesOrder.after,d=o.modQueue.moderatedCommunitiesOrder.pending,b=o.modQueue.moderatedCommunitiesOrder.loaded,f=o.platform.currentPage.urlParams.pageName,O=f,!(t&&d||b)&&u){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,Object(p.b)(j(),O,{moderated_after:u});case 10:(m=r.sent).ok?(n(te(m.body)),m.body.moderatedAfter?n(e()):n(ne())):(g=Object(y.H)(s()),n(Object(l.e)({kind:v.a.Error,text:Object(c.a)(g,"subredditModeration.modQueue.toastText.somethingWentWrong")})));case 12:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},se="BULKACTION_LOADED",ie=Object(u.a)("BULKACTION_PENDING"),ce=Object(u.a)(se),oe=Object(u.a)("BULKACTION_FAILED"),ue="UNDOACTION_LOADED",de=Object(u.a)(ue),le=Object(u.a)("UNDOACTION_FAILED"),pe=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,o,u,d,b,f=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r(),i=Object.keys(s.modQueue.undoLastAction)[0],o=s.modQueue.undoLastAction[i],u=s.user.account&&s.user.account.displayText,e.next=6,Object(p.a)(f(),i,{ids:o});case 6:(d=e.sent).ok?t(de(Object.assign({},d.body,{operation:i,ids:o,username:u}))):(b=Object(y.H)(r()),t(le(d.error)),t(Object(l.e)({kind:v.a.Error,text:Object(c.a)(b,"subredditModeration.modQueue.toastText.somethingWentWrong")})));case 8:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},be=function(e,t,r){return n=i()(a.a.mark(function n(s,i,o){var u,f,y,E,x,T,I,S,k,w,C,A,R,D,P,N,L,U,M=o.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(s(ie()),u=i(),f=u.user.language,y=Object(g.d)(u),E=u.user.account&&u.user.account.displayText,x=Object(c.a)(f,"subredditModeration.modQueue.toastText."+e),T=Object(c.a)(f,"subredditModeration.modQueue.toastText.postsComments"),I=0;I<y.length;I++)S=y[I],k=e,[m.a.Approve,m.a.Remove,m.a.Spam].includes(e)&&(Object(b.a)(S)?k+="_link":k+="_comment"),Object(_.a)(Object.assign({source:"bulk_mod_action",action:"click",noun:k},h.defaults(u),{actionInfo:h.actionInfo(u,{count:y.length,paneName:u.platform.currentPage?u.platform.currentPage.urlParams.pageName:void 0}),comment:h.comment(u,S),post:h.post(u,S),profile:h.profileByPostOrCommentId(u,S),screen:h.screen(u),subreddit:h.subredditByPostOrCommentId(u,S)}));return w={ids:y},t&&(w.text=Object(O.h)(t)||""),r&&(w.cssClass=r),n.next=13,Object(p.a)(M(),e,w);case 13:(C=n.sent).ok?(s(ce(Object.assign({},C.body,{operation:e,ids:y,username:E,options:{flair:t}}))),e!==m.a.Approve&&e!==m.a.Flair?(A=void 0,R=void 0,D=u.platform.currentPage&&u.platform.currentPage.queryParams&&u.platform.currentPage.queryParams.subreddit,P=D&&Object(j.v)(u,D),e===m.a.Remove&&P&&y.length>1&&(A=Object(c.a)(f,"subredditModeration.removalReasons.addARemovalReason"),R=Object(d.q)(P,y)),N=Object(l.d)(y.length+" "+T+" "+x,v.a.Undo,Object(c.a)(f,"subredditModeration.modQueue.toastText.undo"),pe(),A,R),s(Object(l.e)(N))):(L=Object(l.d)(y.length+" "+T+" "+x,v.a.SuccessMod),s(Object(l.e)(L)))):(s(oe(C.error)),U=Object(l.d)(Object(c.a)(f,"subredditModeration.modQueue.toastText.somethingWentWrong"),v.a.Error),s(Object(l.e)(U)));case 15:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},fe="ADD_SELECTED_ITEMS",Oe=Object(u.a)(fe),me="BULK_SELECT_ITEMS",ve=Object(u.a)(me),ge="BULK_UNSELECT_ITEMS",je=Object(u.a)(ge)},"./src/reddit/actions/modal.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return v}),r.d(t,"j",function(){return g}),r.d(t,"a",function(){return j}),r.d(t,"g",function(){return h}),r.d(t,"c",function(){return y}),r.d(t,"h",function(){return E}),r.d(t,"i",function(){return x}),r.d(t,"l",function(){return T}),r.d(t,"k",function(){return I}),r.d(t,"f",function(){return S}),r.d(t,"e",function(){return k}),r.d(t,"d",function(){return w}),r.d(t,"m",function(){return C});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/media.ts"),u=r("./src/reddit/actions/notifications.ts"),d=r("./src/reddit/constants/experiments.ts"),l=r("./src/reddit/constants/modals.ts"),p=r("./src/reddit/endpoints/user/index.ts"),b=r("./src/reddit/helpers/chooseVariant/index.ts"),f=r("./src/reddit/helpers/localStorage/index.ts"),O=r("./src/reddit/selectors/activeModalId.ts"),m=r("./src/reddit/selectors/user.ts"),v="MODAL_TOGGLED",g=Object(c.a)(v),j="CLOSE_ALL_MODALS",h=Object(c.a)(j),y="REDESIGN_MODAL_CLOSED",_=Object(c.a)(y),E=function(e){return t=i()(a.a.mark(function t(r,n,s){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.b)(e)(n())&&r(g(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},x=function(e){return t=i()(a.a.mark(function t(r,n,s){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.b)(e)(n())||r(g(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},T=function(){return e=i()(a.a.mark(function e(t,r,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(f.y)(l.a.REDESIGN_MODAL,!0),Object(m.B)(r())&&Object(p.e)(n.apiContext());case 2:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},I=function(){return e=i()(a.a.mark(function e(t,r,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T()(t,r,n),o.c(!0)(t,r,n),t(_()),Object(b.a)(r(),d.d)&&t(u.a());case 4:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},S=function(){return e=i()(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=l.a.AD_BLOCK_UPSELL,Object(O.a)(r())||t(g(n));case 2:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e},k=function(){return e=i()(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=l.a.AD_BLOCK_UPSELL,Object(O.b)(n)(r())&&t(g(n));case 2:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e},w="SET_ACCOUNT_MANAGER_MODAL_DATA",C=Object(c.a)(w)},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"c",function(){return m}),r.d(t,"b",function(){return v});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/profile.ts"),u=r("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),d=r("./src/reddit/models/User/index.ts"),l=r("./src/reddit/selectors/user.ts"),p="MOD_PERMS__REQUEST_LOADED",b=Object(c.a)("MOD_PERMS__REQUEST_PENDING"),f=Object(c.a)(p),O=Object(c.a)("MOD_PERMS__REQUEST_FAILED"),m=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=r()).user.account){e.next=3;break}return e.abrupt("return");case 3:if(!s.isModeratorWithPostPerms){e.next=5;break}return e.abrupt("return");case 5:return t(b()),e.next=8,Object(u.a)(c());case 8:(i=e.sent).ok?t(f(i.body)):t(O(i.error));case 10:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},v=function(){return e=i()(a.a.mark(function e(t,r){var n,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Object(l.j)(r()))){e.next=5;break}return s=Object(d.d)(n),e.next=5,t(Object(o.h)(s));case 5:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e}},"./src/reddit/actions/monthsToMinutes.ts":function(e,t,r){"use strict";r.d(t,"l",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"s",function(){return j}),r.d(t,"i",function(){return h}),r.d(t,"j",function(){return _}),r.d(t,"g",function(){return x}),r.d(t,"u",function(){return T}),r.d(t,"f",function(){return I}),r.d(t,"t",function(){return S}),r.d(t,"h",function(){return k}),r.d(t,"r",function(){return C}),r.d(t,"x",function(){return A}),r.d(t,"d",function(){return R}),r.d(t,"p",function(){return D}),r.d(t,"m",function(){return P}),r.d(t,"n",function(){return N}),r.d(t,"y",function(){return L}),r.d(t,"z",function(){return U}),r.d(t,"w",function(){return F}),r.d(t,"e",function(){return G}),r.d(t,"q",function(){return B}),r.d(t,"b",function(){return V}),r.d(t,"o",function(){return H}),r.d(t,"k",function(){return q}),r.d(t,"v",function(){return K}),r.d(t,"a",function(){return W});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/reddit/constants/localStorage.ts"),d=r("./src/reddit/helpers/localStorage/index.ts"),l=r("./src/reddit/helpers/monthsToMinutes/index.ts"),p=r("./src/reddit/models/MonthsToMinutes/index.ts"),b=r("./src/reddit/selectors/monthsToMinutes.ts"),f=r("./src/reddit/selectors/posts.ts"),O=r("./src/reddit/selectors/runTimeEnvVars.ts"),m=r("./src/reddit/selectors/subscriptions.ts"),v="M2M_SUBSCRIPTIONS_NAMES_LOADED",g=(Object(c.a)(v),"M2M_APPLY_LOGGED_OUT_VOTE"),j=Object(c.a)(g),h="M2M_LOADED_FROM_LOCAL_STORAGE",y=Object(c.a)(h),_="M2M_LOADED_SUCCESS",E=Object(c.a)(_),x="M2M_EXPAND_ACCOUNT_COMPLETENESS",T=Object(c.a)(x),I="M2M_COLLAPSE_ACCOUNT_COMPLETENESS",S=Object(c.a)(I),k="M2M_INIT_FROM_EMPTY_LOCAL_STORAGE",w=Object(c.a)(k),C=function(){return e=i()(a.a.mark(function e(t,r,n){var s;n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=Object(d.g)(u.g))||!s.loggedOutV2){e.next=5;break}return t(y(s.loggedOutV2)),e.abrupt("return");case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:t(E()),t(w()),Object(b.e)(r())&&setTimeout(function(){return t(Q())},p.a);case 12:case"end":return e.stop()}},e,void 0,[[0,7]])})),function(t,r,n){return e.apply(this,arguments)};var e},A=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i;n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=r(),i=s.subscriptions.subredditOrder,Object(l.b)(s,i);case 3:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},R="M2M_CLOSE_ACCOUNT_COMPLETENESS",D=Object(c.a)(R),P="M2M_TOOLTIP_ACTIVATED",N="M2M_TOOLTIP_CLOSED",L=Object(c.a)(P),U=Object(c.a)(N),M=function(e,t){var r=Object(O.a)(e);return!t.time||r-t.time>o.y},F=function(e,t,r){return n=i()(a.a.mark(function n(s,i,c){var o,u,d;c.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),Object(b.m)(o)){n.next=3;break}return n.abrupt("return");case 3:u=o.user.loggedOutData.tooltips,d=Date.now(),Object(m.a)(o)||u[p.h.SubscribeFeed].time||u[p.h.SubscribeFeed].postId||!(t>4)||Object(f.u)(o,e)||r?!Object(b.w)(o)&&!u[p.h.Vote].time&&!u[p.h.Vote].postId&&e!==u[p.h.SubscribeFeed].postId&&t>9?s(L({postId:e,time:d,tooltipType:p.h.Vote})):!Object(m.a)(o)&&M(o,u[p.h.SubscribeFeed])&&!u[p.h.SubscribeReminder].postId&&t>4&&!Object(f.u)(o,e)&&!r?s(L({postId:e,time:d,tooltipType:p.h.SubscribeReminder})):!Object(b.w)(o)&&M(o,u[p.h.Vote])&&!u[p.h.VoteReminder].postId&&t>9&&s(L({postId:e,time:d,tooltipType:p.h.VoteReminder})):s(L({postId:e,time:d,tooltipType:p.h.SubscribeFeed}));case 6:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},G="M2M_CLOSE_WELCOME_MODAL",B=Object(c.a)(G),V="M2M_ACCOUNT_COMPLETENESS_SELECT_TAB",H=Object(c.a)(V),q="MILESTONE_ACTION_STALED",K=Object(c.a)(q),W="M2M_ACCOUNT_COMPLETENESS_AWAKE",Q=Object(c.a)(W)},"./src/reddit/actions/multireddit.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/lodash/pick.js"),d=r.n(u),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/lib/makeListingKey/index.ts"),f=r("./src/reddit/constants/parameters.ts"),O=r("./src/reddit/constants/postLayout.ts"),m=r("./src/reddit/contexts/PageLayer/index.tsx"),v=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/lib/omitHeaders/index.ts"),j=r("./src/reddit/constants/headers.ts"),h=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),y=r("./src/reddit/endpoints/page/myMultiredditFeed.ts"),_=r("./src/reddit/helpers/filterListingResponse/index.ts"),E=function(e){var t=e.over_18||!1;if(!t){var r=!0,n=!1,a=void 0;try{for(var s,i=e.subreddits[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){if(s.value.data.over_18){t=!0;break}}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}}var c=e.quarantine||!1;if(!c){var o=!0,u=!1,d=void 0;try{for(var l,p=e.subreddits[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){var b=l.value,f=(b.data.audience_target||"").split(",");if(b.data.quarantine||f.indexOf("unsafe")>-1){c=!0;break}}}catch(e){u=!0,d=e}finally{try{!o&&p.return&&p.return()}finally{if(u)throw d}}}return{created:e.created_utc,description:e.description_html,displayText:e.display_name,isNSFW:t,isQuarantined:c,name:e.name,subredditIds:e.subreddits.map(function(e){return e.data.name}),url:e.path,visibility:e.visibility}},x=r("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),T=r("./src/reddit/selectors/multireddit.ts");r.d(t,"c",function(){return I}),r.d(t,"b",function(){return S}),r.d(t,"a",function(){return k}),r.d(t,"f",function(){return R}),r.d(t,"d",function(){return D}),r.d(t,"e",function(){return P}),r.d(t,"g",function(){return L});var I="MULTIREDDIT__MORE_POSTS_PENDING",S="MULTIREDDIT__MORE_POSTS_LOADED",k="MULTIREDDIT__MORE_POSTS_FAILED",w=Object(p.a)(I),C=Object(p.a)(S),A=Object(p.a)(k),R=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,p,v,g,j,h,E,x,I,S,k,R=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.sort,c=void 0===s?l.U.HOT:s,o=e.multiredditName,u=n(),p=u.platform.currentPage,v=p?p.queryParams:{},g=Object(T.b)(u,{multiredditName:o}),j=Object(b.a)(g.url,c,v),h=u.listings.postOrder.loadMore[j]){t.next=9;break}return t.abrupt("return");case 9:if(E=u.listings.postOrder.api.pending[j],x=u.listings.postOrder.fetchedTokens,I=x[j]&&x[j][h.token]||!1,!E&&!I){t.next=14;break}return t.abrupt("return");case 14:return r(w({key:j,fetchedToken:h.token})),t.next=17,Object(y.a)(R(),o,Object.assign({after:h.token,dist:h.dist,layout:O.c[Object(m.J)(u,{})],sort:c},d()(v,f.h)));case 17:S=t.sent,k=Object.assign({},S.body,Object(_.a)(u,j,S.body)),S.ok?r(C(Object.assign({fetchedToken:h.token,key:j,meta:u.meta},k))):r(A(Object.assign({error:S.error,fetchedToken:h.token,key:j},k)));case 20:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},D="MULTIREDDIT__MY_MULTIREDDITS_PENDING",P="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",N=(Object(p.a)(D),Object(p.a)(P)),L=function(){return e=o()(i.a.mark(function e(t,r,n){var s,c,o,u,d,p,b=n.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=r()).user.account){e.next=3;break}return e.abrupt("return");case 3:if(!Object(T.e)(s)&&!Object(T.f)(s)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n=b(),Object(v.b)(Object(g.a)(n,[j.a]),{endpoint:Object(h.a)(n.apiUrl+"/api/multi/mine.json"),data:{expand_srs:1},method:l.Fa.GET});case 7:(c=e.sent).ok&&(o=s.user.account.id,u=c.body.reduce(function(e,t){return t.data.subreddits.reduce(function(e,t){var r=t.data,n=Object(x.a)(r);return e[n.id]=n,e},e)},{}),d=[],p=c.body.reduce(function(e,t){var r=t.data,n=E(r),a=n.url.toLowerCase();return d.push(a),e[a]=n,e},{}),t(N({subreddits:u,multireddits:p,multiredditsByUser:a()({},o,d)})));case 9:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/news.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./node_modules/react-router-redux/es/index.js"),d=r("./src/reddit/actions/pages/news/index.ts"),l=r("./src/reddit/actions/toaster.ts"),p=r("./src/config.ts"),b=r("./src/lib/constants/index.ts"),f=r("./src/lib/makeApiRequest/index.ts"),O=r("./src/reddit/models/News/index.ts"),m=r("./src/reddit/models/Toast/index.ts"),v=r("./src/reddit/routes/news/util.ts"),g=r("./src/reddit/selectors/news.ts"),j=r("./src/reddit/selectors/user.ts");r.d(t,"d",function(){return h}),r.d(t,"b",function(){return y}),r.d(t,"c",function(){return _}),r.d(t,"a",function(){return E}),r.d(t,"f",function(){return x}),r.d(t,"e",function(){return k}),r.d(t,"g",function(){return w});var h="NEWS__NEWS_TOPIC_SELECTED",y="NEWS__NEWS_TOPICS_LOADED",_="NEWS__NEWS_TOPICS_PENDING",E="NEWS__NEWS_TOPICS_FAILED",x=Object(o.a)(h),T=Object(o.a)(y),I=Object(o.a)(_),S=Object(o.a)(E),k=function(e,t){return r=i()(a.a.mark(function r(n,s){var i,c,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=Object(v.b)(e,t),c=s(),(o=c.platform.currentPage.routeMatch.match)&&o.url===i?n(Object(d.d)(o,!0)):n(Object(u.b)(i));case 4:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)};var r},w=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e=i()(a.a.mark(function e(r,n,s){var i,c,o,u,d,l=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n(),c=Object(g.r)(i),o=Object(g.d)(i).length>0,!c&&!o){e.next=5;break}return e.abrupt("return");case 5:return r(I),e.next=8,a=l(),Object(f.b)(a,{endpoint:p.a.gatewayUrl+"/news/topics",method:b.Fa.GET});case 8:(u=e.sent).ok?(d=Object(O.d)(u.body.data||[]),r(T(d))):(r(S(u.error)),t&&r(C(n())));case 10:case"end":return e.stop()}var a},e,void 0)})),function(t,r,n){return e.apply(this,arguments)}};function C(e){var t=Object(j.H)(e);return Object(l.e)(Object(l.d)(Object(c.a)(t,"news.failedToLoadTopic"),m.a.Error,Object(c.a)(t,"error.clickHere"),w()))}},"./src/reddit/actions/notifications.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/reddit/selectors/telemetry.ts"),o=r("./src/telemetry/index.ts"),u=function(e){return Object.assign({},c.defaults(e),{noun:"desktop_notification_permissions"})},d=function(e){Object(o.a)(Object.assign({},u(e),{action:"view",source:"popup"}))},l=function(e){Object(o.a)(Object.assign({},u(e),{action:"allow",source:"popup"}))},p=function(e){Object(o.a)(Object.assign({},u(e),{action:"block",source:"popup"}))},b=function(e){Object(o.a)(Object.assign({},u(e),{action:"close",source:"popup"}))};r.d(t,"a",function(){return f});var f=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),window.Notification){e.next=3;break}return e.abrupt("return");case 3:if("granted"!==Notification.permission&&"denied"!==Notification.permission){e.next=5;break}return e.abrupt("return");case 5:return d(s),e.next=8,Notification.requestPermission();case 8:i=e.sent,e.t0=i,e.next="granted"===e.t0?12:"denied"===e.t0?14:16;break;case 12:return l(s),e.abrupt("break",17);case 14:return p(s),e.abrupt("break",17);case 16:b(s);case 17:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/nps.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/config.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),l=r("./src/lib/omitHeaders/index.ts"),p=r("./src/reddit/constants/headers.ts"),b=function(e,t,r){return Object(d.b)(Object(l.a)(e,[p.a]),{data:{feature:t,app_name:"web2x"},endpoint:(r?o.a.oauthUrl:o.a.apiUrl)+"/api/jail/asknicely"+(r?"":".json"),method:u.Fa.GET})},f=r("./node_modules/@r/frames/compiled.js"),O=r("./node_modules/lodash/debounce.js"),m=r.n(O),v=function(e){document.body.appendChild(function(e){var t=void 0;function r(){f.listen("embedjail"),f.receiveMessage(t.contentWindow,"open.embedjail",function(e){var r;r=e.detail,t.style.width=r.dimensions.width,t.style.height=r.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",n)}),f.receiveMessage(t.contentWindow,"close.embedjail",function(e){t.parentElement.removeChild(t),f.stopListening("asknicely"),window.removeEventListener("resize",n),t=void 0}),window.addEventListener("message",function(e){"https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&f.postMessage(t.contentWindow,e.data+".asknicely")})}var n=m()(function(){t&&t.contentWindow&&f.postMessage(t.contentWindow,"resize.asknicely")},500);return function(){return t=function(){var t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),r(),t}}(e)())};r.d(t,"c",function(){return g}),r.d(t,"b",function(){return j}),r.d(t,"a",function(){return h}),r.d(t,"d",function(){return T});var g="NPS__URL_PENDING",j="NPS__URL_LOADED",h="NPS__URL_FAILED",y=Object(c.a)(g),_=Object(c.a)(j),E=Object(c.a)(h),x=!1,T=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=r()).nps.pending){e.next=3;break}return e.abrupt("return");case 3:if(!x){e.next=5;break}return e.abrupt("return");case 5:return t(y()),i=s.platform.currentPage&&s.platform.currentPage.queryParams.feature||"",c=!!s.user.account,e.next=10,b(n.apiContext(),i,c);case 10:(o=e.sent).ok?(u=o.body,t(_(u)),u.dest&&(v(u.dest),x=!0)):t(E());case 12:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/originalContent.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/pick.js"),o=r.n(c),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/lib/makeListingKey/index.ts"),p=r("./src/reddit/constants/originalContent.ts"),b=r("./src/reddit/constants/page.ts"),f=r("./src/reddit/constants/parameters.ts"),O=r("./src/lib/makeApiRequest/index.ts"),m=r("./src/lib/omitHeaders/index.ts"),v=r("./src/reddit/constants/headers.ts"),g=r("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),j=r("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),h=r("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var y=r("./src/reddit/helpers/r2/normalizePostFromR2/index.ts");var _=r("./src/reddit/endpoints/page/originalContentPage.ts"),E=r("./src/reddit/models/OcSubreddits/index.ts");function x(e){return{discoverable:e.discoverable,name:e.name,displayText:e.display_text,submittable:e.submittable}}var T=r("./src/reddit/selectors/originalContent.ts"),I=r("./src/reddit/actions/page.ts");r.d(t,"f",function(){return S}),r.d(t,"e",function(){return k}),r.d(t,"d",function(){return w}),r.d(t,"q",function(){return D}),r.d(t,"c",function(){return P}),r.d(t,"b",function(){return N}),r.d(t,"a",function(){return L}),r.d(t,"p",function(){return G}),r.d(t,"l",function(){return B}),r.d(t,"k",function(){return V}),r.d(t,"j",function(){return H}),r.d(t,"s",function(){return Q}),r.d(t,"o",function(){return Y}),r.d(t,"n",function(){return J}),r.d(t,"m",function(){return z}),r.d(t,"t",function(){return ee}),r.d(t,"i",function(){return te}),r.d(t,"h",function(){return re}),r.d(t,"g",function(){return ne}),r.d(t,"r",function(){return ce});var S="OC_MORE_POSTS_PENDING",k="OC_MORE_POSTS_LOADED",w="OC_MORE_POSTS_FAILED",C=Object(d.a)(S),A=Object(d.a)(k),R=Object(d.a)(w),D=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,d,O,m,v,g,j,h,y,E,x,T,S,k,w,D,P,N=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.platform.currentPage,d=e.sort,O=void 0===d?u.V:d,m=e.category,v=void 0===m?p.b:m,g=c?c.queryParams:{},j=Object.assign({},g,{category:v}),h=Object(l.a)(b.h,O,j),y=i.listings.postOrder.loadMore[h],E=g[f.n]?g[f.n].toUpperCase():"",x=E in u.Kb&&u.Kb[E],y){t.next=11;break}return t.abrupt("return");case 11:if(T=i.listings.postOrder.api.pending[h],S=i.listings.postOrder.fetchedTokens,k=S[h]&&S[h][y.token]||!1,!T&&!k){t.next=16;break}return t.abrupt("return");case 16:return r(C({key:h,fetchedToken:y.token})),t.next=19,Object(_.a)(N(),Object.assign({after:y.token,category:v,dist:y.dist,sort:O,t:Object(I.F)(O,x)},o()(g,f.h)));case 19:w=t.sent,D=i.listings.postOrder.ids[h],P=Object.assign({},w.body,{postIds:(w.body.postIds||[]).filter(function(e){return!D||!D.includes(e)})}),w.ok?r(A(Object.assign({key:h,fetchedToken:y.token,meta:i.meta},P))):r(R(Object.assign({key:h,error:w.error,fetchedToken:y.token},P)));case 23:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},P="OC_CATEGORIES_PENDING",N="OC_CATEGORIES_LOADED",L="OC_CATEGORIES_FAILED",U=Object(d.a)(P),M=Object(d.a)(N),F=Object(d.a)(L),G=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,o=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),!Object(T.d)(s)){e.next=4;break}return e.abrupt("return");case 4:if(!(Object(T.c)(s).length>0)){e.next=7;break}return e.abrupt("return");case 7:return t(U()),e.next=10,n=o(),Object(O.b)(Object(m.a)(n,[v.a]),{endpoint:n.apiUrl+"/api/oc_categories.json",method:u.Fa.GET});case 10:(i=e.sent).ok?(c=i.body.map(x),t(M(c))):t(F(i.error));case 12:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},B="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_PENDING",V="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_LOADED",H="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_FAILED",q=Object(d.a)(B),K=Object(d.a)(V),W=Object(d.a)(H),Q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b;return e=i()(a.a.mark(function e(r,n,s){var i,c,o,d,l=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(q({category:t})),e.next=3,n=l(),a={category:t,count:p.e},Object(O.b)(Object(m.a)(n,[v.a]),{data:a,endpoint:n.apiUrl+"/api/oc_top_subreddits.json",method:u.Fa.GET});case 3:(i=e.sent).ok?(c=Object(E.c)(i.body.data.children.map(function(e){return e.data})),o=c.subreddits,d=c.subredditsAboutInfo,r(K({category:t,subreddits:o,subredditsAboutInfo:d}))):r(W({category:t,error:i.error}));case 5:case"end":return e.stop()}var n,a},e,void 0)})),function(t,r,n){return e.apply(this,arguments)}},Y="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_PENDING",J="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_LOADED",z="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_FAILED",X=Object(d.a)(Y),Z=Object(d.a)(J),$=Object(d.a)(z),ee=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b;return e=i()(a.a.mark(function e(r,n,s){var i,c,o,d,l,p=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(X({category:t})),e.next=3,a=p(),s={category:t},Object(O.b)(Object(m.a)(a,[v.a]),{data:s,endpoint:a.apiUrl+"/api/oc_top_creators.json",method:u.Fa.GET});case 3:(i=e.sent).ok?(n=i.body,c=n.data.children.reduce(function(e,t){var r=t.data;if(e.users[r.name.toLowerCase()]=Object(g.a)(r),r.subreddit){var n=Object(h.a)(r.subreddit,r.name);n&&(e.profiles[n.id]=n,e.profilesAboutInfo[n.id]=Object(j.a)(r))}return e},{profiles:{},profilesAboutInfo:{},users:{}}),o=c.profiles,d=c.profilesAboutInfo,l=c.users,r(Z({category:t,profiles:o,profilesAboutInfo:d,users:l}))):r($({category:t,error:i.error}));case 5:case"end":return e.stop()}var n,a,s},e,void 0)})),function(t,r,n){return e.apply(this,arguments)}},te="PAGE__ORIGINAL_CONTENT_BEST_POSTS_PENDING",re="PAGE__ORIGINAL_CONTENT_BEST_POSTS_LOADED",ne="PAGE__ORIGINAL_CONTENT_BEST_POSTS_FAILED",ae=Object(d.a)(te),se=Object(d.a)(re),ie=Object(d.a)(ne),ce=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b;return e=i()(a.a.mark(function e(r,n,s){var i,c,o,d,l,b,f=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n(),c=i.meta,o=Object(T.a)(i,{categoryName:t}),!Object(T.b)(i,{categoryName:t})&&!o.length){e.next=6;break}return e.abrupt("return");case 6:return r(ae({category:t})),e.next=9,s=f(),g={category:t,limit:p.a,sort:u.U.TOP,t:u.Kb.WEEK},Object(O.b)(Object(m.a)(s,[v.a]),{data:g,endpoint:s.apiUrl+"/original/"+g.category+"/top.json",method:u.Fa.GET});case 9:(d=e.sent).ok?(a=d.body,l=a.data.children.reduce(function(e,t){var r=t.data,n=Object(y.a)(r);return e.posts[n.id]=n,e},{posts:{}}),b=l.posts,r(se({category:t,meta:c,posts:b}))):r(ie({category:t,error:d.error}));case 11:case"end":return e.stop()}var a,s,g},e,void 0)})),function(t,r,n){return e.apply(this,arguments)}}},"./src/reddit/actions/page.ts":function(e,t,r){"use strict";var n,a,s,i=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),c=r.n(i),o=r("./node_modules/babel-runtime/regenerator/index.js"),u=r.n(o),d=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),l=r.n(d),p=r("./node_modules/lodash/get.js"),b=r.n(p),f=r("./node_modules/lodash/pick.js"),O=r.n(f),m=r("./node_modules/lodash/some.js"),v=r.n(m),g=r("./node_modules/react-router-redux/es/index.js"),j=r("./src/app/strings/index.ts"),h=r("./src/lib/addQueryParams/index.ts"),y=r("./src/lib/getParsedUserAgent/index.ts"),_=r("./src/reddit/actions/category.ts"),E=r("./src/reddit/actions/shortcuts.ts"),x=r("./src/reddit/endpoints/governance/posts.ts"),T=r("./src/reddit/endpoints/page/commentsPage.ts"),I=r("./src/reddit/endpoints/page/frontpage.ts"),S=r("./src/reddit/endpoints/page/myMultiredditFeed.ts"),k=r("./src/reddit/endpoints/page/search.ts"),w=r("./src/reddit/endpoints/page/subredditPage.ts"),C=r("./src/lib/assertNever.ts"),A=r("./src/lib/constants/index.ts"),R=r("./src/app/models/Draft.ts"),D=r("./src/lib/makeDraftKey/index.ts"),P=r("./src/reddit/models/Coins/index.ts"),N=r("./src/reddit/actions/appeal.ts"),L=r("./src/reddit/actions/badge.ts"),U=r("./src/reddit/actions/contentGate.ts"),M=r("./src/reddit/actions/dashboard.ts"),F=r("./src/reddit/actions/externalAccount.ts"),G=r("./src/reddit/actions/gild.ts"),B=r("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),V=r("./src/reddit/actions/goldPurchaseModals/payment.ts"),H=r("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),q=r("./src/reddit/actions/governance.ts"),K=r("./src/reddit/actions/moderatingSubreddits.ts"),W=r("./src/reddit/actions/modQueue.ts"),Q=r("./src/reddit/actions/platform.ts"),Y=r("./src/reddit/actions/post.ts"),J=r("./src/reddit/actions/preferences.ts"),z=r("./src/reddit/actions/profile.ts"),X=r("./src/reddit/actions/redditEmbed.ts"),Z=r("./src/reddit/actions/removalReasons.ts"),$=r("./src/reddit/actions/structuredStyles.ts"),ee=r("./src/reddit/actions/subreddit.ts"),te=r("./src/reddit/actions/subredditSettings.ts"),re=r("./src/reddit/actions/subredditModeration.ts"),ne=r("./src/reddit/actions/toaster.ts"),ae=r("./src/reddit/actions/users.ts"),se=r("./src/reddit/constants/adEvents.ts");!function(e){e.BannedSubreddit="BANNED",e.GoldSubreddit="GOLD",e.PrivateSubreddit="PRIVATE",e.QuarantinedSubreddit="QUARANTINED",e.NotFoundSubreddit="NOT_FOUND"}(n||(n={})),function(e){e.BannedProfile="BANNED",e.DeletedProfile="DELETED",e.NotFoundProfile="NOT_FOUND",e.ForbiddenProfile="FORBIDDEN"}(a||(a={})),function(e){e.Unknown="Unknown"}(s||(s={}));var ie,ce=r("./src/reddit/constants/experiments.ts"),oe=r("./src/reddit/constants/listings.ts"),ue=r("./src/reddit/constants/page.ts"),de=r("./src/reddit/constants/parameters.ts"),le=r("./src/reddit/constants/postLayout.ts"),pe=r("./src/reddit/constants/posts.ts"),be=r("./src/reddit/contexts/PageLayer/index.tsx"),fe=r("./src/reddit/helpers/canAccessModerationPage/index.ts"),Oe=r("./src/reddit/helpers/commentList/index.ts"),me=r("./src/reddit/helpers/getCommentsPageSort/index.ts"),ve=r("./src/reddit/helpers/makeModQueueListingKey/index.ts"),ge=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),je=r("./src/reddit/helpers/pixels.ts"),he=r("./src/reddit/helpers/trackers/screenview.ts"),ye=r("./src/reddit/models/Comment/index.ts"),_e=r("./src/reddit/models/ModeratingSubreddits/index.ts"),Ee=r("./src/reddit/models/Multireddit/index.ts"),xe=r("./src/reddit/models/Post/index.ts"),Te=r("./src/reddit/models/Toast/index.ts"),Ie=r("./src/reddit/models/User/index.ts"),Se=r("./src/reddit/selectors/experiments.ts"),ke=r("./src/reddit/selectors/frontpage.ts"),we=r("./src/reddit/selectors/goldPurchaseModals.ts"),Ce=r("./src/reddit/selectors/moderatorPermissions.ts"),Ae=r("./src/reddit/selectors/monthsToMinutes.ts"),Re=r("./src/reddit/selectors/multireddit.ts"),De=r("./src/reddit/selectors/platform.ts"),Pe=r("./src/reddit/selectors/posts.ts"),Ne=r("./src/reddit/selectors/runTimeEnvVars.ts"),Le=r("./src/reddit/selectors/subreddit.ts"),Ue=r("./src/reddit/selectors/user.ts"),Me=r("./src/lib/isAdHocMultireddit/index.ts"),Fe=r("./src/lib/isFakeSubreddit/index.ts"),Ge=r("./src/lib/makeActionCreator/index.ts"),Be=r("./src/lib/makeCommentsPageKey/index.ts"),Ve=r("./src/lib/makeListingKey/index.ts"),He=r("./src/lib/makeSearchKey/index.ts"),qe=r("./src/lib/matchRoute/index.ts"),Ke=r("./src/reddit/actions/ad.ts"),We=r("./src/reddit/featureFlags/index.ts"),Qe=r("./src/reddit/helpers/canonicalUrls.ts"),Ye=r("./src/reddit/helpers/chooseVariant/index.ts"),Je=r("./src/lib/raven/index.ts"),ze=r("./node_modules/babel-runtime/helpers/typeof.js"),Xe=r.n(ze),Ze=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},$e={path:"",diffs:[],extraKeys:["id"],disableExtra:!1,replaceMissedObject:!1};!function(e){e.NotEqual="ne",e.Missed="m",e.Length="l"}(ie||(ie={}));var et,tt=function(e){return null!==e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":Xe()(e))},rt=function(e,t,r){return r?e+"["+t+"]":""+((e&&e+".")+t)},nt=function(e){return tt(e)?"[Object]":e},at=function e(t){var r=t.o1,n=t.o2,a=t.path,s=t.diffs,i=t.replaceMissedObject,o=Ze(t,["o1","o2","path","diffs","replaceMissedObject"]);if(Array.isArray(r)&&Array.isArray(n))return r.length!==n.length?[].concat(c()(s),[{k:ie.Length,p:a,o1:r,o2:n}]):r.reduce(function(s,i,u){return[].concat(c()(s),c()(e(Object.assign({},t,{o1:r[u],o2:n[u],path:rt(a,(d=u,l=r[u]||n[u],p=o,b=p.disableExtra,f=p.extraKeys,b||!tt(l)?d:f.reduce(function(e,t){return e+(l[t]?","+t+"="+l[t]:"")},d)),!0)}))));var d,l,p,b,f},s);if(tt(r)&&tt(n)){var u=s,d=[];for(var l in r)d.push(l),u=u.concat(n.hasOwnProperty(l)?e(Object.assign({},t,{o1:r[l],o2:n[l],path:rt(a,l)})):{k:ie.Missed,p:rt(a,l),o1:i?nt(r[l]):r[l]});for(var p in n)d.includes(p)||u.push({k:ie.Missed,p:rt(a,p),o2:i?nt(n[p]):n[p]});return u}return r!==n?[].concat(c()(s),[{k:ie.NotEqual,p:a,o1:r,o2:n}]):s},st=function(e,t){return at(Object.assign({},$e,{o1:e,o2:t}))},it=r("./src/telemetry/index.ts"),ct=r("./src/lib/makeRequest/index.ts");!function(e){e.NumberOfDiffs="numberOfDiffs",e.DebugShadowMode="debugShadowMode"}(et||(et={}));var ot=function(e){switch(e){case et.NumberOfDiffs:return A.w.NUMBER_OF_DIFFS;case et.DebugShadowMode:return A.w.DEBUG_SHADOW_MODE}};function ut(e,t){return Object(ct.a)({method:A.Fa.POST,endpoint:"/counters/"+ot(t.type),data:{value:btoa(JSON.stringify(Object.assign({appName:e},t.data)))},type:"json"})}var dt,lt=function(e,t){var r=[A.U.CONTROVERSIAL,A.U.TOP].includes(e)&&!t?A.Lb:t;return"home_feed_"+e+(r?"_"+r:"")},pt=function(e,t,r){Object(it.b)(A.o.Redesign,{type:"gql",responseName:e,duration:r}),ut(A.o.Redesign,{type:et.NumberOfDiffs,data:{responseName:e,numberOfDiffs:t}})},bt=(dt=l()(u.a.mark(function e(t){var r,n,a,s,i,c=t.fetchFn,o=t.context,d=t.variables,l=t.normalizer,p=t.responseToCompare,b=t.responseName;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Date.now(),e.next=4,c(o,d);case 4:if(!(n=e.sent).ok){e.next=12;break}return a=l(n.body.data),s=Date.now()-r,i=st(p,a),pt(b,i.length,s),i.length&&Object(Je.c)("Compare responses: "+b,{extra:{diff:i},settings:{serverLogging:!1}}),e.abrupt("return",Object.assign({},n,{body:a}));case 12:return Object(Je.c)("Gql error in "+b,{extra:{error:n.error},settings:{serverLogging:!1}}),e.abrupt("return",n);case 16:e.prev=16,e.t0=e.catch(0),Object(Je.b)(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])})),function(e){return dt.apply(this,arguments)}),ft=r("./node_modules/babel-runtime/helpers/defineProperty.js"),Ot=r.n(ft),mt=r("./node_modules/lodash/isEmpty.js"),vt=r.n(mt),gt=r("./src/reddit/models/Flair/index.ts"),jt=r("./src/reddit/models/Media/index.ts"),ht={document:[]},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(e){return t}},_t=function(e){var t=e.flair,r=e.isNsfw,n=e.isSpoiler,a=[];if(t){var s=t.template,i=s.id,o=s.textColor,u=s.richtext,d=s.type,l=s.text,p=s.backgroundColor,b=yt(u),f=!vt()(b),O=Object.assign({backgroundColor:p},i&&{templateId:i},o&&{textColor:function(e){switch(e){case"DARK":return gt.d.Dark;case"LIGHT":return gt.d.Light}}(o)});a=[].concat(c()(a),[f?Object.assign({type:gt.e.Richtext,richtext:b},O):Object.assign({type:d,text:l},O)])}return r&&(a=[].concat(c()(a),[{text:"nsfw",type:gt.e.Nsfw}])),n&&(a=[].concat(c()(a),[{text:"spoiler",type:gt.e.Spoiler}])),a},Et=function(e){return e.map(function(e){var t=e.type;return{url:e.url||"",type:function(e){switch(e){case"IMPRESSION":return se.a.Impression;case"CLICK":return se.a.Click;case"COMMENTS_VIEW":return se.a.CommentsView;case"UPVOTE":return se.a.Upvote;case"DOWNVOTE":return se.a.Downvote;case"COMMENT_SUBMITTED":return se.a.CommentSubmitted;case"VIEWABLE_IMPRESSION":return se.a.ViewableImpression;case"COMMENT_UPVOTE":return se.a.CommentUpvote;case"COMMENT_DOWNVOTE":return se.a.CommentDownvote}}(t)}})},xt=["small","medium","large","xlarge","xxlarge","xxxlarge"],Tt=function(e,t){var r=!!e&&(t?e.obfuscatedStill:e.still);return r?xt.reduce(function(e,t){var n=r[t],a=n&&Object.assign({url:n.url},n.dimensions);return a?[].concat(c()(e),[a]):e},[]):[]},It=function(e,t){return!!e&&(e.verdict==="MOD_"+t.toUpperCase()||e.verdict==="ADMIN_"+t.toUpperCase())},St=function(e){var t,r,n,a,s,i,c,o,u,d,l=e.id,p=e.commentCount,b=e.createdAt,f=e.score,O=e.distinguishedAs,m=e.domain,v=e.isLocked,g=e.isStickied,j=e.isArchived,h=e.isScoreHidden,y=e.thumbnail,_=e.title,E=e.author,x=e.viewCount,T=e.premiumGildings,I=e.suggestedCommentSort,S=e.isHidden,k=e.isSaved,w=e.isNsfw,C=e.isSpoiler,R=e.voteState,D=e.permalink,P=e.media,N=e.isCrosspostable,L=e.crosspostRoot,U=e.upvoteRatio,M=e.isMediaOnly,F=e.isReceivingPostReplies,G=e.crosspostCount,B=e.moderationInfo,V=e.isOriginalContent,H=e.postEventInfo,q=L&&(L.type===xe.a.Post?L.post.id:L.comment.id),K=function(e){return e&&e.still&&e.still.source?Object.assign({url:e.still.source.url},e.still.source.dimensions):void 0}(P),W=function(e){return e&&e.verdictBy&&e.verdictBy.name}(B),Q=It(B,"spammed"),Y=It(B,"approved"),J=It(B,"removed");return Object.assign({id:l,crosspostRootId:q,crosspostParentId:q,numComments:p||0,distinguishType:function(e){return"NONE"===e?null:e.toLowerCase()}(O),created:Date.parse(b),score:f||0,isLocked:v,isStickied:g,isArchived:j,isSpoiler:C,viewCount:x||0,postId:l,thumbnail:function(e){return e?Object.assign({url:e.url},e.dimensions):{url:"self",width:null,height:null}}(y),author:E?E.name:"",title:_||"",voteState:function(e){switch(e){case"DOWN":return 1;case"UP":return-1;default:return 0}}(R),gildings:T&&(u=T,d=u.gold,{gid1:u.silver,gid2:d,gid3:u.supergold}),goldCount:T?T.gold:0,suggestedSort:A.t[I]||null,belongsTo:function(e){switch(e.__typename){case xe.b.ProfilePost:return{id:e.profile.redditor.id,type:"profile"};case xe.b.SubredditPost:return{id:e.subreddit.id,type:"subreddit"};default:return null}}(e),hidden:S,saved:k,scoreHidden:h,domain:m||"",isNSFW:w,permalink:"https://www.reddit.com"+D,isCrosspostable:N,source:function(e){var t=e.domain,r=e.url,n=e.outboundUrl;return Object.assign({displayText:t||"",url:r||""},n&&{outboundUrl:n})}(e),flair:_t(e),media:function(e,t){var r=e.media,n=e.content,a=function(e){return e.isSpoiler||e.isNsfw}(e)?"":null;switch(t){case jt.m.VIDEO:return{type:t,obfuscated:a,hlsUrl:r&&r.streaming&&r.streaming.hlsUrl||"",dashUrl:r&&r.streaming&&r.streaming.dashUrl||"",isGif:!!r&&!!r.streaming&&r.streaming.isGif,scrubberThumbSource:r&&r.streaming&&r.streaming.scrubberMediaUrl||"",width:r&&r.streaming?r.streaming.dimensions.width:0,height:r&&r.streaming?r.streaming.dimensions.height:0};case jt.m.TEXT:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:""};case jt.m.RTJSON:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",richtextContent:yt(n.richtext,ht)};case jt.m.IMAGE:return{type:t,obfuscated:a,resolutions:Tt(r,!!a),width:r&&r.still&&r.still.source?r.still.source.dimensions.width:0,height:r&&r.still&&r.still.source?r.still.source.dimensions.height:0};case jt.m.EMBED:return{type:t,obfuscated:a,width:r&&r.video?r.video.dimensions.width:0,height:r&&r.video?r.video.dimensions.height:0,provider:r&&r.video&&r.video.attribution&&r.video.attribution.providerName||""};case jt.m.GIFVIDEO:return{type:t,obfuscated:a,resolutions:Tt(r,!!a),width:r&&r.still&&r.still.source?r.still.source.dimensions.width:0,height:r&&r.still&&r.still.source?r.still.source.dimensions.height:0,gifBackgroundImage:r&&r.still&&r.still.source?r.still.source.url:""};default:return null}}(e,""),upvoteRatio:U,isMediaOnly:M,sendReplies:F,numCrossposts:G||0,isSpam:Q,isApproved:Y,isRemoved:J,isOriginalContent:V,isSponsored:e.__typename===xe.b.AdPost},H&&{eventInfo:(s=H,i=s.isLive,c=s.startsAt,o=s.endsAt,{eventIsLive:i,eventStart:Date.parse(c),eventEnd:Date.parse(o)})},Q&&W&&{bannedBy:W},Y&&W&&{approvedBy:W},K&&{preview:K},e.__typename===xe.b.AdPost&&(r=(t=e).isBlank,n=t.callToAction,a=t.adEvents,Object.assign({isBlank:Boolean(r)},n&&{callToAction:n},{events:Et(a)})))},kt=r("./src/reddit/models/Subreddit/index.ts"),wt=r("./src/reddit/models/WhitelistStatus/index.ts"),Ct=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},At=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Rt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Dt=function(e){var t=Date.parse(e);return Number.isNaN(t)?0:t/1e3},Pt=function(e){return e&&e.unreadCount?e.unreadCount:0},Nt=function(e){var t=e.redditor,r=e.inbox,n=e.premium,a=e.preferences,s=Rt(e,["redditor","inbox","premium","preferences"]),i=t.karma,c=t.profile,o=s.interactions,u=s.modMail;return Object.assign({url:c?c.path.slice(0,-1):"",id:t.id,created:Dt(t.cakeDayOn),hasUnreadMail:Pt(r)>0,hasUnreadOldModmail:!!u&&u.isUnread,hasUnreadModmail:!!u&&u.isUnread,hasUserProfile:!!c,inboxCount:Pt(r),isEmployee:!!s.isEmployee,isMod:!!s.isModerator,hasVerifiedEmail:!!s.isEmailVerified,inRedesignBeta:a.isBetaEnabled,commentKarma:i?i.fromComments:0,postKarma:i?i.fromPosts:0,isGold:!!t.isGilded,goldExpiration:function(e){return e&&e.expiresAt?Dt(e.expiresAt):0}(n),showRecentPosts:a.isRecentPostsShown,showTrending:a.isTrendingSubredditsShown,nightmode:a.isNightModeEnabled,seenRedesignModal:!!o&&o.isRedesignModalAware,seenLayoutSwitch:!!o&&o.isLayoutSwitchAware,seenSubredditChatFtux:!!o&&o.isSubredditChatAware,isNSFW:!!c&&c.isNSFW,displayName:t.name,displayNamePrefixed:t.prefixedName,displayText:t.name,isSuspended:s.isSuspended},c&&{profileId:c.id},t.icon&&{accountIcon:t.icon.url})},Lt=function(e){var t,r=e.trendingSubreddits,n=void 0===r?[]:r,a=e.identity,s=e.home,i={postIds:[],posts:{},profiles:{},subreddits:n.reduce(function(e,t){return Object.assign({},e,Ot()({},t.id,t))},{})},o=s.posts.edges.reduce(function(e,t){var r,n,a,s,i,o,u,d,l,p,b,f=e.postIds,O=e.posts,m=e.profiles,v=e.subreddits,g=t.node;return{postIds:[].concat(c()(f),[g.id]),posts:Object.assign({},O,Ot()({},g.id,St(g))),profiles:g.__typename!==xe.b.ProfilePost||m[g.profile.id]?m:Object.assign({},m,Ot()({},g.profile.id,(r=g.profile,n=r.name,a=r.path,s=r.redditor,i=r.styles,o=r.wls,u=Ct(r,["name","path","redditor","styles","wls"]),d=i&&i.legacyIcon&&{width:i.legacyIcon.dimensions.width,height:i.legacyIcon.dimensions.height}||{width:null,height:null},l=d.width,p=d.height,b=i&&i.legacyPrimaryColor,Object.assign({url:a,displayText:s.prefixedName,icon:{url:i&&i.icon||"",width:l,height:p},communityIcon:i&&i.icon||"",type:kt.a.User,name:n.substr(2)},b&&{primaryColor:b},o&&{whitelistStatus:o.toLowerCase(),wls:wt.a[o]},u)))),subreddits:g.__typename!==xe.b.SubredditPost||v[g.subreddit.id]?v:Object.assign({},v,Ot()({},g.subreddit.id,function(e){var t=e.path,r=e.prefixedName,n=e.type,a=e.styles,s=e.wls,i=At(e,["path","prefixedName","type","styles","wls"]),c=a&&a.legacyIcon&&{width:a.legacyIcon.dimensions.width,height:a.legacyIcon.dimensions.height}||{width:null,height:null},o=c.width,u=c.height,d=a&&a.primaryColor;return Object.assign({url:t,displayText:r,icon:{url:a&&a.icon||"",width:o,height:u},communityIcon:a&&a.icon||"",type:n.toLowerCase()},d&&{primaryColor:d},s&&{whitelistStatus:s.toLowerCase(),wls:wt.a[s]},i)}(g.subreddit)))}},i),u=o.postIds.length-1,d=u>=0?o.postIds[u]:"",l=s.posts.dist;return Object.assign({},o,{account:a&&Nt(a),featuredLiveThread:null,preferences:a&&(t=a.preferences,{emailDigests:!!t.isEmailDigestEnabled,emailUnreadMessages:!!t.isEmailMessagesEnabled,emailUnsubscribe:!!t.isEmailOptedOut,hideFromRobots:!!t.isProfileHiddenFromRobots,hideNSFW:!!t.isNsfwMediaBlocked,highlightComments:!!t.isNewHighlightEnabled,inBeta:!!t.isBetaEnabled,labelNSFW:!!t.isNsfwLabelShown,nightmode:!!t.isNightModeEnabled,privateFeeds:!!t.isPrivateRssEnabled,profileOptOut:!!t.isLegacyProfilesEnabled,showMessagesInInbox:!!t.isMessageThreadingEnabled,autoplayVideo:!t.isVideoAutoplayDisabled}),token:d,trendingSubredditIds:n.map(function(e){return e.id})},l&&{dist:l})},Ut=r("./src/reddit/helpers/timeApiRoute/index.ts"),Mt=r("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),Ft=r("./src/reddit/actions/hero.ts"),Gt=r("./src/reddit/constants/news.ts"),Bt=r("./src/reddit/selectors/news.ts");r.d(t,"n",function(){return Ht}),r.d(t,"j",function(){return qt}),r.d(t,"F",function(){return Kt}),r.d(t,"S",function(){return Wt}),r.d(t,"h",function(){return Qt}),r.d(t,"g",function(){return Yt}),r.d(t,"f",function(){return Jt}),r.d(t,"t",function(){return $t}),r.d(t,"s",function(){return er}),r.d(t,"r",function(){return tr}),r.d(t,"Q",function(){return rr}),r.d(t,"G",function(){return ir}),r.d(t,"E",function(){return ur}),r.d(t,"P",function(){return dr}),r.d(t,"R",function(){return br}),r.d(t,"d",function(){return fr}),r.d(t,"b",function(){return Or}),r.d(t,"a",function(){return mr}),r.d(t,"z",function(){return gr}),r.d(t,"y",function(){return jr}),r.d(t,"A",function(){return yr}),r.d(t,"x",function(){return _r}),r.d(t,"c",function(){return Er}),r.d(t,"J",function(){return Ir}),r.d(t,"I",function(){return Sr}),r.d(t,"H",function(){return kr}),r.d(t,"N",function(){return wr}),r.d(t,"u",function(){return Cr}),r.d(t,"p",function(){return Ar}),r.d(t,"q",function(){return Rr}),r.d(t,"o",function(){return Dr}),r.d(t,"O",function(){return Fr}),r.d(t,"M",function(){return Gr}),r.d(t,"i",function(){return Br}),r.d(t,"D",function(){return Hr}),r.d(t,"m",function(){return qr}),r.d(t,"l",function(){return Kr}),r.d(t,"k",function(){return Wr}),r.d(t,"K",function(){return Xr}),r.d(t,"e",function(){return Zr}),r.d(t,"B",function(){return en}),r.d(t,"w",function(){return tn}),r.d(t,"v",function(){return rn}),r.d(t,"L",function(){return nn}),r.d(t,"C",function(){return an});var Vt=void 0,Ht=25,qt=100,Kt=function(e,t){if(e===A.U.CONTROVERSIAL||e===A.U.TOP)return t||A.Lb},Wt=function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=l()(u.a.mark(function t(n,a,s){var i,c=s.routes;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=a(),Object(qe.a)(e,c,i)?n(Object(g.b)(e)):r?window.open(e,"_blank"):window.location.assign(e);case 2:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)}},Qt="PAGE__FRONTPAGE_PENDING",Yt="PAGE__FRONTPAGE_LOADED",Jt="PAGE__FRONTPAGE_FAILED",zt=Object(Ge.a)(Qt),Xt=Object(Ge.a)(Yt),Zt=Object(Ge.a)(Jt),$t="PAGE__SUBREDDIT_PENDING",er="PAGE__SUBREDDIT_LOADED",tr="PAGE__SUBREDDIT_FAILED",rr=Object(Ge.a)($t),nr=Object(Ge.a)(er),ar=Object(Ge.a)(tr),sr=function(e,t){var r=e.user.language;return Object(j.a)(r,"title."+t)},ir=function(e,t){return r=l()(u.a.mark(function r(a){var s,i,c,o,d;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:!e.ok&&e.body&&(s=e.body.data?e.body.data.account:void 0,i=e.body.data?e.body.data.features:void 0,c=t?t.toLowerCase():"",404===e.status&&(e.body.reason===n.NotFoundSubreddit?a(U.i({account:s,features:i,subredditName:c})):e.body.reason===n.BannedSubreddit&&(o=e.body.data?e.body.data.ban_message:void 0,a(U.h({banMessage:o,account:s,features:i,subredditName:c})))),403===e.status&&(e.body.reason===n.GoldSubreddit?a(U.j({account:s,features:i,subredditName:c})):e.body.reason===n.PrivateSubreddit?a(U.k({account:s,features:i,subredditDescription:e.body.data.description,subredditName:c})):e.body.reason===n.QuarantinedSubreddit&&(d=!e.body.data||e.body.data.quarantine_requires_email_optin,a(U.l({account:s,features:i,subredditName:c,quarantineRequiresEmail:d,quarantineMessage:e.body.data.quarantineMessage})))),a(J.r({nightmode:!!s&&s.nightmode})));case 1:case"end":return r.stop()}},r,Vt)})),function(e){return r.apply(this,arguments)};var r},cr=function e(t,r){return n=l()(u.a.mark(function n(a,s,i){var c,o,d,l,p,b,f,O,m,v,g,h,E,T,S,k,C;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=s(),!c.listings.postOrder.api.pending[t]){n.next=4;break}return n.abrupt("return");case 4:return r.isMobile=Object(y.b)(c.meta.userAgent),r.recentPostIds=c.posts.recent,r.layout=le.c[Object(be.J)(c,{})],r.useMockData=!!c.platform.currentPage&&(!!c.platform.currentPage.queryParams.useMockData&&Object(Ne.b)(c)),a(zt({key:t})),o=Object(Ae.h)(c),d=Object(Ae.i)(c,{expEventOverride:!1}),(l=o&&d)||(p=c.platform.currentPage,(b=p&&p.url)&&(r.clickUrl=b)),f=l?function(){return Object(w.a)(i.apiContext(),o,r)}:function(){return Object(I.a)(i.apiContext(),r)},O=l?"multireddit":"index",n.next=17,Object(Ut.a)(O,f);case 17:if(m=n.sent,a(Object(Q.k)(m.status)),v="error-"+t,!m.ok){n.next=48;break}if(l||ut(A.o.Redesign,{type:et.DebugShadowMode,data:{debugPoint:"response_ok"}}),g=m.body,h=g.postIds.filter(function(e){return!!g.posts[e].isMeta}),E=void 0,!h.length){n.next=30;break}return n.next=28,Object(x.a)(i.apiContext(),h);case 28:(T=n.sent).ok&&(E=T.body);case 30:return a(Xt(Object.assign({key:t,meta:c.meta,governance:E},g))),n.next=33,Promise.all([K.c()(a,s,i),a(_.g())]);case 33:if(a(ne.f(v)),a(Object(Ke.g)(Mt.a.FRONTPAGE)),l||ut(A.o.Redesign,{type:et.DebugShadowMode,data:{debugPoint:"before_enter"}}),l||!We.d.enableShadowMode(c)){n.next=46;break}return ut(A.o.Redesign,{type:et.DebugShadowMode,data:{debugPoint:"after_enter"}}),S=r.sort,k=r.t,C={isLoggedIn:!!c.user.session&&!c.user.session.unsafeLoggedOut},S&&(C.sort=S.toUpperCase()),k&&(C.range=k.toUpperCase()),ut(A.o.Redesign,{type:et.DebugShadowMode,data:{debugPoint:"before_fetch"}}),n.next=45,bt({fetchFn:I.b,normalizer:Lt,variables:C,context:i.gqlContext(),responseToCompare:g,responseName:lt(S,k)});case 45:ut(A.o.Redesign,{type:et.DebugShadowMode,data:{debugPoint:"after_fetch"}});case 46:n.next=50;break;case 48:a(Zt(Object.assign({error:m.error,key:t},m.body))),a(ne.e({id:v,kind:Te.a.Error,text:Object(j.a)(c.user.language,"listings.toast.error"),buttonText:Object(j.a)(c.user.language,"listings.toast.retryButton"),buttonAction:e(t,r)}));case 50:case"end":return n.stop()}},n,Vt)})),function(e,t,r){return n.apply(this,arguments)};var n},or=function(e,t){return r=l()(u.a.mark(function r(n,a){var s,i,c,o,d,l,p,b,f,m,v,j;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=a(),i=s.user,!(!1===i.temporaryGQL.isLoggedIn)){r.next=8;break}if(!(c=Object(Se.c)(s))||Object(ce.v)(c)){r.next=8;break}return n(Object(g.b)(Object(h.a)(oe.c[ue.e.Explore],e.queryParams))),r.abrupt("return");case 8:if(o=Object(ke.a)(s),d=e.params.sort,l=void 0===d?o:d,p=Object(Ve.a)(ue.b,l,e.queryParams),b=s.listings.postOrder.ids[p],f=s.listings.postOrder.api.error[p],m=s.listings.postOrder.api.pending[p],v=de.n in e.queryParams&&e.queryParams[de.n].toUpperCase()||"",j=v in A.Kb&&A.Kb[v],!m&&(!b||f||t)){r.next=19;break}return b&&(n(Q.j({title:sr(a(),"frontpage")})),s.sidebarPromotedPosts.firstFetch||window.addEventListener("load",function(){n(Object(Ke.g)(Mt.a.FRONTPAGE))})),r.abrupt("return");case 19:return r.next=21,n(cr(p,Object.assign({},O()(e.queryParams,de.h),O()(e.queryParams,de.g),{sort:l,t:Kt(l,j)})));case 21:n(Q.j({title:sr(a(),"frontpage")})),Object(Ye.a)(s,"redesign_aa");case 23:case"end":return r.stop()}},r,Vt)})),function(e,t){return r.apply(this,arguments)};var r},ur=function(e,t){return r=l()(u.a.mark(function r(n,a,s){var i,c,o;s.apiContext;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=a(),c=Object(Bt.b)(i),o=Object(Ne.b)(i),r.next=5,Promise.all([Object(Bt.g)(i)?n(Object(Ft.e)(c,Gt.g,"",o)):null,n(or(e,t))]);case 5:case"end":return r.stop()}},r,Vt)})),function(e,t,n){return r.apply(this,arguments)};var r},dr=function e(t,r,n,a){return s=l()(u.a.mark(function s(i,c,o){var d,l,p,b,f,O,m,g,h,y,E,T,I;return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(d=c(),!d.listings.postOrder.api.pending[t]){s.next=4;break}return s.abrupt("return");case 4:return(l="all"!==r&&"popular"!==r||!d.posts.recent.length?n:Object.assign({},n,{recentPostIds:d.posts.recent})).layout=le.c[Object(be.J)(d,{})],i(rr({key:t})),s.next=9,Object(Ut.a)("subreddit",function(){return Object(w.a)(o.apiContext(),r,l)});case 9:if(p=s.sent,i(Object(Q.k)(p.status)),b="error-"+t,f=p.body,O=Object(Fe.a)(r)||v()(f.subreddits,function(e){return e.name.toLowerCase()===r.toLowerCase()}),!p.ok||!O){s.next=42;break}if(m=void 0,!(g=f.postIds.filter(function(e){return!!f.posts[e].isMeta})).length){s.next=22;break}return s.next=20,Object(x.a)(o.apiContext(),g);case 20:(h=s.sent).ok&&(m=h.body);case 22:if(i(nr(Object.assign({key:t,meta:d.meta,governance:m},f))),Object(Fe.a)(r)){s.next=30;break}if(y=Object(Le.v)(c(),r),E=Object(Le.z)(d,{subredditId:y}),E&&E.length){s.next=30;break}return s.next=30,ee.t(r)(i,c,o);case 30:return s.next=32,Promise.all([K.c()(i,c,o),i(_.g())]);case 32:if(a&&i(ne.f(b)),i(Object(Ke.g)(Mt.a.SUBREDDIT)),i(Object(F.p)()),!We.d.governance(c())){s.next=40;break}if((T=Object(Le.v)(c(),r))&&i(Object(q.t)({subredditId:T})),!T){s.next=40;break}return s.next=40,i(Object(L.l)({subredditId:T}));case 40:s.next=49;break;case 42:if(403!==p.status&&404!==p.status){s.next=45;break}return i(ir(p,r)),s.abrupt("return");case 45:i(ar(Object.assign({error:!p.ok&&p.error||{type:A.F.NOT_FOUND_ERROR},key:t},f))),I=p.body.data?p.body.data.account:void 0,i(J.r({nightmode:!!I&&I.nightmode})),a&&i(ne.e({id:b,kind:Te.a.Error,text:Object(j.a)(d.user.language,"listings.toast.error"),buttonText:Object(j.a)(d.user.language,"listings.toast.retryButton"),buttonAction:e(t,r,n,a)}));case 49:case"end":return s.stop()}},s,Vt)})),function(e,t,r){return s.apply(this,arguments)};var s},lr=function(e,t){return Object(Fe.a)(t)&&Object(Me.a)(t)?Object(Re.a)(e,{listingName:t}).displayText:Object(Le.B)(e,{subredditName:t})},pr=function(e,t){return Object(Ce.a)(_e.b.config)(e,{subredditId:t})||Object(Ce.a)(_e.b.flair)(e,{subredditId:t})},br=function(e,t){return r=l()(u.a.mark(function r(n,a,s){var i,o,d,l,p,b,f,m,v,g,j,h,y,_,E,x,T,I;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.params,o=i.sort,d=void 0===o?A.U.HOT:o,l=i.subredditName,p=e.queryParams.styling,b=Object(Ve.a)(l,d,e.queryParams),f=a(),m=f.listings.postOrder.ids[b],v=f.listings.postOrder.api.error[b],g=f.listings.postOrder.api.pending[b],j=Object(Le.v)(f,l),h=p&&"true"===p&&pr(f,j),y=de.n in e.queryParams&&e.queryParams[de.n].toUpperCase()||"",_=y in A.Kb&&A.Kb[y],!g&&(!m||v||t)){r.next=15;break}return h&&n($.p(j)),m&&(E=lr(a(),l),n(Q.j({title:E})),window.addEventListener("load",function(){n(Object(F.p)())}),f.sidebarPromotedPosts.firstFetch||window.addEventListener("load",function(){n(Object(Ke.g)(Mt.a.SUBREDDIT))}),We.d.governance(a())&&j&&window.addEventListener("load",function(){n(Object(q.t)({subredditId:j}))})),r.abrupt("return");case 15:return x=Object.assign({},O()(e.queryParams,[].concat(c()(de.h),c()(de.g),[de.d])),{sort:d,t:Kt(d,_)}),r.next=18,n(dr(b,l,x,!0));case 18:if(!We.d.governance(f)){r.next=23;break}if(!(T=Object(Le.v)(a(),l))){r.next=23;break}return r.next=23,n(Object(q.n)({subredditId:T}));case 23:h&&n($.p(j)),I=lr(a(),l),n(Q.j({title:I}));case 26:case"end":return r.stop()}},r,Vt)})),function(e,t,n){return r.apply(this,arguments)};var r},fr="PAGE__COMMENTSPAGE_PENDING",Or="PAGE__COMMENTSPAGE_LOADED",mr="PAGE__COMMENTSPAGE_FAILED",vr=Object(Ge.a)(fr),gr=Object(Ge.a)(Or),jr=Object(Ge.a)(mr),hr=function(e,t){var r=Object(Pe.L)(e,{postId:t});return r?Object(j.a)(e.user.language,"title.commentsPage",{postTitle:e.posts.models[t].title,subreddit:r.name}):""},yr=function(e){return t=l()(u.a.mark(function t(r,n,a){var s,i,c,o,d,l,p,b,f,O,m,v,g,j,h,y,_,x,T,I;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.params.partialPostId,i=e.params.partialCommentId,c=e.params||"",o=c.subredditName,d=s?Object(xe.d)(s):"",l=i&&Object(ye.b)(i),p=e.queryParams,b=n(),f=p.instanceId,O=Object(me.a)(p,b.user,b.posts.models[d]),m=O.hasSortParam,v=O.sortToUse,g=["context","depth","limit",de.c].reduce(function(e,t){var r=parseInt(p[t]);return isNaN(r)||(e[t]=r),e},{subredditName:o,hasSortParam:m,instanceId:f}),m&&(g.sort=v),r(Y.i(d)),t.next=14,r(_r(d,l,g));case 14:if(!(j=n().posts.models[d])){t.next=34;break}if(h=hr(n(),d),y=Object(Le.y)(n(),{identifier:j.belongsTo}),j.isSponsored){t.next=29;break}if(j.belongsTo.type!==pe.a.SUBREDDIT){t.next=27;break}if(_=Object(Le.z)(b,{subredditId:j.belongsTo.id}),_&&_.length){t.next=25;break}return t.next=25,r(ee.t(y.name));case 25:t.next=29;break;case 27:return t.next=29,r(z.i(y.name));case 29:r(Q.j({title:h})),x=n().posts.instances[d]?e.queryParams.instanceId:j.postId,r(Object(E.c)(x)),t.next=35;break;case 34:r(Q.j({title:sr(n(),"frontpage")}));case 35:if(T=e.params.routePrefix,pe.b[T]===pe.a.PROFILE?Object(Qe.a)(n(),r,e):Object(Qe.b)(n(),r,e),!We.d.governance(b)){t.next=43;break}if((I=j.belongsTo.id)&&r(Object(q.t)({subredditId:I})),!I){t.next=43;break}return t.next=43,r(Object(q.n)({subredditId:I}));case 43:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},_r=function(e,t,r,n){return a=l()(u.a.mark(function a(s,i,c){var o,d,l,p,b,f,O,m,v,g,j,h,y,_,E,I,S,k,C,A;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=Object(Be.a)(e,t,r),d=i(),l=r.subredditName,p=d.commentsPage.keyToHeadCommentId.hasOwnProperty(o),b=d.commentsPage.api.fullyLoaded[o],f=d.commentsPage.api.error[o],!(d.commentsPage.api.pending[o]||p&&!f)){a.next=12;break}return p&&!d.sidebarPromotedPosts.firstFetch&&(O=Object(De.h)(d)?Mt.a.COMMENTS_OVERLAY:Mt.a.COMMENTS,window.addEventListener("load",function(){s(Object(Ke.g)(O))})),b||n||s(Tr(e,t,r)),l&&We.d.governance(i())&&(m=Object(Le.v)(i(),l))&&window.addEventListener("load",function(){s(Object(q.t)({subredditId:m}))}),a.abrupt("return");case 12:return v=d.user.prefs.commentMode,s(vr({key:o,postId:e,commentMode:v})),g=Object.assign({},r),(j=Object(Pe.A)(i(),{postId:e}))&&j.numComments&&j.numComments>qt&&(g.truncate=Ht),a.next=18,Object(Ut.a)("comments",function(){return Object(T.a)(c.apiContext(),e,t,g)});case 18:if(h=a.sent,s(Object(Q.k)(h.status)),y=void 0,!h.ok){a.next=28;break}if(!(_=Object.keys(h.body.posts).filter(function(e){return!!h.body.posts[e].isMeta})).length){a.next=28;break}return a.next=26,Object(x.a)(c.apiContext(),_);case 26:(E=a.sent).ok&&(y=E.body);case 28:if(n||((I=Object(Pe.A)(i(),{postId:e}))&&h.body.comments&&Object.keys(h.body.comments).length<I.numComments?s(Tr(e,t,r)):h.ok&&s(xr({key:o})),S=Object(De.h)(d)?Mt.a.COMMENTS_OVERLAY:Mt.a.COMMENTS,s(Object(Ke.g)(S))),!h.ok){a.next=44;break}return k=Object(Oe.a)(h.body,e),s(gr(Object.assign({key:o,postId:e,meta:d.meta,governance:y,shouldCollapse:k},h.body))),a.next=34,K.c()(s,i,c);case 34:if(s(ne.f(o)),C=Object(Pe.A)(i(),{postId:e}),Object(je.a)(C.events,se.a.CommentsView),n||!We.d.governance(i())){a.next=42;break}if(!(A=i().posts.models[e])||"subreddit"!==A.belongsTo.type){a.next=42;break}return a.next=42,s(Object(L.l)({subredditId:A.belongsTo.id}));case 42:a.next=52;break;case 44:if(!l){a.next=50;break}return s(rr({key:o})),a.next=48,Object(Ut.a)("subreddit",function(){return Object(w.a)(c.apiContext(),l,{})});case 48:h=a.sent,s(Object(Q.k)(h.status));case 50:s(ir(h,l)),s(jr(Object.assign({error:h.error,key:o},h.body)));case 52:case"end":return a.stop()}},a,Vt)})),function(e,t,r){return a.apply(this,arguments)};var a},Er="PAGE__COMMENTSPAGE_LOADED_FULL",xr=Object(Ge.a)(Er),Tr=function(e,t,r){return n=l()(u.a.mark(function n(a,s,i){var c,o,d,l;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=Object(Be.a)(e,t,r),o=s(),n.next=4,Object(T.a)(i.apiContext(),e,t,r);case 4:d=n.sent,a(Object(Q.k)(d.status)),d.ok?(l=Object(Oe.a)(d.body,e),a(gr(Object.assign({key:c,postId:e,meta:o.meta,shouldCollapse:l},d.body))),a(xr({key:c}))):a(jr(Object.assign({error:d.error,key:c},d.body)));case 7:case"end":return n.stop()}},n,Vt)})),function(e,t,r){return n.apply(this,arguments)};var n},Ir=function(e){return t=l()(u.a.mark(function t(r,n,a){var s,i,c,o,d,l,p,b,f,O,m,v,g,j,h,y,_,E,x,T,I,S,k,R;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.params,i=s.subredditName,c=s.pageName,o=Object(Ve.a)(i,void 0,e.queryParams),d=n(),l=e.queryParams,p=l.page,b=d.listings.postOrder.ids[o],f=d.listings.postOrder.api.error[o],O=d.listings.postOrder.api.pending[o],m=O||b&&!f,v=void 0,!f){t.next=12;break}return t.abrupt("return");case 12:if(m){t.next=29;break}return r(rr({key:o})),t.next=16,Object(Ut.a)("subreddit",function(){return Object(w.a)(a.apiContext(),i,{})});case 16:if(!(v=t.sent).ok){t.next=25;break}if(r(nr(Object.assign({key:o,meta:d.meta},v.body))),g=n(),Object(Ue.B)(g)||c===A.Ib.Moderators){t.next=23;break}return Object(ge.a)(r,g),t.abrupt("return");case 23:t.next=27;break;case 25:return r(ar(Object.assign({error:v.error,key:o},v.body))),t.abrupt("return");case 27:t.next=30;break;case 29:Object(he.d)(d,!0,i);case 30:if(c){t.next=32;break}return t.abrupt("return");case 32:j=void 0,h=void 0,y=void 0,_=void 0,t.t0=c,t.next=t.t0===A.Ib.Muted?39:t.t0===A.Ib.Contributors?41:t.t0===A.Ib.Banned?43:t.t0===A.Ib.Moderators?45:t.t0===A.Ib.Removal?47:t.t0===A.Ib.PostRequirements?49:t.t0===A.Ib.Modqueue?52:t.t0===A.Ib.Reports?52:t.t0===A.Ib.Spam?52:t.t0===A.Ib.Edited?52:t.t0===A.Ib.Unmoderated?52:54;break;case 39:return j=re.Ia,t.abrupt("break",56);case 41:return j=re.V,t.abrupt("break",56);case 43:return j=re.Z,t.abrupt("break",56);case 45:return y=!0,t.abrupt("break",56);case 47:return j=Z.r,t.abrupt("break",56);case 49:return j=te.A,_=!0,t.abrupt("break",56);case 52:return h=c,t.abrupt("break",56);case 54:return t.abrupt("return",Object(C.a)(c));case 56:if(E=Object(Le.B)(n(),{subredditName:i.toLowerCase()}),x=Object(Le.v)(n(),i),T=Object(Ce.f)(n(),{subredditId:x}),Object(fe.a)(c,T)){t.next=62;break}return t.abrupt("return");case 62:if(!h){t.next=75;break}if(I=Object(ve.a)(Object.assign({},l,{subreddit:i})),S=d.modQueue[h].itemOrder[I],k=!!(S&&S[p]&&S[p].length),R=d.modQueue[h].api.error,!(d.modQueue[h].api.pending||k&&!R)){t.next=70;break}return t.abrupt("return");case 70:if(Object(De.m)(d)){t.next=73;break}return t.next=73,Object(W.B)(h,Object.assign({},l,{subreddit:i}))(r,n,a);case 73:t.next=93;break;case 75:if(!y){t.next=85;break}return t.next=78,Object(re.Fa)(x,l)(r,n,a);case 78:if(!d.moderatingSubreddits[x]){t.next=83;break}return t.next=81,Object(re.Da)(x,l)(r,n,a);case 81:return t.next=83,Object(re.Ea)(x)(r,n,a);case 83:t.next=93;break;case 85:if(!_){t.next=90;break}return t.next=88,j(i)(r,n,a);case 88:t.next=93;break;case 90:if(!j){t.next=93;break}return t.next=93,j(x,l)(r,n,a);case 93:if(d.subreddits.rules[x]){t.next=96;break}return t.next=96,ee.t(i)(r,n,a);case 96:r(Q.j({title:E})),Object(he.d)(n(),v&&v.ok,i);case 98:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},Sr=function(e){return t=l()(u.a.mark(function t(r,n,a){var s,i,c,o,d,l,p,f,O,m,v;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.params.pageName,i=e.queryParams,c=i.page,o=i.profile,d=i.subreddit,l=n(),s){t.next=6;break}return t.abrupt("return");case 6:if(p=Object(ve.a)(i),f=l.modQueue[s].itemOrder[p],O=!!(f&&f[c]&&f[c].length),m=l.modQueue[s].api.error,!(l.modQueue[s].api.pending||O&&!m)){t.next=13;break}return t.abrupt("return");case 13:if(Object(De.m)(l)){t.next=16;break}return t.next=16,Object(W.B)(s,i)(r,n,a);case 16:if(v=n(),b()(v.modQueue[s].api.error,"type")!==A.F.AUTHENTICATION_ERROR){t.next=19;break}return t.abrupt("return",Object(ge.a)(r,v));case 19:Object(he.e)(v,s,d,o),r(Q.j({title:sr(v,"modQueue")}));case 21:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},kr=function(e){return t=l()(u.a.mark(function t(r,n,a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(Object(X.c)(e,!0));case 2:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},wr=function(e){return t=l()(u.a.mark(function t(r,n,a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(Object(X.c)(e,!0));case 2:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},Cr=function(){return e=l()(u.a.mark(function e(t,r,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N.f());case 2:case"end":return e.stop()}},e,Vt)})),function(t,r,n){return e.apply(this,arguments)};var e},Ar="SEARCH__SEARCH_PENDING",Rr="SEARCH__SEARCH_RESULTS_RECEIVED",Dr="SEARCH__SEARCH_FAILED",Pr=Object(Ge.a)(Ar),Nr=Object(Ge.a)(Rr),Lr=Object(Ge.a)(Dr),Ur=function(e,t){return Object(j.a)(e.user.language,"search.title",{query:t||"None"})},Mr=function e(t,r,n){return a=l()(u.a.mark(function a(s,i,c){var o,d,l,p,b,f,O,m,v,g,h,y,_=c.apiContext;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=i(),(d=r.type.indexOf(A.Eb.Posts)>-1||n&&r.restrict_sr)&&(l=o.listings.postOrder.ids[t],p=o.listings.postOrder.api.error[t],b=o.listings.postOrder.api.pending[t],d=!(b||l&&!p)),(f=r.type.indexOf(A.Eb.Subreddits)>-1||r.type.indexOf(A.Eb.Users)>-1)&&(O=o.listings.listingOrder.identifiers[t],m=o.listings.listingOrder.api.error[t],v=o.listings.listingOrder.api.pending[t],f=!(v||O&&!m)),d||f){a.next=8;break}return o.sidebarPromotedPosts.firstFetch||window.addEventListener("load",function(){s(Object(Ke.g)(Mt.a.SEARCH_RESULTS))}),a.abrupt("return");case 8:return g="error-"+t,h=r.type,s(Pr({key:t,type:h})),a.next=13,Object(Ut.a)("searchResults",function(){return Object(k.a)(_(),n,Object.assign({},r,{type:(r.type||[]).join(",")}))});case 13:(y=a.sent).ok?(s(Nr(Object.assign({key:t,type:h,meta:o.meta,subredditName:n},y.body))),s(ne.f(g)),s(Object(Ke.g)(Mt.a.SEARCH_RESULTS))):(s(Lr(Object.assign({key:t,error:y.error,type:h},y.body))),s(ne.e({id:g,kind:Te.a.Error,text:Object(j.a)(o.user.language,"search.toast.error"),buttonText:Object(j.a)(o.user.language,"search.toast.retryButton"),buttonAction:e(t,r,n)})));case 15:case"end":return a.stop()}},a,Vt)})),function(e,t,r){return a.apply(this,arguments)};var a},Fr=function(e){return t=l()(u.a.mark(function t(r,n,a){var s,i,c,o,d,l,p,b,f,m;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Object(He.c)(O()(e.queryParams,de.l)),i=e.params.subredditName||e.params.multiredditName,c=Object(He.b)(i,s),o=n(),t.next=6,r(Mr(c,s,i));case 6:d=n(),l=!1,p=s.type,f=(b=void 0===p?[]:p).indexOf(A.Eb.Posts)>-1,m=b.indexOf(A.Eb.Subreddits)>-1||b.indexOf(A.Eb.Users)>-1,f&&d.listings.postOrder.api.error[c]&&(l=!0),m&&d.listings.listingOrder.api.error[c]&&(l=!0),r(l?Q.j({title:sr(o,"frontpage")}):Q.j({title:Ur(d,s.q)}));case 14:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},Gr=function(e,t,r){return n=l()(u.a.mark(function n(a,s,i){var c,o,d,l,p,b,f,O=i.routes;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=s(),o=(t||c.platform.currentPage).routeMatch.match,d=Object(qe.a)(o.url,O)){n.next=5;break}return n.abrupt("return");case 5:if(l=e.metaKey||e.ctrlKey||1===e.button,!d.route||!d.route.meta||d.route.meta.name!==A.lb.INDEX&&d.route.meta.name!==A.lb.MULTIREDDIT&&d.route.meta.name!==A.lb.SUBREDDIT){n.next=20;break}if(!l){n.next=11;break}window.open(o.url),n.next=18;break;case 11:if(!r){n.next=15;break}a(Object(g.b)(o.url)),n.next=18;break;case 15:return n.next=17,a(d.route.action(o,!0));case 17:window.scroll(0,0);case 18:n.next=36;break;case 20:if(!(d.match&&d.match.params&&d.match.params.subredditName)){n.next=36;break}if(p=d.match.params.subredditName,b="/r/"+p,!l){n.next=27;break}window.open(b),n.next=36;break;case 27:if(!r){n.next=31;break}a(Object(g.b)(b)),n.next=36;break;case 31:return f=Object(Ve.a)(p,A.U.HOT),n.next=34,a(Object(g.b)(b));case 34:a(dr(f,p,{})),window.scroll(0,0);case 36:case"end":return n.stop()}},n,Vt)})),function(e,t,r){return n.apply(this,arguments)};var n},Br="PAGE__FRONTPAGE_RELOADED",Vr=Object(Ge.a)(Br),Hr=function(e){return t=l()(u.a.mark(function t(r,n,a){var s,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=s.platform.currentPage.routeMatch.match,!Object(we.q)(s)&&!Object(we.d)(s)){t.next=4;break}return t.abrupt("return");case 4:return e||r(Vr()),t.next=7,r(ur(i,!0));case 7:window.scroll(0,0);case 8:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},qr="PAGE__MULTIREDDIT_FEED_PENDING",Kr="PAGE__MULTIREDDIT_FEED_LOADED",Wr="PAGE__MULTIREDDIT_FEED_FAILED",Qr=Object(Ge.a)(qr),Yr=Object(Ge.a)(Kr),Jr=Object(Ge.a)(Wr),zr=function e(t,r,n,a){return s=l()(u.a.mark(function s(i,c,o){var d,l,p,b=o.apiContext;return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(d=c()).listings.postOrder.api.pending[t]){s.next=3;break}return s.abrupt("return");case 3:return i(Qr({key:t})),n.layout=le.c[Object(be.J)(d,{})],s.next=7,Object(Ut.a)("multireddit",function(){return Object(S.a)(b(),r,n)});case 7:if(l=s.sent,p="error-"+t,!l.ok){s.next=15;break}i(Yr(Object.assign({key:t,meta:d.meta},l.body))),a&&i(ne.f(p)),window.addEventListener("load",function(){i(Object(Ke.g)(Mt.a.MULTIREDDIT))}),s.next=21;break;case 15:if(404!==l.status){s.next=19;break}return a&&i(ne.f(p)),i(Object(g.c)("/")),s.abrupt("return");case 19:i(Jr(Object.assign({error:!l.ok&&l.error||{type:A.F.NOT_FOUND_ERROR},key:t},l.body))),a&&i(ne.e({id:p,kind:Te.a.Error,text:Object(j.a)(d.user.language,"listings.toast.error"),buttonText:Object(j.a)(d.user.language,"listings.toast.retryButton"),buttonAction:e(t,r,n,a)}));case 21:case"end":return s.stop()}},s,Vt)})),function(e,t,r){return s.apply(this,arguments)};var s},Xr=function(e,t){return r=l()(u.a.mark(function r(n,a){var s,i,c,o,d,l,p,b,f,m,v,j,h,y,_;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=e.params.multiredditName,i=e.params.username){r.next=13;break}if(!(c=a()).user.session||!c.user.session.unsafeLoggedOut){r.next=7;break}return n(Object(g.c)("/")),r.abrupt("return");case 7:if(c.user.account||!c.user.session){r.next=10;break}return r.next=10,n(ae.o());case 10:if(a().user.account){r.next=13;break}return n(Object(g.c)("/")),r.abrupt("return");case 13:if(o=e.params.sort,d=void 0===o?A.U.HOT:o,l={multiredditName:s},p=a(),i||(i=p.user.account?Object(Ie.d)(p.user.account):""),b=Object(Ee.c)(i,s),f=Object(Ve.a)(b,d,e.queryParams),m=p.listings.postOrder.ids[f],v=p.listings.postOrder.api.error[f],j=p.listings.postOrder.api.pending[f],h=de.n in e.queryParams&&e.queryParams[de.n].toUpperCase()||"",y=h in A.Kb&&A.Kb[h],!j&&(!m||v||t)){r.next=27;break}return m&&(n(Q.j({title:Object(Re.c)(a(),l)})),p.sidebarPromotedPosts.firstFetch||n(Object(Ke.g)(Mt.a.MULTIREDDIT))),r.abrupt("return");case 27:return r.next=29,n(zr(f,s,Object.assign({},O()(e.queryParams,de.h),O()(e.queryParams,de.g),{sort:d,t:Kt(d,y)}),!0));case 29:_=a(),Object(Re.b)(_,l)&&n(Q.j({title:Object(Re.c)(a(),l)})),Object(Qe.c)(_,n,e);case 33:case"end":return r.stop()}},r,Vt)})),function(e,t){return r.apply(this,arguments)};var r},Zr="PAGE__DASHBOARD_PENDING",$r=Object(Ge.a)(Zr),en=function(e){return t=l()(u.a.mark(function t(r,n,a){var s,i,c,o,d,l,p,b,f,m,v,g,j,h;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=A.U.HOT,c=e.params,o=c.subredditName,d=c.section,l=c.component,p=Object(D.a)(R.a.replyToComment,"example-comment"),r($r({draftKey:p})),d&&l&&r(M.d(d+"/"+l)),b=o&&s.dashboard.subredditLoaded[o],!o||b){t.next=17;break}return r(M.f(o)),f=Object(Ve.a)(o,i,e.queryParams),m=de.n in e.queryParams&&e.queryParams[de.n].toUpperCase()||"",v=m in A.Kb&&A.Kb[m],t.next=14,r(dr(f,o,Object.assign({},O()(e.queryParams,de.h),O()(e.queryParams,de.g),{sort:i,t:Kt(i,v)}),!0));case 14:r(M.e(o)),t.next=22;break;case 17:return g=Object(Ve.a)(ue.b,i,{}),j=de.n in e.queryParams&&e.queryParams[de.n].toUpperCase()||"",h=j in A.Kb&&A.Kb[j],t.next=22,r(cr(g,Object.assign({},O()(e.queryParams,de.h),O()(e.queryParams,de.g),{sort:i,t:Kt(i,h)})));case 22:case"end":return t.stop()}},t,Vt)})),function(e,r,n){return t.apply(this,arguments)};var t},tn=function(e){return t=l()(u.a.mark(function t(r,n){var a,s,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n(),r(Q.j({title:sr(a,"coins")})),Object(Ue.B)(a)){t.next=5;break}return t.next=5,r(ae.o());case 5:if(s=n(),!(i=e.queryParams).thanks){t.next=11;break}setTimeout(function(){i.gild&&r(B.e({thingId:"THING_ID_PLACEHOLDER"})),r(B.g({coinPackage:P.b[P.a.COINS500]})),r(V.l({confirmed:!1}))},1e3),t.next=16;break;case 11:if(!i.qty){t.next=16;break}if(Object(Ue.B)(s)&&We.d.canProxyGild(s)){t.next=15;break}return r(Object(g.c)("/coins")),t.abrupt("return");case 15:setTimeout(function(){var e=parseInt(i.qty),t=Object(P.d)(e);r(B.g({coinPackage:t})),r(V.n(A.gb))},500);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,Vt)})),function(e,r){return t.apply(this,arguments)};var t},rn=function(e){return t=l()(u.a.mark(function e(t,r){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),t(Q.j({title:sr(n,"coins")})),e.abrupt("return");case 3:case"end":return e.stop()}},e,Vt)})),function(e,r){return t.apply(this,arguments)};var t},nn=function(e){return t=l()(u.a.mark(function t(r,n){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n(),r(Q.j({title:sr(a,"premium")})),e.queryParams.thanks&&setTimeout(function(){r(H.e()),r(V.l({confirmed:!1}))},1e3),Object(Ue.B)(a)){t.next=7;break}return t.next=7,r(ae.o());case 7:return t.abrupt("return");case 8:case"end":return t.stop()}},t,Vt)})),function(e,r){return t.apply(this,arguments)};var t},an=function(e){return t=l()(u.a.mark(function t(r,n){var a,s,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n(),s=e.params.thingId,r(G.o(s)),Object(Ue.B)(a)){t.next=6;break}return t.next=6,r(ae.o());case 6:if(i=n(),Object(Ue.B)(i)){t.next=9;break}return t.abrupt("return",r(G.q()));case 9:case"end":return t.stop()}},t,Vt)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/collectionCommentsPage.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/lib/makeCollectionCommentsPageKey/index.ts"),d=r("./src/reddit/actions/ad.ts"),l=r("./src/reddit/actions/badge.ts"),p=r("./src/reddit/actions/governance.ts"),b=r("./src/reddit/actions/moderatingSubreddits.ts"),f=r("./src/reddit/actions/page.ts"),O=r("./src/reddit/actions/pages/shared.ts"),m=r("./src/reddit/actions/platform.ts"),v=r("./src/reddit/actions/post.ts"),g=r("./src/reddit/actions/profile.ts"),j=r("./src/reddit/actions/shortcuts.ts"),h=r("./src/reddit/actions/subreddit.ts"),y=r("./src/reddit/actions/toaster.ts"),_=r("./src/reddit/constants/adEvents.ts"),E=r("./src/reddit/constants/parameters.ts"),x=r("./src/reddit/constants/posts.ts"),T=r("./src/reddit/endpoints/governance/posts.ts"),I=r("./src/config.ts"),S=r("./src/lib/constants/index.ts"),k=r("./src/lib/makeApiRequest/index.ts"),w=r("./src/reddit/models/RichTextJson/addRTJParam.ts");var C=function(e,t,r,n,a){return Object(k.b)(e,{data:a,endpoint:function(e,t,r){var n=I.a.gatewayUrl+"/desktopapi/v1/collection_postcomments";return r?Object(w.a)(n+"/"+e+"/"+t+"/"+r):t?Object(w.a)(n+"/"+e+"/"+t):Object(w.a)(n+"/"+e)}(t,r,n),method:S.Fa.GET})},A=r("./src/reddit/endpoints/page/subredditPage.ts"),R=r("./src/reddit/featureFlags/index.ts"),D=r("./src/reddit/helpers/canonicalUrls.ts"),P=r("./src/reddit/helpers/commentList/index.ts"),N=r("./src/reddit/helpers/getCommentsPageSort/index.ts"),L=r("./src/reddit/helpers/pixels.ts"),U=r("./src/reddit/helpers/timeApiRoute/index.ts"),M=r("./src/reddit/models/Comment/index.ts"),F=r("./src/reddit/models/Post/index.ts"),G=r("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),B=r("./src/reddit/selectors/platform.ts"),V=r("./src/reddit/selectors/postCollection.ts"),H=r("./src/reddit/selectors/posts.ts"),q=r("./src/reddit/selectors/subreddit.ts");r.d(t,"d",function(){return K}),r.d(t,"b",function(){return W}),r.d(t,"a",function(){return Q}),r.d(t,"e",function(){return Z}),r.d(t,"c",function(){return $});var K="PAGE__COLLECTIONCOMMENTSPAGE_PENDING",W="PAGE__COLLECTIONCOMMENTSPAGE_LOADED",Q="PAGE__COLLECTIONCOMMENTSPAGE_FAILED",Y=Object(o.a)(K),J=Object(o.a)(W),z=Object(o.a)(Q),X=function(e,t){var r=Object(V.i)(e,{collectionId:t});if(!r)return"";var n=Object(q.A)(e,{subredditId:r.subredditId});return n?Object(c.a)(e.user.language,"title.commentsPage",{postTitle:r.title,subreddit:n.name}):""},Z=function(e){return t=i()(a.a.mark(function t(r,n){var s,i,c,o,u,d,l,b,f,y,_,T,I,S,k,w,C,A,P,L,U;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.params,i=s.collectionId,c=s.partialPostId,o=s.partialCommentId,u=s.subredditName,d=void 0===u?"":u,l=c?Object(F.d)(c):"",b=o&&Object(M.b)(o),f=e.queryParams,y=n(),_=f.instanceId,T=Object(N.a)(f,y.user,y.posts.models[l]),I=T.hasSortParam,S=T.sortToUse,k=["context","depth","limit",E.c].reduce(function(e,t){var r=parseInt(f[t]);return isNaN(r)||(e[t]=r),e},{subredditName:d,hasSortParam:I,instanceId:_}),I&&(k.sort=S),!R.d.governance(y)){t.next=12;break}return t.next=12,r(Object(p.w)());case 12:return r(v.i(l)),t.next=15,r(re(i,l,b,k));case 15:if(!(w=n().posts.models[l])){t.next=35;break}if(C=X(n(),i),A=Object(q.y)(n(),{identifier:w.belongsTo}),w.isSponsored){t.next=30;break}if(w.belongsTo.type!==x.a.SUBREDDIT){t.next=28;break}if(P=Object(q.z)(y,{subredditId:w.belongsTo.id}),P&&P.length){t.next=26;break}return t.next=26,r(h.t(A.name));case 26:t.next=30;break;case 28:return t.next=30,r(g.i(A.name));case 30:r(m.j({title:C})),L=n().posts.instances[l]?e.queryParams.instanceId:w.postId,r(Object(j.c)(L)),t.next=36;break;case 35:r(m.j({title:Object(O.b)(n(),"frontpage")}));case 36:U=e.params.routePrefix,x.b[U]===x.a.PROFILE?Object(D.a)(n(),r,e):Object(D.b)(n(),r,e);case 38:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},$="PAGE__COLLECTIONCOMMENTSPAGE_LOADED_FULL",ee=Object(o.a)($),te=function(e,t,r,n){return s=i()(a.a.mark(function s(i,c,o){var d,l,p,b,f;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=Object(u.a)(e,t,r,n),l=c(),t=t||Object(V.h)(l,{collectionId:e}),a.next=5,C(o.apiContext(),e,t,r,n);case 5:if(p=a.sent,i(Object(m.k)(p.status)),!p.ok){a.next=17;break}if(t=t||p.body.collections[e].primaryPostId){a.next=11;break}return a.abrupt("return");case 11:b=Object(P.a)(p.body,t),i(J(Object.assign({key:d,collectionId:e,meta:l.meta,postId:t,shouldCollapse:b},p.body))),f=l.user.prefs.commentMode,i(ee({commentMode:f,key:d,postId:t})),a.next=18;break;case 17:i(z(Object.assign({error:p.error,key:d},p.body)));case 18:case"end":return a.stop()}},s,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s},re=function(e,t,r,n,s){return c=i()(a.a.mark(function i(c,o,p){var O,v,g,j,h,E,x,I,S,k,w,D,N,M,F,q,K,W,Q;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(O=Object(u.a)(e,t,r,n),v=o(),t=t||Object(V.h)(v,{collectionId:e}),g=n.subredditName,j=v.commentsPage.keyToHeadCommentId.hasOwnProperty(O),h=v.commentsPage.api.fullyLoaded[O],E=v.commentsPage.api.error[O],!(v.commentsPage.api.pending[O]||j&&!E)){a.next=12;break}return j&&!v.sidebarPromotedPosts.firstFetch&&(x=Object(B.h)(v)?G.a.COMMENTS_OVERLAY:G.a.COMMENTS,window.addEventListener("load",function(){c(Object(d.g)(x))})),h||s||c(te(e,t,r,n)),a.abrupt("return");case 12:return I=v.user.prefs.commentMode,c(Y({key:O,collectionId:e,commentMode:I,postId:t})),S=Object.assign({},n),(k=t&&Object(H.A)(o(),{postId:t}))&&k.numComments&&k.numComments>f.j&&(S.truncate=f.n),a.next=18,Object(U.a)("comments",function(){return C(p.apiContext(),e,t,r,S)});case 18:if(w=a.sent,c(Object(m.k)(w.status)),D=void 0,!w.ok){a.next=29;break}if(!(N=Object.keys(w.body.posts).filter(function(e){return!!w.body.posts[e].isMeta})).length){a.next=28;break}return a.next=26,Object(T.a)(p.apiContext(),N);case 26:(M=a.sent).ok&&(D=M.body);case 28:t=t||w.body.collections[e].primaryPostId;case 29:if(s||((F=t?Object(H.A)(o(),{postId:t}):null)&&w.body.comments&&Object.keys(w.body.comments).length<F.numComments?c(te(e,t,r,n)):w.ok&&c(ee({commentMode:I,key:O,postId:t})),q=Object(B.h)(v)?G.a.COMMENTS_OVERLAY:G.a.COMMENTS,c(Object(d.g)(q))),!w.ok){a.next=47;break}if(t){a.next=33;break}return a.abrupt("return");case 33:return K=Object(P.a)(w.body,t),c(Object(f.z)(Object.assign({commentMode:I,key:O,postId:t,meta:v.meta,governance:D,shouldCollapse:K},w.body))),a.next=37,b.c()(c,o,p);case 37:if(c(y.f(O)),W=Object(H.A)(o(),{postId:t}),Object(L.a)(W.events,_.a.CommentsView),s||!R.d.governance(o())){a.next=45;break}if(!(Q=o().posts.models[t])||"subreddit"!==Q.belongsTo.type){a.next=45;break}return a.next=45,c(Object(l.l)({subredditId:Q.belongsTo.id}));case 45:a.next=55;break;case 47:if(!g){a.next=53;break}return c(Object(f.Q)({key:O})),a.next=51,Object(U.a)("subreddit",function(){return Object(A.a)(p.apiContext(),g,{})});case 51:w=a.sent,c(Object(m.k)(w.status));case 53:c(Object(f.G)(w,g)),c(z(Object.assign({error:w.error,key:O},w.body)));case 55:case"end":return a.stop()}},i,void 0)})),function(e,t,r){return c.apply(this,arguments)};var c}},"./src/reddit/actions/pages/explore.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return w}),r.d(t,"b",function(){return C}),r.d(t,"a",function(){return A}),r.d(t,"d",function(){return U}),r.d(t,"e",function(){return M});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/react-router-redux/es/index.js"),o=r("./src/app/strings/index.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/lib/makeExplorePageKey/index.ts"),p=r("./src/lib/makeListingKey/index.ts"),b=r("./src/reddit/actions/category.ts"),f=r("./src/reddit/actions/discoveryUnit.ts"),O=r("./src/reddit/actions/page.ts"),m=r("./src/reddit/actions/platform.ts"),v=r("./src/reddit/actions/toaster.ts"),g=r("./src/reddit/constants/explore.ts"),j=r("./src/reddit/constants/page.ts"),h=r("./src/reddit/helpers/timeApiRoute/index.ts"),y=r("./src/reddit/models/Toast/index.ts"),_=r("./src/reddit/selectors/category.ts"),E=r("./src/reddit/selectors/discoveryUnit.ts"),x=r("./src/reddit/selectors/experiments.ts"),T=r("./src/reddit/selectors/listings.ts"),I=r("./src/reddit/selectors/posts.ts"),S=r("./src/reddit/selectors/user.ts"),k=function(e){return Object(o.a)(e.user.language,"title.frontpage")},w="PAGE__EXPLORE_PAGE_PENDING",C="PAGE__EXPLORE_PAGE_LOADED",A="PAGE__EXPLORE_PAGE_FAILED",R=Object(d.a)(w),D=Object(d.a)(C),P=Object(d.a)(A),N=function(e,t,r){return n=i()(a.a.mark(function n(s,i,c){var u,d,l,p,b,O,m,j,h,x,I,k,w;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=i(),d=Object(E.a)(u)){n.next=7;break}return s(P({key:e,error:{}})),l=Object(S.H)(u),s(v.e({id:"error-"+e,kind:y.a.Error,text:Object(o.a)(l,"listings.toast.error"),buttonText:Object(o.a)(l,"listings.toast.retryButton"),buttonAction:U(e,t)})),n.abrupt("return");case 7:if(p=Object(T.j)(u,{listingKey:e}),b=p?p.token:void 0,p){n.next=16;break}if(O=Object(T.h)(u,{listingKey:e}),m=Object(T.f)(u,{listingKey:e}),!O&&!m){n.next=14;break}return n.abrupt("return");case 14:n.next=24;break;case 16:if(r){n.next=20;break}return n.abrupt("return");case 20:if(j=Object(T.h)(u,{listingKey:e}),h=Object(T.i)(u,{listingKey:e,token:p.token}),!j&&!h){n.next=24;break}return n.abrupt("return");case 24:return s(R({key:e})),x=Object(_.d)(u),I=b?x.findIndex(function(e){return e.id===b})+1:0,k=x.slice(I,I+g.a),n.next=30,Promise.all(k.map(function(e){return s(f.g(d,e.name))}));case 30:w=Math.min(I+g.a-1,x.length-1),s(D({fetchedToken:b,ids:k.map(function(e){return e.id}),key:e,token:x[w].id}));case 32:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},L=function(e,t,r,n){return s=i()(a.a.mark(function s(i,c,u){var d,l,p,O,m,j,h,x,I,k,w,C;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=c(),l=Object(E.c)(d),p=Object(_.e)(d,{categoryName:r}),l&&p){a.next=8;break}return i(P({key:e,error:{}})),O=Object(S.H)(d),i(v.e({id:"error-"+e,kind:y.a.Error,text:Object(o.a)(O,"listings.toast.error"),buttonText:Object(o.a)(O,"listings.toast.retryButton"),buttonAction:U(e,t)})),a.abrupt("return");case 8:if(m=Object(T.j)(d,{listingKey:e}),j=m?m.token:void 0,h=Object(T.h)(d,{listingKey:e}),m){a.next=17;break}if(x=Object(T.f)(d,{listingKey:e}),!h&&!x){a.next=15;break}return a.abrupt("return");case 15:a.next=24;break;case 17:if(n){a.next=21;break}return a.abrupt("return");case 21:if(I=Object(T.i)(d,{listingKey:e,token:m.token}),!h&&!I){a.next=24;break}return a.abrupt("return");case 24:return i(R({key:e})),a.next=27,i(b.h(p.id));case 27:return d=c(),k=Object(_.c)(d,{categoryName:r}),w=j?k.findIndex(function(e){return e.id===j})+1:0,C=k.slice(w,w+g.b),a.next=33,Promise.all(C.map(function(e){return i(f.i(l,e.name))}));case 33:i(D({fetchedToken:j,ids:C.map(function(e){return e.id}),key:e,token:k[Math.min(w+g.b-1,k.length-1)].id}));case 34:case"end":return a.stop()}},s,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s},U=function(e,t,r){return n=i()(a.a.mark(function n(s,i,c){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([s(f.h()),s(b.g())]);case 2:return o=t.categoryName?function(){return s(L(e,t,t.categoryName,r))}:function(){return s(N(e,t,r))},n.next=5,Object(h.a)("explore",o);case 5:if(t.categoryName){n.next=10;break}return n.next=8,s(N(e,t,r));case 8:n.next=12;break;case 10:return n.next=12,s(L(e,t,t.categoryName,r));case 12:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},M=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),Object(x.c)(i)){t.next=4;break}return r(Object(c.b)("/")),t.abrupt("return");case 4:if(o=Object(l.a)(e.params),!Object(T.h)(i,{listingKey:o})){t.next=8;break}return t.abrupt("return");case 8:if(d=Object(p.a)(j.e.Popular,u.U.HOT),0!==Object(I.w)(i,{listingKey:d}).length){t.next=13;break}return t.next=13,r(O.P(d,j.e.Popular,{},!0));case 13:if(!Object(S.B)(n())){t.next=17;break}return r(Object(c.b)("/")),t.abrupt("return");case 17:return t.next=19,r(U(o,e.params));case 19:r(m.j({title:k(n())}));case 20:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/news/index.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/hero.ts"),d=r("./src/reddit/actions/news.ts"),l=r("./src/reddit/actions/pages/news/utils.ts"),p=r("./src/reddit/actions/platform.ts"),b=r("./src/reddit/actions/toaster.ts"),f=r("./src/reddit/constants/news.ts"),O=r("./src/config.ts"),m=r("./src/lib/constants/index.ts"),v=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=function(e,t){return Object(v.b)(e,{endpoint:Object(g.a)(O.a.gatewayUrl+"/desktopapi/v1/news"),method:m.Fa.GET,data:Object.assign({},t)})},h=r("./src/reddit/helpers/timeApiRoute/index.ts"),y=r("./src/reddit/models/News/index.ts"),_=r("./src/reddit/models/Toast/index.ts"),E=r("./src/reddit/routes/news/util.ts"),x=r("./src/reddit/selectors/listings.ts"),T=r("./src/reddit/selectors/news.ts");r.d(t,"c",function(){return S}),r.d(t,"b",function(){return k}),r.d(t,"a",function(){return w}),r.d(t,"d",function(){return P});var I=function(e){return Object(c.a)(e.user.language,"listings.news.title")},S="PAGE__NEWS_PENDING",k="PAGE__NEWS_LOADED",w="PAGE__NEWS_FAILED",C=Object(o.a)(S),A=Object(o.a)(k),R=Object(o.a)(w),D=function(e,t,r){var n,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n=i()(a.a.mark(function n(i,c,o){var u,d,p,f,O,m,v,g,y,_,E,I,S,k,w;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=c(),d=Object(x.d)(u,{listingKey:e}),p=u.listings.postOrder.ids[e],f=Object(x.c)(u,{listingKey:e}),!(d||p&&!f)){n.next=6;break}return n.abrupt("return");case 6:return i(C({key:e})),O=Object.assign({},Object(l.b)(t,r)),n.next=10,Object(h.a)("news",function(){return j(o.apiContext(),O)});case 10:if(m=n.sent,v="error-"+e,m.ok){n.next=14;break}return n.abrupt("return",N(e,i,u,m.error,v,t,r,s));case 14:g=m.body,y=g.account,_=g.features,E=g.posts,I=g.postIds,S=g.preferences,k=g.subreddits,w=g.subredditAboutInfo,i(A({account:y,activeCommunityIds:Object(l.a)(I,E),availableTopics:Object(T.d)(u),features:_,key:e,meta:u.meta,postIds:I,posts:E,preferences:S,subreddits:k,subredditsAboutInfo:w})),i(b.f(v));case 17:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)}},P=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,l,b,O,m,v,g,j,h,_,S,k,w,C,A,R,P,N;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(d.g());case 2:if(c=s(),o=f.g,l="",b=e.params,O=b.topic,m=void 0===O?o:O,v=b.subtopic,g=void 0===v?l:v,j=Object(T.d)(c),h=Object(E.c)(j,m,g),_=h.selectedTopic,S=h.selectedSubtopic,(m===o||_&&_.topicId!==y.a)&&(g===l||S)){r.next=10;break}return n(Object(d.e)(null,null)),r.abrupt("return");case 10:if(n(d.f({selectedTopic:_,selectedSubtopic:S})),c=s(),k=Object(T.j)(c),w=Object(T.k)(c),C=Object(x.d)(c,{listingKey:k}),A=c.listings.postOrder.ids[k],R=Object(x.c)(c,{listingKey:k}),!C&&(!A||R||t)){r.next=21;break}if(!A){r.next=20;break}return r.abrupt("return",n(p.j({title:I(c)})));case 20:return r.abrupt("return");case 21:return P=Object(T.p)(c),r.next=24,Promise.all([P?n(Object(u.d)(w,_,S)):null,n(D(k,_,S))]);case 24:return N=s(),r.abrupt("return",n(p.j({title:I(N)})));case 26:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},N=function(e,t,r,n,a,s,i,o){t(R({error:n,key:e})),o&&t(b.e({id:a,kind:_.a.Error,text:Object(c.a)(r.user.language,"listings.toast.error"),buttonText:Object(c.a)(r.user.language,"listings.toast.retryButton"),buttonAction:D(e,s,i)}))}},"./src/reddit/actions/pages/news/utils.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return c});var n=r("./src/reddit/constants/news.ts"),a=r("./src/reddit/selectors/news.ts"),s=function(e,t){var r="";if(e&&t)r=""+t.subtopicId;else if(e&&!t){r=(e.subtopics||[]).map(function(e){return e.subtopicId}).join(n.f)}return{subtopic_ids:r,limit:n.a,always_show_media:1}},i=function(e,t){for(var r=[],a=0;a<e.length;a++){var s=t[e[a]];if(s&&"subreddit"===s.belongsTo.type&&!r.includes(s.belongsTo.id)&&r.push(s.belongsTo.id),r.length===n.b)break}return r},c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=Object(a.d)(e),i=null;if(t=o(s,r)){var c=t.subtopics||[];i=o(c,n)}return{topic:t,subtopic:i}},o=function(e,t){return e.find(function(e){return e.name.toLowerCase()===t.toLowerCase()})||null}},"./src/reddit/actions/pages/originalContent.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return T}),r.d(t,"b",function(){return I}),r.d(t,"a",function(){return S}),r.d(t,"d",function(){return R});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/pick.js"),o=r.n(c),u=r("./src/app/strings/index.ts"),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/lib/makeListingKey/index.ts"),b=r("./src/reddit/actions/moderatingSubreddits.ts"),f=r("./src/reddit/actions/originalContent.ts"),O=r("./src/reddit/actions/platform.ts"),m=r("./src/reddit/actions/toaster.ts"),v=r("./src/reddit/constants/originalContent.ts"),g=r("./src/reddit/constants/page.ts"),j=r("./src/reddit/constants/parameters.ts"),h=r("./src/reddit/endpoints/page/originalContentPage.ts"),y=r("./src/reddit/helpers/timeApiRoute/index.ts"),_=r("./src/reddit/models/Toast/index.ts"),E=r("./src/reddit/actions/page.ts"),x=function(e){return Object(u.a)(e.user.language,"listings.originalContent.title")},T="PAGE__ORIGINAL_CONTENT_PAGE_PENDING",I="PAGE__ORIGINAL_CONTENT_PAGE_LOADED",S="PAGE__ORIGINAL_CONTENT_PAGE_FAILED",k=Object(l.a)(T),w=Object(l.a)(I),C=Object(l.a)(S),A=function e(t,r){return n=i()(a.a.mark(function n(s,i,c){var o,d,l,p;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),!o.listings.postOrder.api.pending[t]){n.next=4;break}return n.abrupt("return");case 4:return s(k({key:t})),n.next=7,Object(y.a)("originalContent",function(){return Object(h.a)(c.apiContext(),r)});case 7:if(d=n.sent,l="error-"+t,!d.ok){n.next=17;break}return s(w(Object.assign({key:t,meta:o.meta},d.body))),p=[b.c()(s,i,c),s(f.s(r.category)),s(f.t(r.category)),s(f.p()),s(f.r(r.category))],n.next=14,Promise.all(p);case 14:s(m.f(l)),n.next=19;break;case 17:s(C(Object.assign({error:d.error,key:t},d.body))),s(m.e({id:l,kind:_.a.Error,text:Object(u.a)(o.user.language,"listings.toast.error"),buttonText:Object(u.a)(o.user.language,"listings.toast.retryButton"),buttonAction:e(t,r)}));case 19:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},R=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,u,l,b,f,m,h,y,_,T,I,S,k;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.params,c=i.sort,u=void 0===c?d.U.HOT:c,l=i.categoryName,b=void 0===l?v.b:l,f=Object.assign({},e.queryParams,{category:b}),m=Object(p.a)(g.h,u,f),h=n(),y=h.listings.postOrder.ids[m],_=h.listings.postOrder.api.error[m],T=h.listings.postOrder.api.pending[m],I=j.n in e.queryParams&&e.queryParams[j.n].toUpperCase()||"",S=I in d.Kb&&d.Kb[I],!(T||y&&!_)){t.next=12;break}return y&&r(O.j({title:x(n())})),t.abrupt("return");case 12:return t.next=14,r(A(m,Object.assign({},o()(e.queryParams,j.h),o()(e.queryParams,j.g),{sort:u,t:Object(E.F)(u,S),category:b})));case 14:k=n(),r(O.j({title:x(k)}));case 16:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/partnerSubredditConnection.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return T}),r.d(t,"b",function(){return I}),r.d(t,"a",function(){return S}),r.d(t,"d",function(){return D});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/slicedToArray.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/react-router-redux/es/index.js"),d=r("./src/app/strings/index.ts"),l=r("./src/lib/addQueryParams/index.ts"),p=r("./src/lib/constants/index.ts"),b=r("./src/lib/makeActionCreator/index.ts"),f=r("./src/lib/makePartnerSubredditConnectionPageKey/index.ts"),O=r("./src/lib/truthyString/index.ts"),m=r("./src/reddit/actions/platform.ts"),v=r("./src/reddit/actions/profile.ts"),g=r("./src/reddit/endpoints/user/me.ts"),j=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),h=r("./src/reddit/helpers/timeApiRoute/index.ts"),y=r("./src/reddit/models/ExternalAccount/index.ts"),_=r("./src/reddit/models/User/index.ts"),E=r("./src/reddit/routes/partnerSubredditConnection/constants.ts"),x=r("./src/reddit/selectors/user.ts"),T="PARTNER_SUBREDDIT_CONNECTION__PAGE_PENDING",I="PARTNER_SUBREDDIT_CONNECTION__PAGE_LOADED",S="PARTNER_SUBREDDIT_CONNECTION__PAGE_FAILED",k=Object(b.a)(T),w=Object(b.a)(I),C=Object(b.a)(S),A=function(e){return t=o()(a.a.mark(function t(r,n,s){var c,o,u,d,l,p,b,O,m,j,y,E;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),o=Object(f.a)(e),u=c.partnerSubredditConnection.api.page.pending[o],d=c.partnerSubredditConnection.api.page.fetched[o],l=c.partnerSubredditConnection.api.page.error[o],!(u||d&&!l)){t.next=7;break}return t.abrupt("return");case 7:return k({key:o}),(p=[]).push(Object(g.a)(s.apiContext())),t.next=12,Object(h.a)("partnerSubredditConnection",function(){return Promise.all(p)});case 12:if(b=t.sent,O=i()(b,1),!(m=O[0]).ok){t.next=24;break}return j=m.body.account,r(w({account:j,key:o})),y=[],j&&(E=Object(_.d)(j),y.push(r(v.g())),y.push(r(v.h(E)))),t.next=22,Promise.all(y);case 22:t.next=25;break;case 24:r(C({error:m.error,key:o}));case 25:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},R=function(e,t){return Object(l.a)(E.a+"/"+e,t)},D=function(e){return t=o()(a.a.mark(function t(r,n,s){var i,c,o,l,b,f,v;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.queryParams,c=e.params.page,o=i.to,l=i.userId,b=i.isNsfw,f=void 0===b?"":b,l&&o&&o===y.a.Patreon){t.next=6;break}return r(Object(u.c)("/")),t.abrupt("return");case 6:return t.next=8,r(A({to:o,userId:l}));case 8:if(v=Object(x.j)(n())){t.next=14;break}return Object(j.a)(r,n()),t.abrupt("return");case 14:if(v.id===l){t.next=19;break}return r(Object(u.c)(R(p.ib.WrongUser,i))),t.abrupt("return");case 19:if(!Object(x.h)(n())&&!Object(O.a)(f)){t.next=24;break}return r(Object(u.c)(R(p.ib.NsfwUser,i))),t.abrupt("return");case 24:if(c!==p.ib.WrongUser&&c!==p.ib.NsfwUser){t.next=27;break}return r(Object(u.c)(R(p.ib.Create,i))),t.abrupt("return");case 27:r(m.j({title:(a=n(),Object(d.a)(a.user.language,"title.partnerSubredditConnection"))}));case 28:case"end":return t.stop()}var a},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/postCreation.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/slicedToArray.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/react-router-redux/es/index.js"),d=r("./src/app/strings/index.ts"),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/filterQueryParams/index.ts"),b=r("./src/lib/isFakeSubreddit/index.ts"),f=r("./src/lib/makeActionCreator/index.ts"),O=r("./src/lib/makePostCreationPageKey/index.ts"),m=r("./src/reddit/actions/externalAccount.ts"),v=r("./src/reddit/actions/governance.ts"),g=r("./src/reddit/actions/originalContent.ts"),j=r("./src/reddit/actions/platform.ts"),h=r("./src/reddit/actions/post.ts"),y=r("./src/reddit/actions/postCreation/index.ts"),_=r("./src/reddit/actions/profile.ts"),E=r("./src/reddit/actions/subreddit.ts"),x=r("./src/reddit/actions/subredditDuplicates.ts"),T=r("./src/reddit/actions/subredditSettings.ts"),I=r("./src/config.ts"),S=r("./src/lib/makeApiRequest/index.ts"),k=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),w=r("./src/reddit/featureFlags/index.ts"),C=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),A=r("./src/reddit/helpers/timeApiRoute/index.ts"),R=r("./src/reddit/helpers/trackers/postComposer.ts"),D=r("./src/reddit/models/User/index.ts"),P=r("./src/reddit/selectors/postCollection.ts"),N=r("./src/reddit/selectors/posts.ts"),L=r("./src/reddit/selectors/subreddit.ts"),U=r("./src/reddit/selectors/user.ts");r.d(t,"c",function(){return G}),r.d(t,"b",function(){return B}),r.d(t,"a",function(){return V}),r.d(t,"d",function(){return W}),r.d(t,"e",function(){return Y});var M=function(e){var t=e.user.language,r=e.platform.currentPage,n="Reddit";if(r&&r.urlParams.subredditName){var a=r.urlParams.subredditName,s=Object(L.s)(e,{subredditName:a});s&&(n=s.name)}return Object(d.a)(t,"title.submit",{subreddit:n})},F=function(e,t){var r=e.platform.lastPage;t&&r&&r.meta&&r.meta.name===l.lb.POST_CREATION&&R.t(e)},G="POST_CREATION__PAGE_PENDING",B="POST_CREATION__PAGE_LOADED",V="POST_CREATION__PAGE_FAILED",H=Object(f.a)(G),q=Object(f.a)(B),K=Object(f.a)(V),W=function(e){return t=o()(a.a.mark(function t(r,n,s){var c,o,u,d,p,f,j,h,y,x,C,R,P,N,M,F,G;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.collectionId,o=e.profileName,u=e.subredditName,d=Object(O.a)(e),p=n(),f=p.creations.api.page.pending[d],j=p.creations.api.page.fetched[d],h=p.creations.api.page.error[d],!(f||j&&!h)){t.next=8;break}return t.abrupt("return");case 8:return y=[],r(H({key:d})),y.push((a=s.apiContext(),B={subredditName:u,collectionId:c},Object(S.b)(a,{method:l.Fa.GET,endpoint:Object(k.a)(I.a.gatewayUrl+"/desktopapi/v1/submitpage"),data:{subreddit:B.subredditName,collection_id:B.collectionId}}))),u&&(!!n().subredditSettings.requirementsBySubreddit[u]||Object(b.a)(u)||y.push(r(Object(T.z)(u)))),y.push(r(g.p())),o&&(y.push(r(_.i(o))),y.push(r(_.h(o)))),t.next=16,Object(A.a)("postCreation",function(){return Promise.all(y)});case 16:if(x=t.sent,C=i()(x,1),!(R=C[0]).ok){t.next=39;break}if(P=R.body,N=P.posts,M=void 0===N?{}:N,r(q(Object.assign({key:d,meta:p.meta},P,{posts:M}))),!(F=Object(U.j)(n()))||!F.hasUserProfile){t.next=27;break}return t.next=27,r(_.i(Object(D.d)(F)));case 27:return t.next=29,r(m.o());case 29:if(!u||Object(b.a)(u)){t.next=32;break}return t.next=32,r(E.t(u));case 32:if(!u||!w.d.governance(n())){t.next=37;break}if(!(G=Object(L.v)(n(),u))){t.next=37;break}return t.next=37,r(Object(v.n)({subredditId:G}));case 37:t.next=40;break;case 39:r(K({error:R.error,key:d}));case 40:case"end":return t.stop()}var a,B},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Q=function(e,t){return r=o()(a.a.mark(function r(n,s){var i,c,o,u,d;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.subredditName,c=e.profileName,o=[],u=void 0,i?u=Object(L.v)(s(),i):c&&(u=Object(U.N)(s(),{userName:c})),u&&o.push(n(Object(x.b)(u,t))),o.push(n(Object(h.x)(t))),r.next=8,Promise.all(o);case 8:d=Object(N.e)(s(),{postId:t}),n(Object(y.Da)({postId:t,postTitle:d?d.title:""}));case 10:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)};var r},Y=function(e){return t=o()(a.a.mark(function t(r,n){var s,i,c,o,d,l,b,f;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.params,i=s.subredditName,c=s.profileName,o=e.queryParams,d=o.collection,t.next=5,r(W({collectionId:d,profileName:c,subredditName:i}));case 5:if(l=i?Object(L.s)(n(),{subredditName:i}):void 0,!o.source_id||!w.d.redesignCrosspostCreation(n())){t.next=11;break}return t.next=9,r(Q(e.params,o.source_id));case 9:t.next=12;break;case 11:d&&(b=Object(P.i)(n(),{collectionId:d}),l&&b&&b.subredditId===l.id||r(Object(u.c)(Object(p.a)(e.url,["collection"]))));case 12:if(f=n(),Object(U.B)(f)){t.next=16;break}return Object(C.a)(r,f),t.abrupt("return");case 16:F(n(),i),r(j.j({title:M(n())}));case 18:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/makePostDraftPageKey/index.ts"),u=r("./src/reddit/actions/profile.ts"),d=r("./src/config.ts"),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeApiRequest/index.ts"),b=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),f=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),O=function(e,t,r){return Object(p.b)(e,{endpoint:Object(b.a)(Object(f.a)(d.a.gatewayUrl+"/desktopapi/v1/draftpreviewpage/"+r+"/"+t)),method:l.Fa.GET})},m=r("./src/reddit/endpoints/post/draft/helpers.ts"),v=r("./src/reddit/helpers/timeApiRoute/index.ts");r.d(t,"a",function(){return g}),r.d(t,"b",function(){return _});var g="POST_DRAFT__PAGE_LOADED",j=(Object(c.a)("POST_DRAFT__PAGE_PENDING"),Object(c.a)(g)),h=Object(c.a)("POST_DRAFT__PAGE_FAILED"),y=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,d,l,p,b,f,g,y;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.draftId,c=e.profileName,d=Object(o.a)(e),l=n(),p=l.creations.api.page.pending[d],b=l.creations.api.page.fetched[d],f=l.creations.api.page.error[d],!(p||b&&!f)&&i){t.next=8;break}return t.abrupt("return");case 8:return r(u.i(c)),t.next=11,Object(v.a)("postDraft",function(){return O(s.apiContext(),i,c)});case 11:(g=t.sent).ok?((y=g.body).drafts[i].kind=Object(m.b)(y.drafts[i].kind),r(j(Object.assign({},y,{key:d})))):r(h({error:g.error,key:d}));case 13:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},_=function(e){return t=i()(a.a.mark(function t(r,n,s){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(y(e.params));case 2:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/profileComments.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/lodash/difference.js"),d=r.n(u),l=r("./node_modules/lodash/pick.js"),p=r.n(l),b=r("./src/lib/makeActionCreator/index.ts"),f=r("./src/lib/makeListingKey/index.ts"),O=r("./src/reddit/actions/externalAccount.ts"),m=r("./src/reddit/actions/moderatingSubreddits.ts"),v=r("./src/reddit/actions/page.ts"),g=r("./src/reddit/actions/pages/profileShared.ts"),j=r("./src/reddit/actions/platform.ts"),h=r("./src/reddit/actions/profile.ts"),y=r("./src/reddit/actions/subreddit.ts"),_=r("./src/reddit/constants/parameters.ts"),E=r("./src/reddit/contexts/PageLayer/index.tsx"),x=r("./src/config.ts"),T=r("./src/lib/constants/index.ts"),I=r("./src/lib/makeApiRequest/index.ts"),S=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),k=function(e,t,r){return Object(I.b)(e,{data:r,endpoint:Object(S.a)(x.a.gatewayUrl+"/desktopapi/v1/user/"+t+"/comments"),method:T.Fa.GET})},w=r("./src/reddit/helpers/timeApiRoute/index.ts"),C=r("./src/reddit/selectors/profile.ts"),A=r("./src/reddit/selectors/profileComments.ts");r.d(t,"f",function(){return R}),r.d(t,"e",function(){return D}),r.d(t,"d",function(){return P}),r.d(t,"h",function(){return M}),r.d(t,"c",function(){return F}),r.d(t,"b",function(){return G}),r.d(t,"a",function(){return B}),r.d(t,"g",function(){return K});var R="PAGE__PROFILE_COMMENTS_PENDING",D="PAGE__PROFILE_COMMENTS_LOADED",P="PAGE__PROFILE_COMMENTS_FAILED",N=Object(b.a)(R),L=Object(b.a)(D),U=Object(b.a)(P),M=function(e){return t=o()(a.a.mark(function t(r,n,s){var c,o,u,d,l,b,E,x,T,I,S,A,R,D,P,M;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.queryParams,o=e.params,u=Object(g.b)(c),d=u.sort,l=u.t,b=o.profileName,E=Object(f.a)("u_"+b,d,e.queryParams),x=n(),T=x.profileCommentsPage,I=T.commentIds[E],S=T.api.error[E],A=T.api.pending[E],t.next=10,r(h.i(b));case 10:if(!(A||I&&!S)){t.next=13;break}return I&&(R=Object(C.l)(n(),{profileName:b}),r(j.j({title:R}))),t.abrupt("return");case 13:return D=Object.assign({},p()(e.queryParams,[].concat(i()(_.h),[_.d])),{sort:d,t:Object(v.F)(d,l)}),r(N({key:E})),t.next=17,Object(w.a)("profileComments",function(){return k(s.apiContext(),b,D)});case 17:if((P=t.sent).ok){t.next=22;break}return r(U({account:P.body.data?P.body.data.account:null,error:P.body.reason?{type:P.body.reason}:P.error,key:E})),r(j.k(P.status)),t.abrupt("return");case 22:return M=P.body,r(L(Object.assign({key:E,meta:n().meta},M))),t.next=26,Promise.all([r(Object(g.c)(b)),r(Object(y.w)()),r(Object(m.b)()),r(O.o(b))]);case 26:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},F="PROFILE_COMMENTS__MORE_ITEMS_PENDING",G="PROFILE_COMMENTS__MORE_ITEMS_LOADED",B="PROFILE_COMMENTS__MORE_ITEMS_FAILED",V=Object(b.a)(F),H=Object(b.a)(G),q=Object(b.a)(B),K=function(){return e=o()(a.a.mark(function e(t,r,n){var s,i,c,o,u,l,b,O,m,v,j,h,y,x,T,I,S,w=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),(i=s.platform.currentPage)&&i.routeMatch){e.next=4;break}return e.abrupt("return");case 4:if(c=i.routeMatch.match,o=c.queryParams,u=c.params,l=Object(g.b)(o),b=l.sort,O=l.t,m=u.profileName,v=Object(f.a)("u_"+m,b,o),j=Object(A.d)(s,{listingKey:v})){e.next=11;break}return e.abrupt("return");case 11:if(h=Object(A.b)(s,{listingKey:v}),y=Object(A.c)(s,{listingKey:v}),x=y&&y[j.token],!h&&!x){e.next=16;break}return e.abrupt("return");case 16:return t(V({key:v,fetchedToken:j.token})),e.next=19,k(w(),m,Object.assign({after:j.token,dist:j.dist,sort:b,t:O},p()(o,_.h),{layout:Object(E.J)(s,{}).toLowerCase()}));case 19:(T=e.sent).ok?(I=Object(A.f)(s,{listingKey:v}),S=Object.assign({},T.body,{commentIds:d()(T.body.commentIds,I)}),t(H(Object.assign({fetchedToken:j.token,key:v,meta:s.meta},S)))):t(q({account:T.body.data?T.body.data.account:null,error:T.error,fetchedToken:j.token,key:v}));case 21:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return b}),r.d(t,"b",function(){return O});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/preferences.ts"),u=r("./src/reddit/actions/profile.ts"),d=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),l=r("./src/reddit/models/User/index.ts"),p=r("./src/reddit/selectors/user.ts"),b="PAGE__PROFILE_MOD_SETTINGS_LOADED",f=Object(c.a)(b),O=function(e){return t=i()(a.a.mark(function t(r,n){var s,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=[r(o.s()),r(Object(u.i)(e.params.profileName))],t.next=3,Promise.all(s);case 3:if(i=Object(p.j)(n())){t.next=7;break}return Object(d.a)(r,n()),t.abrupt("return");case 7:return t.next=9,r(Object(u.h)(Object(l.d)(i)));case 9:r(f());case 10:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/profileOverview.ts":function(e,t,r){"use strict";r.d(t,"f",function(){return k}),r.d(t,"e",function(){return w}),r.d(t,"d",function(){return C}),r.d(t,"c",function(){return A}),r.d(t,"b",function(){return R}),r.d(t,"a",function(){return D}),r.d(t,"g",function(){return V});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/pick.js"),o=r.n(c),u=r("./src/reddit/actions/moderatingSubreddits.ts"),d=r("./src/reddit/actions/pages/profileShared.ts"),l=r("./src/reddit/actions/subreddit.ts"),p=r("./src/reddit/endpoints/page/profileOverviewPage.ts"),b=r("./src/lib/constants/index.ts"),f=r("./src/reddit/constants/postLayout.ts"),O=r("./src/reddit/constants/parameters.ts"),m=r("./src/reddit/contexts/PageLayer/index.tsx"),v=r("./src/reddit/selectors/listings.ts"),g=r("./src/reddit/selectors/profile.ts"),j=r("./src/reddit/selectors/profileOverviewChronoItems.ts"),h=r("./src/lib/makeActionCreator/index.ts"),y=r("./src/reddit/actions/externalAccount.ts"),_=r("./src/reddit/actions/pinnedPost.ts"),E=r("./src/reddit/actions/platform.ts"),x=r("./src/reddit/actions/profile.ts"),T=r("./src/reddit/actions/trophyCase.ts"),I=r("./src/reddit/helpers/makeOverviewListingKey/index.ts"),S=r("./src/reddit/helpers/timeApiRoute/index.ts"),k="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_PENDING",w="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_LOADED",C="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_FAILED",A="PAGE__PROFILE_OVERVIEW_CHRONO_PENDING",R="PAGE__PROFILE_OVERVIEW_CHRONO_LOADED",D="PAGE__PROFILE_OVERVIEW_CHRONO_FAILED",P=Object(h.a)(k),N=Object(h.a)(w),L=Object(h.a)(C),U=Object(h.a)(A),M=Object(h.a)(R),F=Object(h.a)(D),G=function(e,t,r,n){return s=i()(a.a.mark(function n(s,i,c){var o,u,d,l,b,f,O,m;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),u=!!o.listings.postOrder.ids[e],d=!!Object(v.c)(o,{listingKey:e}),!(!!Object(v.d)(o,{listingKey:e})||u&&!d)){n.next=6;break}return n.abrupt("return");case 6:return s(P({key:e})),n.next=9,Object(S.a)("profile",function(){return Object(p.b)(c.apiContext(),t,r)});case 9:l=n.sent,b=l.body,f=b.pinned,O=b.postIds,l.ok?(s(N(Object.assign({key:e,meta:o.meta,profileName:t},b,{postIds:O}))),m=Object(g.i)(o,t),s(Object(_.h)({profileId:m,pinned:f}))):(s(L({account:l.body.data?l.body.data.account:null,error:l.body.reason?{type:l.body.reason}:l.error,key:e})),s(Object(E.k)(l.status)));case 13:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s},B=function(e,t,r,n){return s=i()(a.a.mark(function n(s,i,c){var o,u,d,l,b,f,O;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),u=!!Object(j.f)(o,{listingKey:e}).length,d=!!Object(j.a)(o,{listingKey:e}),!(!!Object(j.b)(o,{listingKey:e})||u&&!d)){n.next=6;break}return n.abrupt("return");case 6:return s(U({key:e})),n.next=9,Object(S.a)("profile",function(){return Object(p.a)(c.apiContext(),t,r)});case 9:l=n.sent,b=l.body,f=b.pinned,l.ok?(s(M(Object.assign({key:e,meta:o.meta},b))),O=Object(g.i)(o,t),s(Object(_.h)({profileId:O,pinned:f}))):(s(F({account:l.body.data?l.body.data.account:null,error:l.body.reason?{type:l.body.reason}:l.error,key:e})),s(Object(E.k)(l.status)));case 13:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s},V=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,p,v,j,h,_,S,k,w,C,A,R;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.queryParams,c=e.params,p=Object(d.a)(n(),i),v=p.sort,j=p.t,h=c.profileName,_=f.c[Object(m.J)(n(),{})],S=h.toLowerCase(),k=Object.assign({},o()(e.queryParams,O.h),{sort:v,layout:_,t:j}),t.next=8,r(x.i(S));case 8:if(_!==f.c[f.e.Compact]){t.next=16;break}if(w=Object(I.a)(S,b.Oa,v,e.queryParams),!n().profileOverviewPage.chrono.ids[w]){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,r(B(w,S,k));case 14:t.next=21;break;case 16:if(C=Object(I.a)(S,b.Pa,v,e.queryParams),!n().listings.postOrder.ids[C]||n().listings.postOrder.api.error[C]){t.next=19;break}return t.abrupt("return");case 19:return t.next=21,r(G(C,S,k));case 21:return t.next=23,r(Object(l.w)());case 23:return t.next=25,r(Object(u.b)());case 25:if((A=n()).platform.currentPage){t.next=28;break}return t.abrupt("return");case 28:if(200===A.platform.currentPage.status){t.next=30;break}return t.abrupt("return");case 30:return R=Object(g.i)(n(),S),t.next=33,r(T.b(S,R));case 33:return r(E.j({title:H(n(),h)})),t.next=36,r(x.h(S));case 36:return t.next=38,r(y.o(h));case 38:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},H=function(e,t){return Object(g.l)(e,{profileName:t})}},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/lodash/pick.js"),d=r.n(u),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/lib/makeListingKey/index.ts"),b=r("./src/reddit/actions/externalAccount.ts"),f=r("./src/reddit/actions/moderatingSubreddits.ts"),O=r("./src/reddit/actions/page.ts"),m=r("./src/reddit/actions/pages/profileShared.ts"),v=r("./src/reddit/actions/pinnedPost.ts"),g=r("./src/reddit/actions/platform.ts"),j=r("./src/reddit/actions/profile.ts"),h=r("./src/reddit/actions/subreddit.ts"),y=r("./src/reddit/constants/parameters.ts"),_=r("./src/reddit/contexts/PageLayer/index.tsx"),E=r("./src/config.ts"),x=r("./src/lib/constants/index.ts"),T=r("./src/lib/makeApiRequest/index.ts"),I=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),S=function(e,t,r){return Object(T.b)(e,{data:r,endpoint:Object(I.a)(E.a.gatewayUrl+"/desktopapi/v1/user/"+t+"/posts"),method:x.Fa.GET}).then(function(e){return"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(function(t){return e.body.posts[t]&&e.body.posts[t].isPinned}).reverse()})}):e})},k=r("./src/reddit/helpers/timeApiRoute/index.ts"),w=r("./src/reddit/selectors/listings.ts"),C=r("./src/reddit/selectors/profile.ts");r.d(t,"f",function(){return A}),r.d(t,"e",function(){return R}),r.d(t,"d",function(){return D}),r.d(t,"h",function(){return U}),r.d(t,"c",function(){return M}),r.d(t,"b",function(){return F}),r.d(t,"a",function(){return G}),r.d(t,"g",function(){return q});var A="PAGE__PROFILE_POSTS_PENDING",R="PAGE__PROFILE_POSTS_LOADED",D="PAGE__PROFILE_POSTS_FAILED",P=Object(l.a)(A),N=Object(l.a)(R),L=Object(l.a)(D),U=function(e){return t=o()(a.a.mark(function t(r,n,s){var c,o,u,l,E,x,T,I,A,R,D,U,M,F,G,B,V;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.queryParams,o=e.params,u=Object(m.b)(c),l=u.sort,E=u.t,x=o.profileName,T=Object(p.a)("u_"+x,l,c),I=n(),A=I.listings.postOrder.ids[T],R=Object(w.c)(I,{listingKey:T}),D=Object(w.d)(I,{listingKey:T}),t.next=10,r(j.i(x));case 10:if(!(D||A&&!R)){t.next=13;break}return A&&(U=Object(C.l)(n(),{profileName:x}),r(g.j({title:U}))),t.abrupt("return");case 13:return M=Object.assign({},d()(e.queryParams,[].concat(i()(y.h),i()(y.g),[y.d])),{layout:Object(_.J)(I,{}).toLowerCase(),sort:l,t:Object(O.F)(l,E)}),r(P({key:T})),t.next=17,Object(k.a)("profilePosts",function(){return S(s.apiContext(),x,M)});case 17:if((F=t.sent).ok){t.next=22;break}return r(L({account:F.body.data?F.body.data.account:null,error:F.body.reason?{type:F.body.reason}:F.error,key:T})),r(g.k(F.status)),t.abrupt("return");case 22:return G=F.body,r(N(Object.assign({key:T,meta:n().meta},G))),B=Object(C.i)(n(),x),V=G.pinned,r(Object(v.h)({profileId:B,pinned:V})),t.next=29,Promise.all([r(Object(m.c)(x)),r(Object(h.w)()),r(Object(f.b)()),r(b.o(x))]);case 29:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},M="PROFILE_POSTS__MORE_POSTS_PENDING",F="PROFILE_POSTS__MORE_POSTS_LOADED",G="PROFILE_POSTS__MORE_POSTS_FAILED",B=Object(l.a)(M),V=Object(l.a)(F),H=Object(l.a)(G),q=function(){return e=o()(a.a.mark(function e(t,r,n){var s,i,c,o,u,l,b,f,O,v,g,j,h,E,x,T,I,k,C=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),(i=s.platform.currentPage)&&i.routeMatch){e.next=4;break}return e.abrupt("return");case 4:if(c=i.routeMatch.match,o=c.queryParams,u=c.params,l=Object(m.b)(o),b=l.sort,f=l.t,O=u.profileName,v=Object(p.a)("u_"+O,b,o),g=Object(w.g)(s,{listingKey:v})){e.next=11;break}return e.abrupt("return");case 11:if(j=Object(w.d)(s,{listingKey:v}),h=Object(w.e)(s,{listingKey:v,token:g.token}),!j&&!h){e.next=15;break}return e.abrupt("return");case 15:return t(B({key:v,fetchedToken:g.token})),E=Object.assign({after:g.token,dist:g.dist,sort:b,t:f},d()(o,y.h),{layout:Object(_.J)(s,{}).toLowerCase()}),e.next=19,S(C(),O,E);case 19:if(x=e.sent,T=s.listings.postOrder.ids[v],I=x.body.postIds||[],k=Object.assign({},x.body,{postIds:I.filter(function(e){return!T||!T.includes(e)})}),x.ok){e.next=26;break}return t(H({account:x.body.data?x.body.data.account:null,error:x.error,fetchedToken:g.token,key:v})),e.abrupt("return");case 26:return t(V(Object.assign({fetchedToken:g.token,key:v,meta:s.meta},k))),e.next=29,t(Object(m.c)(O));case 29:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/pages/profileShared.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return g}),r.d(t,"a",function(){return j}),r.d(t,"c",function(){return h});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/defaults.js"),o=r.n(c),u=r("./node_modules/lodash/pick.js"),d=r.n(u),l=r("./src/reddit/actions/platform.ts"),p=r("./src/reddit/actions/profile.ts"),b=r("./src/reddit/actions/trophyCase.ts"),f=r("./src/reddit/featureFlags/index.ts"),O=r("./src/reddit/selectors/profile.ts"),m=r("./src/lib/constants/index.ts"),v={sort:m.eb,t:m.fb};function g(e){return o()(d()(e,["t","sort"]),v)}function j(e,t){return f.d.redesignProfilesOverviewSorting(e)?g(t):v}var h=function(e){return t=i()(a.a.mark(function t(r,n,s){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r(y(e)),r(_(e))]);case 2:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},y=function(e){return t=i()(a.a.mark(function t(r,n,s){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(O.i)(n(),e),t.next=3,r(b.b(e,i));case 3:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},_=function(e){return t=i()(a.a.mark(function t(r,n,s){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(O.l)(n(),{profileName:e}),r(l.j({title:i})),t.next=4,r(p.h(e));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/pages/shared.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return b}),r.d(t,"a",function(){return f});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),u=r("./src/reddit/helpers/routeKey/index.ts"),d=r("./src/reddit/helpers/trackers/screenview.ts"),l=r("./src/telemetry/index.ts"),p=r("./src/telemetry/models/Timer.ts"),b=function(e,t){var r=e.user.language;return Object(c.a)(r,"title."+t)},f=function(){return e=i()(a.a.mark(function e(t,r){var n,s,i,c,b;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),s=n.platform.currentPage){e.next=4;break}return e.abrupt("return");case 4:i=s.routeMatch,c=Object(o.a)(n,i),(b=Object(u.c)(i,n,c))&&l.c.has(b)&&Object(d.f)(i,n,p.TimerType.InApp,l.c.end(b));case 8:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e}},"./src/reddit/actions/pinnedPost.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return h}),r.d(t,"h",function(){return y}),r.d(t,"d",function(){return _}),r.d(t,"g",function(){return E}),r.d(t,"c",function(){return I}),r.d(t,"f",function(){return S}),r.d(t,"b",function(){return C}),r.d(t,"e",function(){return A}),r.d(t,"i",function(){return F});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/slicedToArray.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/app/strings/index.ts"),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/reddit/actions/modal.ts"),b=r("./src/reddit/actions/toaster.ts"),f=r("./src/reddit/constants/modals.ts"),O=r("./src/reddit/endpoints/post/index.tsx"),m=r("./src/reddit/models/Toast/index.ts"),v=r("./src/reddit/selectors/posts.ts"),g=r("./src/reddit/selectors/profile.ts"),j=r("./src/reddit/selectors/user.ts"),h="PINNEDPOST__PINNED_POSTS_LOADED",y=Object(l.a)(h),_="PINNEDPOST__PIN_POST_SUCCESS",E="PINNEDPOST__UNPIN_POST_SUCCESS",x=Object(l.a)(_),T=Object(l.a)(E),I="PINNEDPOST__PIN_POST_PENDING",S="PINNEDPOST__UNPIN_POST_PENDING",k=Object(l.a)(I),w=Object(l.a)(S),C="PINNEDPOST__PIN_POST_FAILURE",A="PINNEDPOST__UNPIN_POST_FAILURE",R=Object(l.a)(C),D=Object(l.a)(A),P=function(e,t){return Object(b.e)({buttonAction:F(t,!0),buttonText:Object(u.a)(e,"posts.postPinnedUndo"),kind:m.a.SuccessMod,text:Object(u.a)(e,"posts.postPinned")})},N=function(e,t,r){return Object(b.e)({buttonAction:F(t,!0),buttonText:Object(u.a)(e,"posts.postUnpinnedUndo"),kind:m.a.SuccessMod,text:Object(u.a)(e,r?"posts.postUnpinnedReloadPage":"posts.postUnpinned")})},L=function(e){return Object(b.e)({kind:m.a.Error,text:Object(u.a)(e,"posts.couldNotPinPost")})},U=function(e){return Object(b.e)({kind:m.a.Error,text:Object(u.a)(e,"posts.couldNotPinPostRemovedPost")})},M=function(e){return Object(b.e)({kind:m.a.Error,text:Object(u.a)(e,"posts.couldNotUnpinPost")})},F=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=o()(a.a.mark(function t(n,s,c){var o,u,l,b,m,h,y,_,E,I,S,C,A,F,G,B=c.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=s(),u=o.posts.models[e]){t.next=4;break}return t.abrupt("return");case 4:if(l=!Object(v.q)(o,{postId:e}),b=Object(j.H)(o),!l||!u.isRemoved){t.next=8;break}return t.abrupt("return",n(U(b)));case 8:if(m=u.author,h=Object(g.i)(o,m),y=l?[k,x,R,P,L]:[w,T,D,N,M],_=i()(y,5),E=_[0],I=_[1],S=_[2],C=_[3],A=_[4],!l){t.next=16;break}if(!(Object(v.H)(o,{profileName:m}).length>=d.Z)){t.next=16;break}return n(Object(p.j)(f.a.PINNED_POSTS_LIMIT_REACHED)),t.abrupt("return");case 16:return F=Object(v.l)(o,e,m),G=!l&&F,n(E({postId:e,profileId:h})),t.next=22,Object(O.q)(B(),e,l,!0);case 22:t.sent.ok?(n(I({postId:e,profileId:h})),r||n(C(b,e,G))):(n(S({postId:e,profileId:h})),n(A(b)));case 24:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/platform.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return O}),r.d(t,"c",function(){return m}),r.d(t,"d",function(){return v}),r.d(t,"e",function(){return g}),r.d(t,"g",function(){return j}),r.d(t,"h",function(){return h}),r.d(t,"k",function(){return E}),r.d(t,"j",function(){return x}),r.d(t,"i",function(){return T}),r.d(t,"f",function(){return I});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/areUrlsEqual/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/logs/errors.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/lib/matchRoute/index.ts"),p=r("./src/reddit/constants/listings.ts"),b=r("./src/reddit/helpers/routeKey/index.ts"),f="PLATFORM__HISTORY_LOCATION_SET",O="PLATFORM__INITIAL_REFERRER_SET",m="PLATFORM__NAVIGATION_CONFIRMATION_REQUESTED",v="PLATFORM__PAGE_META_SET",g="PLATFORM__PAGE_STATUS_SET",j=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n().platform.currentPage){t.next=3;break}return t.abrupt("return");case 3:(c=Object(l.a)(i.url,e))&&c.route.action(c.match)(r,n,s);case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},h=function(e,t,r){return n=i()(a.a.mark(function n(s,i,u){var d,l,f,O,m;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(d=i().platform.currentPage,(!r||r.route.chunk===o.r.SUBREDDIT&&p.a.has(r.match.params.subredditName.toLowerCase()))&&window.location.replace("https://www.reddit.com"+e.pathname+e.search),l=r?Object(b.d)(r,i()):null,f=i(),O=f.user,s(y({action:t,listingKey:l,location:e,routeMatch:r,user:O})),!d||!Object(c.a)(d.url,e)){n.next=7;break}return n.abrupt("return");case 7:if(!r){n.next=11;break}return m=r.match,n.next=11,r.route.action(m)(s,i,u);case 11:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},y=Object(d.a)(f),_=(Object(d.a)(O),Object(d.a)(v)),E=Object(d.a)(g),x=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.platform.currentPage){t.next=4;break}return t.abrupt("return");case 4:return o=c.key,t.next=7,r(_({key:o,meta:e}));case 7:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},T=Object(d.a)(m),I=function(){return e=i()(a.a.mark(function e(t,r,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(window!==window.parent){e.next=4;break}return e.abrupt("return");case 4:Object(u.b)(n.apiContext(),{extra:{errorType:o.s.NOT_ALLOWED_ACCESS,value:"Page was unexpectedly loaded inside iframe"}});try{window.top.location.href=window.location.href}catch(e){}case 6:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/polls.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=r("./src/lib/makeActionCreator/index.ts"),a="POLLS__POLL_CREATION_UPDATED",s=Object(n.a)(a)},"./src/reddit/actions/post.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return q}),r.d(t,"d",function(){return K}),r.d(t,"f",function(){return W}),r.d(t,"e",function(){return Q}),r.d(t,"n",function(){return Y}),r.d(t,"h",function(){return z}),r.d(t,"y",function(){return Z}),r.d(t,"D",function(){return $}),r.d(t,"A",function(){return ee}),r.d(t,"G",function(){return re}),r.d(t,"m",function(){return ne}),r.d(t,"u",function(){return se}),r.d(t,"v",function(){return ie}),r.d(t,"a",function(){return ce}),r.d(t,"b",function(){return oe}),r.d(t,"w",function(){return be}),r.d(t,"j",function(){return fe}),r.d(t,"z",function(){return Oe}),r.d(t,"t",function(){return me}),r.d(t,"q",function(){return ve}),r.d(t,"C",function(){return ge}),r.d(t,"s",function(){return je}),r.d(t,"r",function(){return he}),r.d(t,"l",function(){return ye}),r.d(t,"E",function(){return _e}),r.d(t,"F",function(){return Ee}),r.d(t,"p",function(){return Te}),r.d(t,"g",function(){return Ie}),r.d(t,"k",function(){return ke}),r.d(t,"i",function(){return we}),r.d(t,"B",function(){return Ce}),r.d(t,"x",function(){return Re}),r.d(t,"o",function(){return De});var n=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/defineProperty.js"),o=r.n(c),u=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),d=r.n(u),l=r("./src/config.ts"),p=r("./node_modules/js-cookie/src/js.cookie.js"),b=r.n(p),f=r("./src/app/strings/index.ts"),O=r("./src/lib/copyToClipboard/index.ts"),m=r("./src/lib/makeActionCreator/index.ts"),v=r("./src/reddit/actions/platform.ts"),g=r("./src/reddit/actions/vote.ts"),j=r("./src/reddit/constants/cookie.ts"),h=r("./src/reddit/constants/history.ts"),y=r("./src/reddit/constants/posts.ts"),_=r("./src/reddit/actions/video.ts"),E=r("./src/reddit/endpoints/post/index.tsx"),x=r("./src/lib/constants/index.ts"),T=r("./src/lib/makeListingKey/index.ts"),I=r("./node_modules/react-router-redux/es/index.js"),S=r("./src/reddit/actions/modal.ts"),k=r("./src/reddit/actions/toaster.ts"),w=r("./src/reddit/components/AccountManagerModal/index.tsx"),C=r("./src/reddit/constants/adEvents.ts"),A=r("./src/reddit/endpoints/page/commentsPage.ts"),R=r("./src/reddit/helpers/pixels.ts"),D=r("./src/reddit/helpers/trackers/post.ts"),P=r("./src/reddit/models/Flair/index.ts"),N=r("./src/reddit/models/Toast/index.ts"),L=r("./src/reddit/models/User/index.ts"),U=r("./src/reddit/models/Vote/index.ts"),M=r("./src/reddit/selectors/platform.ts"),F=r("./src/reddit/selectors/user.ts"),G=r("./src/reddit/constants/viewabilityEvents.ts"),B=r("./src/reddit/selectors/posts.ts"),V=r("./src/telemetry/index.ts"),H=void 0,q="POST__EXPANDED_TOGGLED",K="POST__FOCUS_CHANGED",W="POSTS__MUTATED",Q="POSTS_LOADED",Y=Object(m.a)(q),J=(Object(m.a)(K),Object(m.a)(Q)),z="POST__STICKY_POST_SUCCESS",X=Object(m.a)(z),Z=Object(m.a)(W),$=function e(t,r,n,a){return s=d()(i.a.mark(function s(c,u,d){var l,p,b,O,m,v,g=d.apiContext;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(Object(F.B)(u())){s.next=3;break}return c(Object(S.j)(w.b)),s.abrupt("return");case 3:if(c(Z(o()({},t,{hidden:r}))),l=u(),p=Object(F.H)(l),b=void 0,!r){s.next=13;break}return s.next=10,Object(E.g)(g(),t);case 10:b=s.sent,s.next=16;break;case 13:return s.next=15,Object(E.r)(g(),t);case 15:b=s.sent;case 16:b.ok?a&&(m=r?Object(f.a)(p,"posts.hiddenSuccess"):Object(f.a)(p,"posts.unhiddenSuccess"),v=Object(k.d)(m,N.a.Undo,Object(f.a)(p,"posts.hiddenUndo"),e(t,!r,n,!1)),c(Object(k.e)(v))):(c(Z(o()({},t,{hidden:!r}))),a&&(O=Object(k.d)(Object(f.a)(p,"error.generic"),N.a.Error),c(Object(k.e)(O))));case 17:case"end":return s.stop()}},s,H)})),function(e,t,r){return s.apply(this,arguments)};var s},ee=function e(t){return r=d()(i.a.mark(function r(n,a,s){var c,u,d,l,p,b=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a().posts.models[t]){r.next=3;break}return r.abrupt("return");case 3:if(Object(F.B)(a())){r.next=7;break}return n(Object(S.j)(w.b)),n(Object(S.m)({actionSource:"save",redirectUrl:c.permalink})),r.abrupt("return");case 7:return u=c.saved?E.v:E.n,n(Z(o()({},t,{saved:!c.saved}))),r.next=11,u(b(),t);case 11:r.sent.ok?(d=Object(F.H)(a()),l=c.saved?Object(f.a)(d,"posts.unsavedSuccess"):Object(f.a)(d,"posts.savedSuccess"),p=Object(k.d)(l,N.a.Undo,Object(f.a)(d,"posts.savedUndo"),e(t)),n(Object(k.e)(p))):n(Z(o()({},t,{saved:c.saved})));case 13:case"end":return r.stop()}},r,H)})),function(e,t,n){return r.apply(this,arguments)};var r},te=function(e,t){return t().posts.models[e]},re=Object(g.b)(te,U.a.upvoted),ne=Object(g.b)(te,U.a.downvoted),ae=function(e){return"viewing-"+e},se=function(e){return t=d()(i.a.mark(function t(r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n(),D.g(a,e),V.c.start(ae(e));case 3:case"end":return t.stop()}},t,H)})),function(e,r){return t.apply(this,arguments)};var t},ie=function(e,t){return r=d()(i.a.mark(function r(n,a){var s,c,o;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:s=a(),c=ae(e),V.c.has(c)&&(o=V.c.end("viewing-"+e),!t&&o>l.a.telemetry.postConsumedThreshold&&D.a(s,e,o));case 3:case"end":return r.stop()}},r,H)})),function(e,t){return r.apply(this,arguments)};var r},ce="AD__IMPRESSION",oe="AD__VIEWABLE_IMPRESSION",ue=Object(m.a)(ce),de=Object(m.a)(oe),le=function(e){return t=d()(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isSponsored){t.next=2;break}return t.abrupt("return");case 2:Object(R.a)(e.events,C.a.Impression),r(ue({postId:e.id}));case 4:case"end":return t.stop()}},t,H)})),function(e){return t.apply(this,arguments)};var t},pe=function(e){return t=d()(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isSponsored){t.next=2;break}return t.abrupt("return");case 2:Object(R.a)(e.events,C.a.ViewableImpression),r(de({postId:e.id}));case 4:case"end":return t.stop()}},t,H)})),function(e){return t.apply(this,arguments)};var t},be=function(e,t){return r=d()(i.a.mark(function r(n,a){var s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isSponsored){r.next=2;break}return r.abrupt("return");case 2:if(!(s=e.media&&"video"===e.media.type)||t!==G.a.VideoViewable){r.next=6;break}return n(Object(_.B)(e.id)),r.abrupt("return");case 6:if(!s||t!==G.a.VideoFullyViewable){r.next=9;break}return n(Object(_.A)(e.id)),r.abrupt("return");case 9:if(t!==G.a.Impression){r.next=13;break}return n(le(e)),D.f(a(),e.id),r.abrupt("return");case 13:n(pe(e));case 14:case"end":return r.stop()}},r,H)})),function(e,t){return r.apply(this,arguments)};var r},fe=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,u,d=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=s.posts.models[e],u=s.user.account?s.user.account.displayText:null,c){t.next=5;break}return t.abrupt("return");case 5:return r(Z(o()({},e,{approvedBy:u,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null}))),t.next=8,Object(E.b)(d(),e);case 8:t.sent.ok||r(Z(o()({},e,{approvedBy:null,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam,modNote:c.modNote,numReports:c.numReports||null,modRemovalReason:c.modRemovalReason,modReasonBy:c.modReasonBy})));case 10:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},Oe=function(e,t){return r=d()(i.a.mark(function r(n,a,s){var c,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a(),u=c.posts.models[e],d=c.user.account?c.user.account.displayText:null,u&&d){r.next=5;break}return r.abrupt("return");case 5:return n(Z(o()({},e,{approvedBy:null,bannedBy:d,isApproved:!1,isRemoved:!t,isSpam:t}))),r.next=8,Object(E.l)(l(),e,t);case 8:r.sent.ok||n(Z(o()({},e,{approvedBy:u.approvedBy,bannedBy:u.bannedBy,isApproved:u.isApproved,isRemoved:u.isRemoved,isSpam:u.isSpam})));case 10:case"end":return r.stop()}},r,H)})),function(e,t,n){return r.apply(this,arguments)};var r},me=function(e,t,r){return n=d()(i.a.mark(function n(a,s,c){var u,d,l,p,b,O,m=c.apiContext;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=s(),d=u.posts.models[e],l=Object(F.H)(u),d){n.next=5;break}return n.abrupt("return");case 5:return a(Z(o()({},e,{hidden:!0}))),n.next=8,Object(E.c)(m(),e);case 8:n.sent.ok?(b=Object(k.d)(Object(f.a)(l,"posts.deleteSuccess"),N.a.SuccessMod),r?a(Object(I.b)(t.state[h.a.CloseLocation])):(O=Object(M.f)(u))&&a(Object(I.b)(O.url)),a(Object(k.e)(b))):(a(Z(o()({},e,{hidden:!1}))),p=Object(k.d)(Object(f.a)(l,"error.generic"),N.a.Error),a(Object(k.e)(p)));case 10:case"end":return n.stop()}},n,H)})),function(e,t,r){return n.apply(this,arguments)};var n},ve=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,u=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n().posts.models[e]){t.next=3;break}return t.abrupt("return");case 3:return c=s.isLocked?E.t:E.i,r(Z(o()({},e,{isLocked:!s.isLocked}))),t.next=7,c(u(),e);case 7:t.sent.ok||r(Z(o()({},e,{isLocked:s.isLocked})));case 9:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},ge=function(e){return t=d()(i.a.mark(function t(r,n,s){var c,u,d,l=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n().posts.models[e]){t.next=3;break}return t.abrupt("return");case 3:return u=c.isSpoiler?E.w:E.p,d=c.isSpoiler?c.flair.filter(function(e){return e.type!==P.e.Spoiler}):[].concat(a()(c.flair),[{text:"spoiler",type:P.e.Spoiler}]),r(Z(o()({},e,{isSpoiler:!c.isSpoiler,flair:d}))),t.next=8,u(l(),e);case 8:t.sent.ok||r(Z(o()({},e,{isSpoiler:c.isSpoiler,flair:c.flair})));case 10:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},je=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=Object(B.A)(n(),{postId:e})){t.next=3;break}return t.abrupt("return");case 3:return r(Z(o()({},e,{isOriginalContent:!s.isOriginalContent}))),t.next=6,Object(E.k)(c(),e,!s.isOriginalContent);case 6:t.sent.ok||r(Z(o()({},e,{isOriginalContent:s.isOriginalContent})));case 8:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},he=function(e){return t=d()(i.a.mark(function t(r,n,s){var c,u,d,l=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n().posts.models[e]){t.next=3;break}return t.abrupt("return");case 3:return u=c.isNSFW?E.u:E.j,d=c.isNSFW?c.flair.filter(function(e){return e.type!==P.e.Nsfw}):[].concat(a()(c.flair),[{text:"nsfw",type:P.e.Nsfw}]),r(Z(o()({},e,{isNSFW:!c.isNSFW,flair:d}))),t.next=8,u(l(),e);case 8:if(t.sent.ok){t.next=13;break}r(Z(o()({},e,{isNSFW:c.isNSFW,flair:c.flair}))),t.next=15;break;case 13:return t.next=15,r(Ae(e));case 15:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},ye=function(e,t){return r=d()(i.a.mark(function r(n,a,s){var c,u,d=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a().posts.models[e]){r.next=3;break}return r.abrupt("return");case 3:return u=x.h[t],n(Z(o()({},e,{distinguishType:t}))),r.next=7,Object(E.d)(d(),e,u);case 7:r.sent.ok||n(Z(o()({},e,{distinguishType:c.distinguishType})));case 9:case"end":return r.stop()}},r,H)})),function(e,t,n){return r.apply(this,arguments)};var r},_e=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,u,d=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=s.posts.models[e]){t.next=4;break}return t.abrupt("return");case 4:return u=c.ignoreReports?E.s:E.h,r(Z(o()({},e,{ignoreReports:!c.ignoreReports}))),t.next=8,u(d(),e);case 8:t.sent.ok||r(Z(o()({},e,{ignoreReports:c.ignoreReports})));case 10:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},Ee=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,u,d,l,p,b,f,O,m=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=s.posts.models[e]){t.next=4;break}return t.abrupt("return");case 4:return u=!c.isStickied,r(Z(o()({},e,{isStickied:u}))),d=s.subredditStickyPosts.data[c.belongsTo.id],l=void 0,u&&d&&d.length>=2&&(l=d[1],r(Z(o()({},l,{isStickied:!1})))),t.next=11,Object(E.q)(m(),e,u,!1);case 11:t.sent.ok?(p=c.belongsTo.id,b=xe(e,u,s.subredditStickyPosts.data[c.belongsTo.id]),f=s.subreddits.models[p].name,O=Object(T.a)(f,x.V,{}),r(X({newStickiedPostList:b,subredditId:p,listingKey:O}))):(r(Z(o()({},e,{isStickied:c.isStickied}))),l&&r(Z(o()({},l,{isStickied:!0}))));case 13:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},xe=function(e,t,r){var n=r?[].concat(a()(r)):[];return t?(n.length>=2&&n.splice(1,1,e),n):n.filter(function(t){return t!==e})},Te=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,o;a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n().user.language,Object(O.a)(e)?(c=Object(k.d)(Object(f.a)(s,"posts.copyLinkSuccess"),N.a.SuccessCommunity),r(Object(k.e)(c))):(o=Object(k.d)(Object(f.a)(s,"error.generic"),N.a.Error),r(Object(k.e)(o)));case 3:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},Ie="PREFERENCES__RECENT_POSTS_UPDATED",Se=Object(m.a)(Ie),ke=function(){return e=d()(i.a.mark(function e(t,r){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r()).user.account){e.next=3;break}return e.abrupt("return");case 3:a=Object(L.d)(n.user.account),b.a.remove(""+a+j.h,{domain:l.a.cookieDomain}),t(Se({postIds:[]}));case 6:case"end":return e.stop()}},e,H)})),function(t,r){return e.apply(this,arguments)};var e},we=function(e){return t=d()(i.a.mark(function t(r,n){var a,s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=n()).user.account&&a.user.account.showRecentPosts&&!(a.posts.recent.indexOf(e)>-1)){t.next=3;break}return t.abrupt("return");case 3:s=Object(L.d)(a.user.account),(c=a.posts.recent?a.posts.recent.slice(0):[]).push(e),c.length>y.e&&c.shift(),b.a.set(""+s+j.h,""+encodeURIComponent(c.join(",")),{domain:l.a.cookieDomain}),r(Se({postIds:c}));case 9:case"end":return t.stop()}},t,H)})),function(e,r){return t.apply(this,arguments)};var t},Ce=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,u=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().posts.models[e],c=!s.sendReplies,r(Z(o()({},e,{sendReplies:c}))),t.next=5,Object(E.o)(u(),e,c);case 5:t.sent.ok||r(Z(o()({},e,{sendReplies:!c})));case 7:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},Ae=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(B.A)(n(),{postId:e})){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(A.a)(a.apiContext(),e,void 0,{limit:1,truncate:0});case 4:s=t.sent,r(Object(v.k)(s.status)),s.ok&&(c=s.body,r(J(c.posts)));case 7:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t},Re=function(e){return t=d()(i.a.mark(function t(r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(Ae(e));case 2:if(!(a=Object(B.A)(n(),{postId:e}))||!a.crosspostRootId){t.next=6;break}return t.next=6,r(Ae(a.crosspostRootId));case 6:case"end":return t.stop()}},t,H)})),function(e,r){return t.apply(this,arguments)};var t},De=function(e){return t=d()(i.a.mark(function t(r,n,a){var s,c,u,d=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),Object(F.B)(s)){t.next=4;break}return r(Object(S.j)(w.a)),t.abrupt("return");case 4:if(c=Object(B.A)(s,{postId:e})){t.next=7;break}return t.abrupt("return");case 7:return r(Z(o()({},e,{isFollowed:!c.isFollowed}))),t.next=10,Object(E.f)(d(),e,!c.isFollowed);case 10:t.sent.ok||(r(Z(o()({},e,{isFollowed:c.isFollowed}))),u=Object(F.H)(s),r(Object(k.e)({kind:N.a.Error,text:Object(f.a)(u,"posts.event.followFailed")})));case 12:case"end":return t.stop()}},t,H)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/postCollection.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/react-router-redux/es/index.js"),o=r("./src/app/strings/index.ts"),u=r("./src/lib/filterQueryParams/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/actions/toaster.ts"),p=r("./src/reddit/constants/history.ts"),b=r("./src/lib/constants/index.ts"),f=r("./src/lib/makeApiRequest/index.ts"),O=r("./src/lib/omitHeaders/index.ts"),m=r("./src/reddit/constants/headers.ts"),v=function(e,t,r){return Object(f.b)(Object(O.a)(e,[m.a]),{endpoint:e.apiUrl+"/api/v1/collections/add_post_to_collection.json",method:b.Fa.POST,data:{collection_id:t,link_fullname:r}})},g=function(e,t,r){return Object(f.b)(Object(O.a)(e,[m.a]),{endpoint:e.apiUrl+"/api/v1/collections/create_collection.json",method:b.Fa.POST,data:{title:t,sr_fullname:r}})},j=function(e,t){return Object(f.b)(Object(O.a)(e,[m.a]),{endpoint:e.apiUrl+"/api/v1/collections/delete_collection.json",method:b.Fa.POST,data:{collection_id:t}})},h=r("./src/config.ts"),y=function(e,t){return Object(f.b)(Object(O.a)(e,[m.a]),{endpoint:h.a.gatewayUrl+"/desktopapi/v1/subreddit_collections/"+t,method:b.Fa.GET})},_=function(e,t,r){return Object(f.b)(Object(O.a)(e,[m.a]),{endpoint:e.apiUrl+"/api/v1/collections/remove_post_in_collection.json",method:b.Fa.POST,data:{collection_id:t,link_fullname:r}})},E=function(e,t,r){return Object(f.b)(Object(O.a)(e,[m.a]),{endpoint:e.apiUrl+"/api/v1/collections/update_collection_title.json",method:b.Fa.POST,data:{collection_id:t,title:r}})},x=r("./src/reddit/helpers/overlay/index.ts"),T=r("./src/reddit/helpers/path/index.ts"),I=function(e){return{createdAtUTC:e.created_at_utc,id:e.collection_id,lastUpdateUTC:e.last_update_utc,postIds:e.link_ids,primaryPostId:e.primary_link_id||void 0,subredditId:e.subreddit_id,title:e.title}},S=r("./src/reddit/models/Toast/index.ts"),k=r("./src/reddit/selectors/platform.ts"),w=r("./src/reddit/selectors/postCollection.ts"),C=r("./src/reddit/selectors/posts.ts");r.d(t,"c",function(){return A}),r.d(t,"d",function(){return R}),r.d(t,"b",function(){return D}),r.d(t,"m",function(){return U}),r.d(t,"f",function(){return M}),r.d(t,"o",function(){return G}),r.d(t,"g",function(){return B}),r.d(t,"q",function(){return H}),r.d(t,"a",function(){return q}),r.d(t,"k",function(){return W}),r.d(t,"l",function(){return Y}),r.d(t,"e",function(){return J}),r.d(t,"n",function(){return X}),r.d(t,"i",function(){return Z}),r.d(t,"j",function(){return $}),r.d(t,"h",function(){return ee}),r.d(t,"r",function(){return ae}),r.d(t,"p",function(){return se});var A="CREATE_COLLECTION_PENDING",R="CREATE_COLLECTION_SUCCESS",D="CREATE_COLLECTION_FAILED",P=Object(d.a)(A),N=Object(d.a)(R),L=Object(d.a)(D),U=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d,l=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(k.f)(n())){t.next=3;break}return t.abrupt("return");case 3:return r(P()),t.next=6,g(l(),e,i.id);case 6:return c=t.sent,o=void 0,c.ok?(u=I(c.body),r(N(u)),o=u):(d=c.error,r(L(d))),t.abrupt("return",o);case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},M="GET_SUBREDDIT_COLLECTION_SUCCESS",F=Object(d.a)(M),G=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,u,d=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.postCollection.subredditToIds||{},!(Object.keys(c).length>0)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,y(d(),e);case 6:(u=t.sent).ok?r(F(u.body)):r(Object(l.e)({kind:S.a.Error,text:Object(o.a)(i.user.language,"error.type.generic")}));case 8:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},B="REMOVE_POST_FROM_COLLECTION_SUCCESS",V=Object(d.a)(B),H=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,u=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_(u(),e,t);case 2:r.sent.ok?n(V({collectionId:e,postId:t})):(c=s(),n(Object(l.e)({kind:S.a.Error,text:Object(o.a)(c.user.language,"error.type.generic")})));case 4:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},q="ADD_POST_TO_COLLECTION_SUCCESS",K=Object(d.a)(q),W="UPDATE_POST_WITH_COLLECTION_ID",Q=Object(d.a)(W),Y=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,u,d,p,b=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=s(),r.next=3,v(b(),e,t);case 3:r.sent.ok?(n(K({collectionId:e,postId:t})),n(Q({collectionId:e,postId:t})),u=Object(C.A)(c,{postId:t}),d=Object(w.i)(c,{collectionId:e}),p=d&&d.title||"",n(Object(l.e)({kind:S.a.SuccessMod,text:Object(o.a)(c.user.language,"collection.postAddedSuccess",{title:p}),buttonText:Object(o.a)(c.user.language,"collection.view"),buttonAction:Object(x.a)(u.permalink)}))):n(Object(l.e)({kind:S.a.Error,text:Object(o.a)(c.user.language,"error.type.generic")}));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},J="DELETE_COLLECTION_SUCCESS",z=Object(d.a)(J),X=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,d,p,b,f=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(f(),e);case 2:i=t.sent,d=n(),p=Object(w.i)(d,{collectionId:e}),i.ok?(r(z({collectionId:e,collection:p})),b=d.platform.currentPage.url,r(Object(c.c)(Object(u.a)(b,["collection"])))):r(Object(l.e)({kind:S.a.Error,text:Object(o.a)(d.user.language,"error.type.generic")}));case 6:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Z="UPDATE_COLLECTION_PENDING",$="UPDATE_COLLECTION_SUCCESS",ee="UPDATE_COLLECTION_FAILED",te=Object(d.a)(Z),re=Object(d.a)($),ne=Object(d.a)(ee),ae=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,u=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(te()),r.next=3,E(u(),e,t);case 3:(c=r.sent).ok?n(re({collectionId:e,newTitle:t})):(o=c.error,n(ne(o)));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},se=function(e){return t=i()(a.a.mark(function t(r,n){var s,i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n(),i=s.platform.currentPage.locationState,o=!(!i||!i[p.a.IsOverlay]),r(o?Object(x.a)(e.permalink):Object(c.b)(Object(T.b)(e.permalink)));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t}},"./src/reddit/actions/postCreation/editorContent.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"c",function(){return v}),r.d(t,"b",function(){return g}),r.d(t,"f",function(){return j}),r.d(t,"e",function(){return h}),r.d(t,"d",function(){return y}),r.d(t,"g",function(){return E});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/toaster.ts"),d=r("./src/reddit/endpoints/post/convert.ts"),l=r("./src/reddit/helpers/trackers/postComposer.ts"),p=r("./src/reddit/models/PostCreationForm/index.ts"),b=r("./src/reddit/models/RichTextJson/index.ts"),f=r("./src/reddit/models/Toast/index.ts"),O=r("./src/reddit/selectors/user.ts"),m="EDITOR_CONTENT_KEY__NEW_DRAFT",v="STARTED_CONVERTING_EDITOR_CONTENT",g="FINISHED_CONVERTING_EDITOR_CONTENT",j=Object(o.a)(v),h=Object(o.a)(g),y="POST_CREATION__TOGGLE_EDITOR_MODE",_=Object(o.a)(y),E=function(e,t,r){return n=i()(a.a.mark(function n(s,i,o){var v,g,y,E,x,T=o.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l.i(i(),t),v=t===p.h.MARKDOWN,g=t===p.h.RICH_TEXT,y=Object(O.H)(i()),E=m,!v||!Object(b.E)(r)){n.next=10;break}return s(_({editorKey:e,editorMode:p.h.MARKDOWN,content:""})),n.abrupt("return");case 10:if(!g||r){n.next=13;break}return s(_({editorKey:e,editorMode:p.h.RICH_TEXT,content:b.i})),n.abrupt("return");case 13:return s(j(E)),n.next=16,Object(d.a)(T(),t,v?JSON.stringify(r):r);case 16:(x=n.sent).ok?(s(h(E)),s(_({editorKey:e,editorMode:t,content:x.body.output}))):(s(h(E)),s(Object(u.e)({duration:u.a,kind:f.a.Error,text:Object(c.a)(y,"error.generic")})));case 18:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n}},"./src/reddit/actions/postCreation/general.ts":function(e,t,r){"use strict";r.d(t,"k",function(){return h}),r.d(t,"o",function(){return y}),r.d(t,"H",function(){return _}),r.d(t,"p",function(){return x}),r.d(t,"m",function(){return S}),r.d(t,"K",function(){return k}),r.d(t,"O",function(){return w}),r.d(t,"b",function(){return C}),r.d(t,"a",function(){return A}),r.d(t,"c",function(){return R}),r.d(t,"d",function(){return D}),r.d(t,"e",function(){return P}),r.d(t,"f",function(){return N}),r.d(t,"g",function(){return L}),r.d(t,"h",function(){return U}),r.d(t,"i",function(){return M}),r.d(t,"j",function(){return F}),r.d(t,"r",function(){return G}),r.d(t,"s",function(){return B}),r.d(t,"t",function(){return V}),r.d(t,"u",function(){return H}),r.d(t,"v",function(){return q}),r.d(t,"w",function(){return K}),r.d(t,"x",function(){return W}),r.d(t,"l",function(){return Q}),r.d(t,"y",function(){return Y}),r.d(t,"z",function(){return J}),r.d(t,"A",function(){return X}),r.d(t,"B",function(){return Z}),r.d(t,"C",function(){return $}),r.d(t,"E",function(){return ee}),r.d(t,"D",function(){return te}),r.d(t,"F",function(){return re}),r.d(t,"G",function(){return ne}),r.d(t,"P",function(){return ae}),r.d(t,"Q",function(){return se}),r.d(t,"R",function(){return ie}),r.d(t,"S",function(){return ce}),r.d(t,"T",function(){return oe}),r.d(t,"V",function(){return ue}),r.d(t,"W",function(){return de}),r.d(t,"I",function(){return le}),r.d(t,"N",function(){return pe}),r.d(t,"q",function(){return be}),r.d(t,"M",function(){return Oe}),r.d(t,"n",function(){return me}),r.d(t,"U",function(){return ge}),r.d(t,"L",function(){return je}),r.d(t,"J",function(){return he});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/react-router-redux/es/index.js"),o=r("./src/lib/isUrl/index.ts"),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/reddit/actions/modal.ts"),l=r("./src/reddit/actions/subreddit.ts"),p=r("./src/reddit/contexts/PageLayer/index.tsx"),b=r("./src/reddit/endpoints/post/index.tsx"),f=r("./src/reddit/models/PostCreationForm/index.ts"),O=r("./src/reddit/routes/postCreation/constants.ts"),m=r("./src/reddit/selectors/platform.ts"),v=r("./src/reddit/selectors/postCollection.ts"),g=r("./src/reddit/selectors/postCreations.ts"),j=r("./src/reddit/selectors/subreddit.ts"),h="POST_CREATION__ERRORS_NO_LONGER_VALID",y="POST_CREATION__OC_CATEGORY_SELECTED",_=Object(u.a)(h),E=Object(u.a)(y),x="POST_TITLE_FETCHED",T=Object(u.a)(x),I=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.e)(c(),e);case 2:(i=t.sent).ok&&i.body&&i.body.json&&i.body.json.data&&r(T(i.body.json.data));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},S="INITIALIZE_EDITOR_MODE",k=(Object(u.a)(S),function(e){switch(e){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),w=function(e){return t=i()(a.a.mark(function t(r,n,s){s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r(E(e)),!(Object(j.m)(n(),e).length>0)){t.next=4;break}return t.abrupt("return");case 4:r(Object(l.u)(e));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},C="POST_CREATION__CHANGE_FLAIR",A="POST_CREATION__CHANGE_EVENT_SCHEDULE",R="POST_CREATION__CHANGE_LINK_BODY",D="POST_CREATION__CHANGE_MARKDOWN_BODY",P="POST_CREATION__CHANGE_MEDIA_BODY",N="POST_CREATION__CHANGE_OC_CATEGORY",L="POST_CREATION__CHANGE_RECAPTCHA",U="POST_CREATION__CHANGE_RTE_STATE",M="POST_CREATION__CHANGE_SUBMISSION_TYPE",F="POST_CREATION__CHANGE_TITLE",G="POST_CREATION__TOGGLE_IS_CHANGED",B="POST_CREATION__TOGGLE_IS_GOV",V="POST_CREATION__TOGGLE_IS_NSFW",H="POST_CREATION__TOGGLE_IS_OC",q="POST_CREATION__TOGGLE_IS_SPOILER",K="POST_CREATION__TOGGLE_POST_TO_TWITTER",W="POST_CREATION__TOGGLE_SEND_REPLIES",Q="POST_CREATION__INITIALIZE_CROSSPOST_MODE",Y=Object(u.a)(A),J=Object(u.a)(C),z=Object(u.a)(R),X=Object(u.a)(D),Z=Object(u.a)(P),$=Object(u.a)(N),ee=Object(u.a)(L),te=Object(u.a)(U),re=Object(u.a)(M),ne=Object(u.a)(F),ae=Object(u.a)(G),se=Object(u.a)(B),ie=Object(u.a)(V),ce=Object(u.a)(H),oe=Object(u.a)(q),ue=Object(u.a)(K),de=Object(u.a)(W),le=Object(u.a)(Q),pe=function(e){return t=i()(a.a.mark(function t(r,n,s){s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(z(e)),Object(o.a)(e)&&r(I(e));case 2:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},be="POST_CREATION__RESET_FORM",fe=Object(u.a)(be),Oe=function(e,t){return r=i()(a.a.mark(function r(n,s){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n(fe()),n(e?Object(c.b)(O.c):Object(c.b)(Object(g.S)(s(),{pageLayer:t})));case 2:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)};var r},me="POST_CREATION__MODAL_TOGGLED",ve=Object(u.a)(me),ge=function(e){return t=i()(a.a.mark(function t(r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e?e===f.d?r(ve(e)):r(d.j(e)):(r(ve(e)),r(d.j(e)));case 1:case"end":return t.stop()}},t,void 0)})),function(e){return t.apply(this,arguments)};var t},je=function(e){return t=i()(a.a.mark(function t(r,n){var s,i,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n(),i=Object(p.E)(e),c=Object(g.z)(s),i&&c?Object(g.K)(s)!==f.c&&r(ge(f.c)):r(Oe(!1,e));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},he=function(){return e=i()(a.a.mark(function e(t,r){var n,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),s=Object(m.f)(n)){e.next=4;break}return e.abrupt("return");case 4:Object(v.e)(n,{subredditId:s.id})?t(d.j(f.a)):t(d.j(f.b));case 5:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e}},"./src/reddit/actions/postCreation/index.ts":function(e,t,r){"use strict";var n,a,s=r("./node_modules/babel-runtime/helpers/defineProperty.js"),i=r.n(s),c=r("./node_modules/babel-runtime/regenerator/index.js"),o=r.n(c),u=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),d=r.n(u),l=r("./src/app/strings/index.ts"),p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/reddit/actions/post.ts"),f=r("./src/reddit/actions/toaster.ts"),O=r("./src/lib/constants/index.ts"),m=r("./src/lib/makeApiRequest/index.ts"),v=r("./src/lib/omitHeaders/index.ts"),g=r("./src/reddit/constants/headers.ts"),j=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),h=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),y=function(e){return Object.assign({thing_id:e.post.id,validate_on_submit:!0},function(e){return!(!e.document||!e.document.length)}(e)?function(e){return{text:null,richtext_json:JSON.stringify({document:e.document})}}(e):function(e){return{text:e.markdown,return_rtjson:!0}}(e))},_=function(e,t){return Object(m.b)(Object(v.a)(e,[g.a]),{endpoint:Object(h.a)(Object(j.a)(e.apiUrl+"/api/editusertext")),method:O.Fa.POST,data:y(t)})},E=r("./src/reddit/helpers/overlay/index.ts"),x=r("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),T=r("./src/reddit/helpers/trackers/lightbox.ts"),I=r("./src/reddit/helpers/trackers/post.ts"),S=r("./src/reddit/helpers/trackers/postComposer.ts"),k=r("./src/reddit/models/Media/index.ts"),w=r("./src/reddit/models/PostCreationForm/index.ts"),C=r("./src/reddit/models/Toast/index.ts"),A=r("./src/reddit/selectors/posts.ts"),R=r("./src/reddit/actions/postCreation/general.ts"),D=Object(p.a)("POST_CREATION_EDIT_COMPLETE"),P=Object(p.a)("POST_CREATION_EDIT_FAILED"),N=Object(p.a)("POST_CREATION_PENDING_EDIT"),L=Object(p.a)("POST_CREATION_START_EDITING_POST"),U=Object(p.a)("POST_CREATION_STOP_EDITING_POST"),M=function(e,t){return r=d()(o.a.mark(function r(n,a,s){var i,c,u,d,l,p;s.apiContext;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a(),c=Object(A.A)(i,{postId:e}),t?(n(Object(E.a)(c.permalink)),Object(T.c)(e,"edit")(i)):Object(I.b)(e,"edit")(i),u=c.media){r.next=6;break}return r.abrupt("return");case 6:d=w.h.RICH_TEXT,l="",p=void 0,u.type===k.m.TEXT?(d=w.h.MARKDOWN,l=u.content):u.type===k.m.RTJSON&&(d=u.rteMode||w.h.RICH_TEXT,l=d===w.h.MARKDOWN?u.markdownContent:u.richtextContent,p=u.mediaMetadata||void 0),n(L({editorMode:d,mediaMetadata:p,postContent:l,postId:e}));case 11:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},F=function(e){return t=d()(o.a.mark(function t(r,n,a){var s,c,u,d,p,O,m=a.apiContext;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(),c=e.post,u=!c.media||"rtjson"!==c.media.type&&"text"!==c.media.type?"":c.media.rteMode,S.q(n(),Object(R.K)(u)),r(N(c.id)),t.next=7,_(m(),e);case 7:d=t.sent,p=!1===d.body.success,r(D(c.id)),d.ok&&!p?(r(Object(f.e)({kind:C.a.SuccessCommunity,text:Object(l.a)(s.user.language,"postCreation.editing.success")})),r(U(c.id)),O=Object(x.a)(d.body),r(Object(b.y)(i()({},c.id,O)))):r(P(d.error));case 11:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},G=r("./src/reddit/actions/postCreation/editorContent.ts"),B=r("./node_modules/uuid/v4.js"),V=r.n(B),H=r("./src/lib/formatApiError/index.ts"),q=r("./src/reddit/actions/upload.ts"),K=(n=d()(o.a.mark(function e(t,r,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:t.apiUrl+"/api/media/asset.json",method:O.Fa.POST,data:{filepath:r,mimetype:n}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return n.apply(this,arguments)}),W=r("./src/reddit/helpers/correlationIdTracker.ts"),Q=r("./src/reddit/helpers/imagePreview/index.ts"),Y=r("./src/reddit/helpers/media/index.ts"),J=r("./src/reddit/models/Upload/index.ts"),z=r("./src/reddit/selectors/telemetry.ts"),X=r("./src/telemetry/index.ts"),Z=function(e){return Object.assign({},z.defaults(e),{screen:z.screen(e),profile:z.profile(e),subreddit:z.subreddit(e)})},$=function(){var e=d()(o.a.mark(function e(t){var r,n,a,s,i,c,u,d,l,p,b,f=t.state,O=t.uploadKey,m=t.assetId,v=t.isCanceled,g=t.fileSource,j=t.uploadDuration,h=t.correlationId;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=f.uploads[O],n=v||r.status===J.a.CANCELED,a=r.file,s=r.url,i=r.metadata,c=r.error,u=i.mimetype||a.type,d=u.startsWith("video/"),l=r.status===J.a.SUCCESS,p="",c?p=JSON.stringify(c):n&&(p="canceled"),b={width:i.width,height:i.height,duration:i.videoDuration&&Math.round(1e3*i.videoDuration)},Object(X.a)(Object.assign({source:d?"videoupload":"imageupload",action:"upload",correlationId:h,noun:d?"video":"image"},Z(f),{actionInfo:Object.assign({},z.actionInfo(f),{success:l},p?{reason:p}:{}),media:Object.assign({mimetype:u,uploadDuration:j,source:g,fileName:a.name,size:a.size,type:d?"video":"image"},m?{id:m}:{},s?{url:s}:{},b)}));case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),ee=r("./src/reddit/selectors/postCreations.ts"),te=r("./src/reddit/selectors/user.ts"),re=(a=d()(o.a.mark(function e(t,r,n,a){var s,i,c,u,d,p,b,f,m,v,g,j,h,y;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(te.H)(t),i=n&&n.allowedPostTypes,c=n&&n.name,e.next=5,Object(Y.f)(r);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=r.type;case 8:if(u=e.t0,d=Object(Y.b)(r)||void 0){e.next=12;break}return e.abrupt("return",ce("UNSUPPORTED_BROWSER"));case 12:if(p={localUrl:d,mimetype:u},u&&Object(Y.h)(u)){e.next=17;break}return e.abrupt("return",{error:{type:O.S}});case 17:if(!u.startsWith("image/")){e.next=35;break}if(!i||i.images){e.next=21;break}return b=Object(l.a)(s,"postCreation.mediaInput.imagesAreNotAllowed",{subredditName:c}),e.abrupt("return",ce(O.S,b));case 21:if("image/gif"!==u){e.next=26;break}if(!(r.size>O.W)){e.next=24;break}return e.abrupt("return",ce(O.J));case 24:e.next=28;break;case 26:if(!(r.size>O.Y)){e.next=28;break}return e.abrupt("return",ce(O.P));case 28:return e.next=30,Object(Q.a)(d);case 30:f=e.sent,p.width=f.width,p.height=f.height,e.next=65;break;case 35:if(!u.startsWith("video/")){e.next=65;break}if(!(r.size>O.Ca)){e.next=38;break}return e.abrupt("return",ce(O.Vb));case 38:return m=void 0,e.prev=39,e.next=42,Object(Y.g)(d,!0);case 42:m=e.sent,e.next=48;break;case 45:return e.prev=45,e.t1=e.catch(39),e.abrupt("return",ce(O.S));case 48:if(!i){e.next=58;break}if(v=i.videos,!((g=i.images)&&!v&&m.duration>O.Da)){e.next=55;break}return j=Object(l.a)(s,"postCreation.mediaInput.videoTooLongForImageOnlySubreddit",{subredditName:c}),e.abrupt("return",ce(O.S,j));case 55:if(g||v){e.next=58;break}return h=Object(l.a)(s,"postCreation.mediaInput.videosAreNotAllowed",{subredditName:c}),e.abrupt("return",ce(O.S,h));case 58:if(!(m.duration>O.Ba)){e.next=61;break}return y=Object(l.a)(s,"postCreation.mediaInput.videoTooLongInGeneral"),e.abrupt("return",ce(O.S,y));case 61:p.height=m.height,p.width=m.width,p.videoDuration=m.duration,p.videoFirstFrameUrl=m.firstFrame.dataUrl;case 65:return e.abrupt("return",{metadata:p});case 66:case"end":return e.stop()}},e,this,[[39,45]])})),function(e,t,r,n){return a.apply(this,arguments)}),ne=Object(p.a)("POST_CREATION__MEDIA_UPLOAD_PENDING"),ae=Object(p.a)("POST_CREATION__MEDIA_UPLOAD_SUCCEEDED"),se=Object(p.a)("POST_CREATION__MEDIA_UPLOAD_FAILED"),ie=function(e){return t=d()(o.a.mark(function t(r,n){var a,s,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(ne()),a=e.map(function(e){var t=e.url,n=e.uploadKey,a=Object(Y.a)(Object(Y.c)(t),"poster.png");return r(oe(a,n))}),t.next=4,Promise.all(a);case 4:s=n().uploads,i=e.map(function(e){var t=e.uploadKey;return s[t]}).find(function(e){return e.status!==J.a.SUCCESS}),r(i?se(i.error):ae());case 7:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},ce=function(e,t){return{error:t?{type:e,fields:[{field:"",msg:t}]}:{type:e}}},oe=function(e,t,r,n){return a=d()(o.a.mark(function a(s,i,c){var u,l,p,b,f,O,m,v,g,j=c.apiContext;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=Object(ee.g)(i()),l=Date.now(),p=null,b=!1,f=!1,O=!1,m=function(e){if(!O&&r&&b){O=!0;var n=i(),a=Date.now()-l,s=Object(W.c)(W.a.PostComposer);f?$({state:n,uploadKey:t,assetId:p,isCanceled:e,fileSource:r,uploadDuration:a,correlationId:s}):S.p(n,t)}},v=t.startsWith(J.b.RTE_MEDIA),g=function(){var a=d()(o.a.mark(function a(c){var d,l,O,g,h;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=!0,Object(q.j)(c.id,function(){m(!0)}),a.next=4,re(i(),e,u,v);case 4:if(d=a.sent,l=d.error,O=d.metadata,!l&&O){a.next=9;break}return a.abrupt("return",{error:l});case 9:return s(Object(q.l)({key:t,metadata:Object.assign({fileSource:r},O)})),f=!0,n&&n(),g=e.name,a.next=15,K(j(),g,O.mimetype);case 15:if((h=a.sent).ok){a.next=18;break}return a.abrupt("return",{error:h.error||void 0});case 18:return p=h.body.asset.asset_id,a.abrupt("return",{uploadLease:h.body.args});case 20:case"end":return a.stop()}},a,void 0)}));return function(e){return a.apply(this,arguments)}}(),a.next=11,s(Object(q.k)(e,t,g,!0));case 11:m(!1);case 12:case"end":return a.stop()}},a,void 0)})),function(e,t,r){return a.apply(this,arguments)};var a},ue=function(e){return t=d()(o.a.mark(function t(r,n,a){var s;a.apiContext;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((s=n().uploads[e])&&!Object(J.d)(s)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,r(oe(s.file,s.key,s.metadata.fileSource));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},de=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return t=d()(o.a.mark(function t(n,a){var s,i,c,u,d,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=a(),i=s.uploads,c=s.user.language,u=e.map(function(e){return i[e]}).filter(function(e){return e.status===J.a.FAILED&&!e.metadata.mimetype}).map(function(e){return e.error}),d=u.length>r?r-1:u.length,p=u.length-d,u.slice(0,d).forEach(function(e){return n(Object(f.e)({duration:f.a,kind:C.a.Error,text:Object(H.a)(c,e)}))}),p>0&&n(Object(f.e)({duration:f.a,kind:C.a.Error,text:Object(l.c)(c,"postCreation.cannotAddFiles",p)}));case 6:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)}},le=function(e,t,r){return n=d()(o.a.mark(function n(a,s){var i,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.map(function(e,n){return new Promise((s=d()(o.a.mark(function n(s){var i,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=Object(J.e)(J.b.RTE_MEDIA,r+"-"+V()().slice(-6)),c=function(){return s(i)},n.next=4,a(oe(e,i,t,c));case 4:s(i);case 5:case"end":return n.stop()}},n,void 0)})),function(e){return s.apply(this,arguments)}));var s}),n.next=3,Promise.all(i);case 3:c=n.sent,a(de(c));case 5:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},pe=r("./src/reddit/actions/governance.ts"),be=r("./src/reddit/actions/page.ts"),fe=r("./src/reddit/actions/postDraft.ts"),Oe=r("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),me=r("./src/lib/convertToCamelCase/index.ts"),ve=r("./node_modules/url/url.js"),ge=r("./src/reddit/constants/originalContent.ts"),je=r("./src/reddit/helpers/name/index.ts"),he=r("./src/reddit/models/Flair/index.ts"),ye=function(e){var t=Object(je.f)(e.destSubreddit.name);return Object.assign({api_type:"json"},e.destSubreddit.isProfile?{sr:"u_"+t,submit_type:"profile"}:{sr:t,submit_type:"subreddit"},{draft_id:e.draftId||void 0,title:e.title,spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,post_category:e.ocCategory===ge.c?void 0:e.ocCategory,post_to_twitter:e.postToTwitter,kind:function(e){switch(e.kind){case w.n.CROSSPOST:return w.n.CROSSPOST;case w.n.LINK:return w.n.LINK;case w.n.MEDIA:return e.makeGif?w.n.VIDEO_GIF:e.mediaType;default:return"self"}}(e),sendreplies:e.sendReplies},e.gRecaptchaResponse?{"g-recaptcha-response":e.gRecaptchaResponse}:{},{resubmit:e.resubmit},function(e){switch(e.kind){case w.n.RICH_TEXT:return{richtext_json:JSON.stringify({document:e.document})};case w.n.MARKDOWN:return{text:e.markdown};case w.n.LINK:case w.n.MEDIA:return{url:e.url};case w.n.CROSSPOST:return{crosspost_fullname:e.sourcePostId}}}(e),e.kind===w.n.MEDIA&&"video"===e.mediaType?{video_poster_url:e.videoThumbnailUrl}:{},e.kind===w.n.MEDIA&&e.makeGif?{make_gif:"on"}:{},e.flair?{flair_id:e.flair.templateId,flair_text:Object(he.h)(e.flair)}:{},e.validate_on_submit?{validate_on_submit:e.validate_on_submit}:{},e.eventSchedule&&{event_start:e.eventSchedule.startDate,event_end:e.eventSchedule.endDate,event_tz:e.eventSchedule.timezoneName,unlist:e.eventSchedule.submitTime===w.i.AtEventTime},e.collectionId&&{collection_id:e.collectionId})},_e=function(e){if(e.some(function(e){return e[0]===O.F.BAD_CAPTCHA_ERROR}))return O.F.BAD_CAPTCHA_ERROR;var t=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var i=a.value;switch(i[0]){case O.F.USER_REQUIRED_ERROR:case O.F.VALIDATION_ERROR:return i[0];case O.F.NO_TEXT:case O.F.NO_URL:return O.F.VALIDATION_ERROR;default:continue}}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}return O.F.VALIDATION_ERROR},Ee=function(e,t){return new Promise(function(r){var n=new WebSocket(e),a=function(e){n.close(),clearTimeout(s),r(e)},s=setTimeout(function(){a("")},t);n.onmessage=function(e){var t=JSON.parse(e.data),r="success"===t.type?t.payload.redirect:"";a(r)},n.onerror=function(e){a("")}})},xe=function(e){var t=/comments\/(\w+)\/.*$/.exec(e),r=t&&t[1];return r?O.Sa.POST+"_"+r:""},Te=function(){var e=d()(o.a.mark(function e(t,r){var n,a,s,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.body.fields||!Object(w.s)(t.body.fields[0])){e.next=2;break}return e.abrupt("return",Object.assign({},t,{body:{},error:{type:O.F.SUBMIT_VALIDATION_ERROR,fields:[{field:t.body.fields[0],msg:t.body.explanation}]}}));case 2:if(t.ok){e.next=4;break}return e.abrupt("return",t);case 4:if(!(t.body.json.errors&&Array.isArray(t.body.json.errors)&&t.body.json.errors.length)){e.next=6;break}return e.abrupt("return",Object.assign({},t,{ok:!1,error:{type:_e(t.body.json.errors),fields:t.body.json.errors.map(function(e){return{field:e[2]||"",msg:e[1]}})}}));case 6:if(n=t.body.json.data,(a=n.url)||r.kind!==w.n.MEDIA){e.next=12;break}return e.next=11,Ee(n.websocket_url,3e4);case 11:a=e.sent;case 12:return s=n.id||xe(a),i=Object(ve.parse)(a).path,c=n.drafts_count,e.abrupt("return",Object.assign({},t,{body:{id:s,path:i,draftsCount:c}}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),Ie=function(e,t){return Object(m.b)(Object(v.a)(e,[g.a]),{endpoint:Object(h.a)(Object(j.a)(e.apiUrl+"/api/submit?resubmit=true")),method:O.Fa.POST,data:ye(t)}).then((r=d()(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(r,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)})),function(e){return r.apply(this,arguments)}));var r};function Se(e,t,r){var n,a=this;return Object(m.b)(e,{method:O.Fa.POST,endpoint:"https://meta-api.reddit.com/polls",type:"json",data:Object.assign({poll:r,subredditId:t.destSubreddit.id},Object(me.a)(ye(t)))}).then((n=d()(o.a.mark(function e(r){var n,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.ok?Object.assign({},r,{body:{json:{data:r.body}}}):r,e.next=3,Te(n,t);case 3:if(!(s=e.sent).ok){e.next=7;break}return i=s.body,e.abrupt("return",{body:Object.assign({},i,{poll:r.body.poll}),ok:!0,status:r.status});case 7:return e.abrupt("return",{error:s.body,ok:!1,status:r.status});case 8:case"end":return e.stop()}},e,a)})),function(e){return n.apply(this,arguments)}))}var ke=r("./src/reddit/featureFlags/index.ts"),we=r("./src/reddit/models/User/index.ts"),Ce=r("./src/reddit/selectors/postDraft.ts"),Ae="POST_CREATION__PENDING",Re="POST_CREATION__FAILED",De=Object(p.a)(Ae),Pe=Object(p.a)("POST_CREATION__SUCCEEDED"),Ne=Object(p.a)(Re),Le=Object(p.a)("POST_CREATION__POLL_FAILED"),Ue=Object(p.a)("POST_CREATION__VALIDATION_FAILED"),Me=Object(p.a)("POST_CREATION__SUBMIT_VALIDATION_FAILED"),Fe=Object(p.a)("POST_CREATION__CAPTCHA_REQUIRED"),Ge=Object(p.a)("POST_CREATION__SET_SUBMIT_MODE"),Be=function(e){var t=e.uploads,r=Object(ee.I)(e),n=Object(ee.a)(e),a=Object(ee.W)(e);if(n===O.Bb.POST)return Oe.a.getPendingThumbnailUploads(a,t);if(n===O.Bb.MEDIA&&r){var s=r.video;if(s&&s.thumbnail&&!t[w.m])return[Object.assign({},s.thumbnail,{uploadKey:w.m})]}},Ve=function(e,t){return r=d()(o.a.mark(function r(n,a,s){var i,c,u,d,l,p,b;s.apiContext;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a(),c=i.creations.api.post.submit.pending,u=Object(Ce.g)(i),!c&&!u){r.next=5;break}return r.abrupt("return");case 5:if(n(Ge(e)),i=a(),d=Object(ee.a)(i),l=ke.d.rteVideoPoster(i),p=Be(i),b=d===O.Bb.MEDIA,!p||!l&&!b){r.next=16;break}return r.next=14,n(ie(p));case 14:if(!Be(a())){r.next=16;break}return r.abrupt("return");case 16:if(e!==w.p.Draft){r.next=21;break}return r.next=19,n(Object(fe.r)(t.draftId));case 19:r.next=23;break;case 21:return r.next=23,n(He(t));case 23:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},He=function(e){return t=d()(o.a.mark(function t(r,n,a){var s,i,c,u,d,l,p,b,f,m,v,g=a.apiContext;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=Object(ee.T)(s,e),c=s.creations.formData.isGov,u=s.creations.formData.polls?(a=s.creations.formData.polls,Object.assign({},a,{options:a.options.map(function(e){return{text:e.text.trim()}}).filter(function(e){return!!e.text})})):{duration:O.y,options:[]},i){t.next=6;break}return t.abrupt("return");case 6:if(S.n(s,Object(R.K)(i.kind)),r(De(i)),d=void 0,!c){t.next=15;break}return t.next=12,Se(g(),i,u);case 12:d=t.sent,t.next=18;break;case 15:return t.next=17,Ie(g(),i);case 17:d=t.sent;case 18:d.ok?(l=Object(te.j)(s),p=d.body,r(Pe({draftId:i.draftId,response:p})),c&&r(Object(pe.r)({poll:p.poll})),b=p.path||"/user/"+Object(we.d)(l)+"/posts",f=b.replace(/^\/r\/u_/,"/user/"),r(Object(be.S)(f,!1))):c?(m=d.error,r(Le(m))):(v=d.error).type===O.F.BAD_CAPTCHA_ERROR?r(Fe()):v.type===O.F.VALIDATION_ERROR?r(Ue(v)):v.type===O.F.SUBMIT_VALIDATION_ERROR?r(Me(v)):r(Ne(v));case 19:case"end":return t.stop()}var a},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},qe=r("./src/reddit/actions/postCreation/submitValidation.ts"),Ke=r("./src/reddit/actions/postCreation/subredditChange.ts");r.d(t,"l",function(){return"POST_CREATION_EDIT_COMPLETE"}),r.d(t,"m",function(){return"POST_CREATION_EDIT_FAILED"}),r.d(t,"x",function(){return"POST_CREATION_PENDING_EDIT"}),r.d(t,"C",function(){return"POST_CREATION_START_EDITING_POST"}),r.d(t,"D",function(){return"POST_CREATION_STOP_EDITING_POST"}),r.d(t,!1,function(){return D}),r.d(t,!1,function(){return P}),r.d(t,!1,function(){return N}),r.d(t,!1,function(){return L}),r.d(t,"Pa",function(){return U}),r.d(t,"Ba",function(){return M}),r.d(t,"cb",function(){return F}),r.d(t,!1,function(){return G.a}),r.d(t,!1,function(){return G.c}),r.d(t,!1,function(){return G.b}),r.d(t,!1,function(){return G.f}),r.d(t,!1,function(){return G.e}),r.d(t,"J",function(){return G.d}),r.d(t,!1,function(){}),r.d(t,"Ta",function(){return G.g}),r.d(t,"n",function(){return R.k}),r.d(t,"v",function(){return R.o}),r.d(t,"Ca",function(){return R.H}),r.d(t,!1,function(){}),r.d(t,"z",function(){return R.p}),r.d(t,!1,function(){}),r.d(t,!1,function(){}),r.d(t,"q",function(){return R.m}),r.d(t,!1,function(){}),r.d(t,!1,function(){return R.K}),r.d(t,"Ma",function(){return R.O}),r.d(t,"c",function(){return R.b}),r.d(t,"b",function(){return R.a}),r.d(t,"d",function(){return R.c}),r.d(t,"e",function(){return R.d}),r.d(t,"f",function(){return R.e}),r.d(t,"g",function(){return R.f}),r.d(t,"h",function(){return R.g}),r.d(t,"i",function(){return R.h}),r.d(t,"j",function(){return R.i}),r.d(t,"k",function(){return R.j}),r.d(t,"K",function(){return R.r}),r.d(t,"L",function(){return R.s}),r.d(t,"M",function(){return R.t}),r.d(t,"N",function(){return R.u}),r.d(t,"O",function(){return R.v}),r.d(t,"P",function(){return R.w}),r.d(t,"Q",function(){return R.x}),r.d(t,"p",function(){return R.l}),r.d(t,"S",function(){return R.y}),r.d(t,"T",function(){return R.z}),r.d(t,!1,function(){}),r.d(t,"U",function(){return R.A}),r.d(t,"V",function(){return R.B}),r.d(t,"W",function(){return R.C}),r.d(t,"Y",function(){return R.E}),r.d(t,"X",function(){return R.D}),r.d(t,"Z",function(){return R.F}),r.d(t,"Aa",function(){return R.G}),r.d(t,"Ua",function(){return R.P}),r.d(t,"Va",function(){return R.Q}),r.d(t,"Wa",function(){return R.R}),r.d(t,"Xa",function(){return R.S}),r.d(t,"Ya",function(){return R.T}),r.d(t,"ab",function(){return R.V}),r.d(t,"bb",function(){return R.W}),r.d(t,"Da",function(){return R.I}),r.d(t,"Ia",function(){return R.N}),r.d(t,"A",function(){return R.q}),r.d(t,!1,function(){}),r.d(t,"Ha",function(){return R.M}),r.d(t,"u",function(){return R.n}),r.d(t,!1,function(){}),r.d(t,"Za",function(){return R.U}),r.d(t,"Ga",function(){return R.L}),r.d(t,"Ea",function(){return R.J}),r.d(t,"s",function(){return"POST_CREATION__MEDIA_UPLOAD_PENDING"}),r.d(t,"t",function(){return"POST_CREATION__MEDIA_UPLOAD_SUCCEEDED"}),r.d(t,"r",function(){return"POST_CREATION__MEDIA_UPLOAD_FAILED"}),r.d(t,!1,function(){return ne}),r.d(t,!1,function(){return ae}),r.d(t,!1,function(){return se}),r.d(t,"eb",function(){return ie}),r.d(t,"db",function(){return oe}),r.d(t,"La",function(){return ue}),r.d(t,"Oa",function(){return le}),r.d(t,"w",function(){return Ae}),r.d(t,"I",function(){return"POST_CREATION__SUCCEEDED"}),r.d(t,"o",function(){return Re}),r.d(t,"y",function(){return"POST_CREATION__POLL_FAILED"}),r.d(t,"R",function(){return"POST_CREATION__VALIDATION_FAILED"}),r.d(t,"E",function(){return"POST_CREATION__SUBMIT_VALIDATION_FAILED"}),r.d(t,"a",function(){return"POST_CREATION__CAPTCHA_REQUIRED"}),r.d(t,"B",function(){return"POST_CREATION__SET_SUBMIT_MODE"}),r.d(t,!1,function(){return De}),r.d(t,!1,function(){return Pe}),r.d(t,!1,function(){return Ne}),r.d(t,!1,function(){return Le}),r.d(t,!1,function(){return Ue}),r.d(t,"Ra",function(){return Me}),r.d(t,!1,function(){return Fe}),r.d(t,!1,function(){return Ge}),r.d(t,"Qa",function(){return Ve}),r.d(t,!1,function(){return He}),r.d(t,!1,function(){return qe.a}),r.d(t,!1,function(){return qe.b}),r.d(t,!1,function(){}),r.d(t,!1,function(){}),r.d(t,"fb",function(){return qe.c}),r.d(t,"G",function(){return Ke.b}),r.d(t,"H",function(){return Ke.c}),r.d(t,"F",function(){return Ke.a}),r.d(t,!1,function(){}),r.d(t,!1,function(){}),r.d(t,"Sa",function(){return Ke.h}),r.d(t,"Ja",function(){return Ke.e}),r.d(t,"Fa",function(){return Ke.d}),r.d(t,"Na",function(){return Ke.g}),r.d(t,"Ka",function(){return Ke.f})},"./src/reddit/actions/postCreation/submitValidation.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/postCreation/index.ts"),u=r("./src/reddit/contexts/PageLayer/selectors.ts"),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeApiRequest/index.ts"),p=r("./src/lib/omitHeaders/index.ts"),b=r("./src/reddit/constants/headers.ts"),f=function(e,t,r,n,a){return Object(l.b)(Object(p.a)(e,[b.a]),{endpoint:e.apiUrl+"/api/validate_submission_field",method:d.Fa.POST,data:{sr:t,field:r,kind:n,title:a.title||"",url:a.url||null,text:a.selftext,richtext_json:a.rtjson&&JSON.stringify({document:a.rtjson}),flair_id:a.flairId||null}})},O=r("./src/reddit/selectors/postCreations.ts");r.d(t,"a",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return h});var m="SUBMIT_VALIDATION_FIELD_HAS_ERROR",v="SUBMIT_VALIDATION_FIELD_IS_VALID",g=Object(c.a)(m),j=Object(c.a)(v),h=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,d,l,p,b,m,v=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),d=Object(u.q)(c,{pageLayer:t})){r.next=4;break}return r.abrupt("return");case 4:if(l=Object(O.p)(c,{field:e})){r.next=7;break}return r.abrupt("return");case 7:return p=Object(O.e)(c),r.next=10,f(v(),d.name,e,p,l);case 10:b=r.sent,(m=b.error)&&m.fields&&m.fields.length?n(g(m.fields[0])):n(j(e)),b.error&&n(Object(o.Ra)(b.error));case 14:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return x}),r.d(t,"c",function(){return T}),r.d(t,"a",function(){return I}),r.d(t,"h",function(){return w}),r.d(t,"e",function(){return C}),r.d(t,"d",function(){return A}),r.d(t,"g",function(){return R}),r.d(t,"f",function(){return D});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/react-router-redux/es/index.js"),o=r("./src/lib/addQueryParams/index.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/filterQueryParams/index.ts"),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/reddit/actions/modal.ts"),b=r("./src/reddit/actions/pages/postCreation.ts"),f=r("./src/reddit/contexts/PageLayer/selectors.ts"),O=r("./src/reddit/featureFlags/index.ts"),m=r("./src/reddit/helpers/name/index.ts"),v=r("./src/reddit/models/PostCreationForm/index.ts"),g=r("./src/reddit/routes/postCreation/index.ts"),j=r("./src/reddit/routes/postCreation/constants.ts"),h=r("./src/reddit/selectors/platform.ts"),y=r("./src/reddit/selectors/postCreations.ts"),_=r("./src/reddit/selectors/subreddit.ts"),E=r("./src/reddit/actions/postCreation/general.ts"),x="POST_CREATION__SUBREDDIT_CHANGE_PENDING",T="POST_CREATION__SUBREDDIT_WILL_CHANGE",I="POST_CREATION__SUBREDDIT_CHANGE_CANCELED",S=Object(l.a)(x),k=Object(l.a)(T),w=Object(l.a)(I),C=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,d,l,O,g,j,E,x,T,I,k,w,C,R;i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),o=e.name,d=e.isProfile,l=Object(h.f)(c),O=l&&!d&&Object(m.a)(l.name,o),g=c.creations.api.subreddit.change.pending,!O&&!g){r.next=7;break}return r.abrupt("return");case 7:if(j=Object(f.t)(t),!d&&o&&Object(y.v)(c)){r.next=11;break}return n(A(e,j)),r.abrupt("return");case 11:return n(S(e)),r.next=14,n(Object(b.d)({subredditName:o}));case 14:if(E=e.allowedPostTypes||Object(_.r)(s(),{subredditName:o})){r.next=18;break}return n(A(e,j)),r.abrupt("return");case 18:c=s(),x=void 0,T=Object(y.Aa)(c),I=Object(y.v)(c),T===u.Bb.MEDIA&&I&&(k=Object(y.I)(c),w=k.mediaType,C=k.video,"image"!==w||E.images?"video"!==w||E.videos||(R=C&&C.duration||0,E.images?R>u.Da&&(x=v.o.VideoWillBeRemovedTooLongForGif):x=v.o.VideoWillBeRemovedMediaNotAllowed):x=v.o.ImageWillBeRemoved),n(x?Object(p.j)(x):A(Object.assign({},e,{allowedPostTypes:E}),j));case 24:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},A=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r=i()(a.a.mark(function r(s,i){var u,d,l,p,b,f;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u=e.name,d=e.isProfile,l=i().platform.currentPage,p=l.queryParams,b=d?g.b:g.c,f="",f=u?b(u):Object(g.d)(l.routeMatch.match.path)&&t!==p.draft?j.a:j.c,f=Object(o.a)(f,Object.assign({},p,{draft:t||p.draft})),t||l.url.toLowerCase()!==f.toLowerCase()){r.next=9;break}return r.abrupt("return");case 9:s(k(e)),O.d.drafts(i())&&n&&s(Object(E.P)(!0)),s(Object(c.c)(f));case 13:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)}},R=function(e){return t=i()(a.a.mark(function t(r,n){var s,i,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n().platform.currentPage,i=s.queryParams,u=Object(o.a)(s.url,Object.assign({},i,{collection:e})),r(Object(c.c)(u));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r){return t.apply(this,arguments)};var t},D=function(){return e=i()(a.a.mark(function e(t,r){var n,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r().platform.currentPage,s=Object(d.a)(n.url,["collection"]),t(Object(c.c)(s));case 3:case"end":return e.stop()}},e,void 0)})),function(t,r){return e.apply(this,arguments)};var e}},"./src/reddit/actions/postDraft.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/formatApiError/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/actions/postCreation/general.ts"),p=r("./src/reddit/actions/postCreation/subredditChange.ts"),b=r("./src/reddit/actions/toaster.ts"),f=r("./src/reddit/contexts/PageLayer/selectors.ts"),O=r("./src/app/models/StructuredStylesImageUpload.ts"),m=r("./src/lib/makeApiRequest/index.ts"),v=r("./src/lib/omitHeaders/index.ts"),g=(n=c()(s.a.mark(function e(t,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.b)(Object(v.a)(t,[O.a]),{endpoint:t.apiUrl+"/api/v1/draft?draft_id="+r,method:o.Fa.DELETE}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return n.apply(this,arguments)}),j=r("./src/reddit/constants/headers.ts"),h=r("./src/reddit/helpers/name/index.ts"),y=r("./src/reddit/models/PostDraft/index.ts"),_=r("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),E=r("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),x=r("./src/reddit/models/Subreddit/index.ts"),T=function(e){var t=e.drafts.reduce(function(e,t){var r,n,a=(n=void 0,n="link"===(r=t).kind?{kind:y.b.Link,body:r.body||void 0}:"markdown"===r.kind?{kind:y.b.Markdown,body:r.body||void 0}:{kind:y.b.RichText,body:r.body||void 0},Object.assign({subredditId:r.subreddit||void 0,contentCategory:r.content_category||void 0,created:r.created,flair:r.flair,id:r.id,isNSFW:!!r.nsfw,isOriginalContent:!!r.original_content,isSpoiler:!!r.spoiler,modified:r.modified||void 0,sendReplies:!!r.send_replies,isPublicLink:!!r.is_public_link,title:r.title||""},n));return e.postDraftIds.push(a.id),e.postDrafts[a.id]=a,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce(function(e,t){if(t.subreddit_type===x.a.User){var r=Object(_.a)(t,Object(h.f)(t.display_name_prefixed));e.profiles[r.id]=r}else{var n=Object(E.a)(t);e.subreddits[n.id]=n}return e},t)},I=r("./src/reddit/endpoints/post/draft/helpers.ts"),S=r("./src/reddit/models/PostCreationForm/index.ts"),k=function(e,t,r){return Object(m.b)(Object(v.a)(e,[j.a]),{endpoint:e.apiUrl+"/api/v1/draft",method:r?o.Fa.PUT:o.Fa.POST,data:Object(I.a)(t)}).then(function(e){return e.body.fields&&Object(S.s)(e.body.fields[0])?Object.assign({},e,{body:{},error:{type:o.F.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}):e})},w=r("./src/reddit/helpers/trackers/postComposer.ts"),C=r("./src/reddit/models/Toast/index.ts"),A=r("./src/reddit/models/User/index.ts"),R=r("./src/reddit/selectors/postCreations.ts"),D=r("./src/reddit/selectors/postDraft.ts"),P=r("./src/reddit/selectors/profile.ts"),N=r("./src/reddit/selectors/subreddit.ts"),L=r("./src/reddit/selectors/user.ts");r.d(t,"f",function(){return U}),r.d(t,"e",function(){return M}),r.d(t,"d",function(){return F}),r.d(t,"p",function(){return H}),r.d(t,"j",function(){return q}),r.d(t,"l",function(){return K}),r.d(t,"i",function(){return W}),r.d(t,"m",function(){return Q}),r.d(t,"k",function(){return Y}),r.d(t,"h",function(){return J}),r.d(t,"n",function(){return z}),r.d(t,"s",function(){return ne}),r.d(t,"r",function(){return ae}),r.d(t,"g",function(){return se}),r.d(t,"q",function(){return ce}),r.d(t,"c",function(){return oe}),r.d(t,"a",function(){return ue}),r.d(t,"b",function(){return de}),r.d(t,"o",function(){return fe});var U="POST_DRAFT__LIST_PENDING",M="POST_DRAFT__LIST_LOADED",F="POST_DRAFT__LIST_FAILED",G=Object(d.a)(U),B=Object(d.a)(M),V=Object(d.a)(F),H=function(){return e=c()(s.a.mark(function e(t,r,n){var a,i,c=n.apiContext;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),Object(L.j)(a)&&!Object(D.b)(a)){e.next=4;break}return e.abrupt("return");case 4:return t(G()),e.next=7,n=c(),Object(m.b)(Object(v.a)(n,[j.a]),{endpoint:n.apiUrl+"/api/v1/drafts.json",method:o.Fa.GET});case 7:(i=e.sent).ok?t(B(T(i.body))):t(V(i.error));case 9:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},q="POST_DRAFT__SAVE_DRAFT_PENDING",K="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",W="POST_DRAFT__SAVE_DRAFT_FAILED",Q="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",Y="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",J="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",z="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",X=Object(d.a)(q),Z=Object(d.a)(K),$=Object(d.a)(W),ee=Object(d.a)(Q),te=Object(d.a)(Y),re=Object(d.a)(J),ne=Object(d.a)(z),ae=function(e){return t=c()(s.a.mark(function t(r,n,a){var i,c,d,l,f,O,m,v,g,j,h=a.apiContext;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=Object(D.g)(i),d=Object(R.R)(i),!c&&!d){t.next=5;break}return t.abrupt("return");case 5:if(l=Object(D.h)(i,e)){t.next=8;break}return t.abrupt("return");case 8:return r(X(l)),w.e(i,l),t.next=12,k(h(),l,e);case 12:(f=t.sent).ok?(O=Object(I.c)(f.body),m=O.id,v=O.draftsCount,r(Z({draftId:m,draftsCount:v})),e||r(Object(p.d)(l.destSubreddit,m,!1))):((g=f.error).type===o.F.BAD_CAPTCHA_ERROR?r(re()):g.type===o.F.VALIDATION_ERROR?r(ee(g)):g.type===o.F.SUBMIT_VALIDATION_ERROR?r(te(g)):r($(g)),j=Object(L.H)(i),r(Object(b.e)({duration:b.a,kind:C.a.Error,text:Object(u.a)(j,g)})));case 14:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},se="POST_DRAFT__LOAD_DRAFT",ie=Object(d.a)(se),ce=function(e){return t=c()(s.a.mark(function t(r,n,a){var i,c,o,u,d,l;a.apiContext;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(ie(e)),i=S.e,c=n(),e.subredditId&&(o=Object(N.A)(c,{subredditId:e.subredditId}),u=Object(P.k)(c,{profileId:e.subredditId}),d=Object(L.j)(c),o?i={isProfile:!1,name:o.name}:u&&d&&(i={isProfile:!0,name:Object(A.d)(d)})),t.next=6,r(Object(p.d)(i,e.id,!1));case 6:(l=Object(D.h)(n(),e.id))&&w.h(n(),l);case 8:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},oe="POST_DELETE_DRAFT_SUCCEEDED",ue="POST_DELETE_DRAFT_FAILED",de="POST_DELETE_DRAFT_PENDING",le=Object(d.a)(oe),pe=Object(d.a)(ue),be=Object(d.a)(de),fe=function(e,t){return r=c()(s.a.mark(function r(n,a,i){var c,o,d,p,O,m,v,j,h=i.apiContext;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a(),!Object(D.a)(c,e)){r.next=4;break}return r.abrupt("return");case 4:return(o=Object(D.d)(c,{draftId:e}))&&w.f(c,o),n(be({draftId:e})),r.next=9,g(h(),e);case 9:(d=r.sent).ok?(p=Object(I.c)(d.body),O=p.draftsCount,n(le({draftId:e,draftsCount:O})),m=Object(f.t)(t),e===m&&n(Object(l.M)(!0,t))):(v=d.error,j=Object(L.H)(a()),n(pe({draftId:e,apiError:v})),n(Object(b.e)({duration:b.a,kind:C.a.Error,text:Object(u.a)(j,v)})));case 11:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/postFlair.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return j}),r.d(t,"a",function(){return E}),r.d(t,"f",function(){return S}),r.d(t,"b",function(){return A}),r.d(t,"e",function(){return N}),r.d(t,"d",function(){return L}),r.d(t,"l",function(){return G}),r.d(t,"k",function(){return B}),r.d(t,"j",function(){return V}),r.d(t,"g",function(){return H}),r.d(t,"i",function(){return q}),r.d(t,"h",function(){return K});var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/app/strings/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/actions/post.ts"),p=r("./src/reddit/actions/postFlairStyleTemplate.ts"),b=r("./src/reddit/actions/toaster.ts"),f=r("./src/reddit/endpoints/flair/index.ts"),O=r("./src/reddit/models/Flair/index.ts"),m=r("./src/reddit/models/Toast/index.ts"),v=r("./src/reddit/selectors/subreddit.ts"),g=r("./src/reddit/selectors/user.ts"),j="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",h=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),y=Object(d.a)(j),_=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),E="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",x=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),T=Object(d.a)(E),I=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),S="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",k=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),w=Object(d.a)(S),C=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),A="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",R=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),D=Object(d.a)(A),P=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),N="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",L="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",U=Object(d.a)(N),M=Object(d.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),F=Object(d.a)(L),G=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=Object(v.A)(c,{subredditId:e}).name,n(h()),r.next=5,Object(f.i)(u(),o,t);case 5:r.sent.ok?n(y({subredditId:e,isEnabled:t})):n(_());case 7:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},B=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=Object(v.A)(c,{subredditId:e}).name,n(x()),r.next=5,Object(f.h)(u(),t,O.c.LinkFlair,o);case 5:r.sent.ok?n(T({subredditId:e,canAssignOwn:t})):n(I());case 7:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},V=function e(t,r,n,a){return s=o()(i.a.mark(function s(c,o,d){var l,j,h,y,_,E,x,T=d.apiContext;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=o(),j=Object(v.A)(l,{subredditId:r}).name,h=Object(g.H)(l),c(k()),s.next=6,Object(f.d)(T(),t,j,O.c.LinkFlair);case 6:(y=s.sent).ok?(_=y.body,c(w({subredditId:r,template:_})),E=Object(b.d)(Object(u.a)(h,"structuredStyles.forms.flair.toast.flairSaved"),m.a.SuccessMod),c(Object(b.e)(E)),_.id&&n&&a&&c(Object(p.g)(r,_.id,n,a))):(c(C()),x=Object(b.d)(Object(u.a)(h,"structuredStyles.forms.flair.toast.flairNotSaved"),m.a.Error,Object(u.a)(h,"structuredStyles.forms.flair.toast.retryButtonText"),e(t,r)),c(Object(b.e)(x)));case 8:case"end":return s.stop()}},s,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s},H=function e(t,r){return n=o()(i.a.mark(function n(a,s,c){var o,d,l,p,O,j=c.apiContext;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=s(),d=Object(v.A)(o,{subredditId:r}).name,l=Object(g.H)(o),a(R()),n.next=6,Object(f.a)(j(),t,d);case 6:n.sent.ok?(a(D({subredditId:r,templateId:t})),p=Object(b.d)(Object(u.a)(l,"structuredStyles.forms.flair.toast.flairDeleted"),m.a.SuccessMod),a(Object(b.e)(p))):(a(P()),O=Object(b.d)(Object(u.a)(l,"structuredStyles.forms.flair.toast.flairNotDeleted"),m.a.Error,Object(u.a)(l,"structuredStyles.forms.flair.toast.retryButtonText"),e(t,r)),a(Object(b.e)(O)));case 8:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},q=function e(t,r,n){return a=o()(i.a.mark(function a(s,c,o){var d,l,p,j,h,y=o.apiContext;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c(),l=Object(v.A)(d,{subredditId:n}).name,p=Object(g.H)(d),s(U({subredditId:n,templateIds:r})),a.next=7,Object(f.c)(y(),l,O.c.LinkFlair,r);case 7:a.sent.ok?(s(M()),j=Object(b.d)(Object(u.a)(p,"structuredStyles.forms.flair.toast.flairReorderSuccess"),m.a.SuccessMod),s(Object(b.e)(j))):(s(F({subredditId:n,templateIds:t})),h=Object(b.d)(Object(u.a)(p,"structuredStyles.forms.flair.toast.flairReorderFailure"),m.a.Error,Object(u.a)(p,"structuredStyles.forms.flair.toast.retryButtonText"),e(t,r,n)),s(Object(b.e)(h)));case 9:case"end":return a.stop()}},a,void 0)})),function(e,t,r){return a.apply(this,arguments)};var a},K=function(e){var t,r=e.post,n=e.previewFlair,s=e.selectedTemplateId;return t=o()(i.a.mark(function e(t,c,o){var u,d,p=o.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=r.flair.filter(function(e){return!Object(O.i)(e.type)}),n&&u.unshift(n),t(Object(l.y)(a()({},r.id,{flair:u}))),n?(d=Object(O.h)(n),Object(f.f)(p(),r.id,s,d)):Object(f.f)(p(),r.id,"","");case 4:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(e,t,r){"use strict";var n={};r.d(n,"putFlairStyles",function(){return E}),r.d(n,"deleteFlairStyles",function(){return x}),r.d(n,"getImageUploadLease",function(){return T});var a,s,i,c=r("./node_modules/babel-runtime/regenerator/index.js"),o=r.n(c),u=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),d=r.n(u),l=r("./node_modules/lodash/isEqual.js"),p=r.n(l),b=r("./src/lib/makeActionCreator/index.ts"),f=r("./src/reddit/actions/apiRequestState.ts"),O=r("./src/reddit/actions/imageUploads.ts"),m=r("./src/reddit/actions/structuredStyles.ts"),v=r("./src/reddit/helpers/getGenericUploadError.ts"),g=r("./src/reddit/helpers/media/index.ts"),j=r("./src/lib/constants/index.ts"),h=r("./src/lib/makeApiRequest/index.ts"),y=r("./src/lib/omitHeaders/index.ts"),_=r("./src/reddit/constants/headers.ts"),E=(a=d()(o.a.mark(function e(t,r,n,a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/flair_styles/"+n,method:j.Fa.PUT,data:a}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return a.apply(this,arguments)}),x=(s=d()(o.a.mark(function e(t,r,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/flair_styles/"+n,method:j.Fa.DELETE}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return s.apply(this,arguments)}),T=(i=d()(o.a.mark(function e(t,r,n,a,s,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/flair_style_asset_upload_s3/"+n,method:j.Fa.POST,data:{filepath:a,imagetype:s,mimetype:i}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n,a,s){return i.apply(this,arguments)}),I=r("./src/reddit/helpers/trackers/blade.ts"),S=r("./src/reddit/selectors/subreddit.ts"),k=r("./src/telemetry/index.ts"),w=r("./src/reddit/models/Image/index.tsx");r.d(t,"b",function(){return C}),r.d(t,"d",function(){return A}),r.d(t,"e",function(){return R}),r.d(t,"c",function(){return D}),r.d(t,"g",function(){return N}),r.d(t,"a",function(){return L}),r.d(t,"f",function(){return M});var C="POSTFLAIR_STYLETEMPLATE_DRAFT_UPDATED",A=Object(b.a)(C),R=function(e){var t,r=e.subredditId,a=e.flairId,s=e.imageKey,i=e.imageData;return t=d()(o.a.mark(function e(t,c,u){var d,l,p,b;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=c(),l=Object(S.A)(d,{subredditId:r})){e.next=4;break}return e.abrupt("return");case 4:return t(Object(O.k)(i)),e.t0=n,e.t1=u.apiContext(),e.t2=l.name,e.t3=a,e.t4=i.file.name,e.t5=s,e.next=13,Object(g.f)(i.file);case 13:return e.t6=e.sent,e.next=16,e.t0.getImageUploadLease.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 16:return p=e.sent,e.prev=17,e.next=20,Object(O.g)(c(),p,i,w.a.FlairTemplates);case 20:(b=e.sent)&&t(Object(O.j)(b)),e.next=29;break;case 24:if(e.prev=24,e.t7=e.catch(17),!(e.t7 instanceof Error)){e.next=28;break}throw e.t7;case 28:t(Object(O.i)(e.t7));case 29:case"end":return e.stop()}},e,void 0,[[17,24]])})),function(e,r,n){return t.apply(this,arguments)}},D="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",P=Object(b.a)(D),N=function(e,t,r,n){return a=d()(o.a.mark(function a(s,i,c){var u,d,l,b,g,j,h,y,_,x;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(s(Object(f.h)(n)),u=c.apiContext,d=i(),l=Object(S.A)(d,{subredditId:e})){a.next=6;break}return a.abrupt("return");case 6:if(!(b=d.structuredStyles.flairTemplate.models[t])||!p()(b,r)){a.next=9;break}return a.abrupt("return");case 9:return g=null,j=null,a.prev=11,a.next=14,Object(O.f)(d,w.a.FlairTemplates);case 14:(g=a.sent)&&(j=Object(O.m)(g)(s,i,c)),a.next=23;break;case 18:return a.prev=18,a.t0=a.catch(11),h=Object(v.a)("webSocket"),s(Object(f.f)(n,h)),a.abrupt("return");case 23:return a.next=25,E(u(),l.name,t,r);case 25:if(y=a.sent,_=b?"edit_post_flair_template":"save_post_flair_template",x=Object(I.f)(d,_),!y.ok){a.next=41;break}if(!j){a.next=37;break}return a.prev=30,a.next=33,j;case 33:a.next=37;break;case 35:a.prev=35,a.t1=a.catch(30);case 37:s(Object(f.e)(n)),s(P({flairId:t,template:r})),a.next=43;break;case 41:g&&g.websocket.close(),s(Object(f.f)(n,y.error));case 43:s(Object(m.t)()),Object(k.a)(Object.assign({},x,{actionInfo:Object.assign({},x.actionInfo,{success:y.ok})}));case 45:case"end":return a.stop()}},a,void 0,[[11,18],[30,35]])})),function(e,t,r){return a.apply(this,arguments)};var a},L="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",U=Object(b.a)(L),M=function(e,t,r){return n=d()(o.a.mark(function n(a,s,i){var c,u,d,l,p=i.apiContext;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=s(),a(Object(f.h)(r)),u=Object(S.A)(c,{subredditId:e})){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,x(p(),u.name,t);case 7:d=n.sent,l=Object(I.f)(c,"delete_flair_template"),d.ok?(a(U({flairId:t})),a(Object(f.e)(r))):a(Object(f.f)(r,d.error)),Object(k.a)(Object.assign({},l,{actionInfo:Object.assign({},l.actionInfo,{success:d.ok})})),a(Object(m.t)());case 12:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n}},"./src/reddit/actions/postList.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=(r("./src/reddit/actions/embedAndImage.ts"),r("./src/reddit/actions/video.ts"),r("./src/reddit/helpers/trackers/postList.ts"));r("./src/reddit/constants/postLayout.ts"),r("./src/reddit/selectors/platform.ts"),r("./src/reddit/selectors/posts.ts"),r("./src/reddit/selectors/video.ts");r.d(t,"a",function(){return u}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return b});var u="POSTLIST__MARKED_END",d="POSTLIST__UNMARKED_END",l=Object(c.a)(u),p=Object(c.a)(d),b=function(e,t){return r=i()(a.a.mark(function r(n,s){var i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=s(),e in i.listings.postOrder.fetchedTokens){r.next=4;break}return n(l({listingKey:e,listingName:t})),r.abrupt("return");case 4:if(!(e in i.listings.postOrder.ids)){r.next=7;break}return n(p({listingKey:e})),r.abrupt("return");case 7:o.j(i,e);case 8:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)};var r}},"./src/reddit/actions/product.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/defineProperty.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/reddit/actions/governance.ts"),l=r("./src/reddit/endpoints/governance/badges.ts"),p=r("./src/reddit/endpoints/governance/requester.ts");function b(e,t){return Object(p.a)(e,{method:"get",endpoint:"https://meta-api.reddit.com/products/"+t+"?type=badge"})}r.d(t,"b",function(){return f}),r.d(t,"d",function(){return O}),r.d(t,"a",function(){return m}),r.d(t,"c",function(){return v}),r.d(t,"g",function(){return g}),r.d(t,"e",function(){return j}),r.d(t,"f",function(){return h}),r.d(t,"h",function(){return y}),r.d(t,"i",function(){return k}),r.d(t,"j",function(){return w});var f="PRODUCT__BADGE_PURCHASE_OPENED",O="PRODUCT__BADGE_PURCHASE_SUCCESS",m="PRODUCT__BADGE_PURCHASE_FAILURE",v="PRODUCT__BADGE_PURCHASE_PENDING",g="PRODUCT__FETCH_SUCCESS",j="PRODUCT__FETCH_FAILURE",h="PRODUCT__FETCH_PENDING",y=Object(u.a)(f),_=Object(u.a)(O),E=Object(u.a)(m),x=Object(u.a)(v),T=Object(u.a)(g),I=Object(u.a)(j),S=Object(u.a)(h),k=function(e){var t,r=e.productId;return t=o()(a.a.mark(function e(t,n,s){var c,o,u,b,f,O,m,v,g,j=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),o=c.products.models[r],u=c.user.account,b=!!c.products.api.purchase.pending[r],!o||!o.price||b){e.next=15;break}return t(x({productId:r})),e.next=8,a=j(),s={price:o.price,products:i()({},r,"1"),subredditId:o.subredditId},Object(p.a)(a,{method:"post",endpoint:"https://meta-api.reddit.com/orders",data:s});case 8:if(f=e.sent,O=void 0,!f.ok||!u){e.next=14;break}return e.next=13,Object(l.c)(j(),o.subredditId,u.id);case 13:O=e.sent;case 14:f.ok?O&&O.ok&&(m=O.body,v=m.badges,g=m.userOwnedBadges,t(_({product:o,badges:v,userOwnedBadges:g,wallet:f.body.wallet}))):(t(E({productId:r,error:f.error})),Object(d.o)(t,f.error));case 15:case"end":return e.stop()}var a,s},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}},w=function(e){var t,r=e.subredditId;return t=o()(a.a.mark(function e(t,n,s){var i,c=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(S({subredditId:r})),e.next=3,b(c(),r);case 3:(i=e.sent).ok?t(T({subredditId:r,products:i.body})):t(I({subredditId:r,error:i.error}));case 5:case"end":return e.stop()}},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/profile.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/omitHeaders/index.ts"),l=r("./src/reddit/constants/headers.ts"),p=function(e,t){return Object(u.b)(Object(d.a)(e,[l.a]),{endpoint:e.apiUrl+"/user/"+t+"/about.json",method:o.Fa.GET,data:{raw_json:1}})},b=function(e,t){return Object(u.b)(Object(d.a)(e,[l.a]),{endpoint:e.apiUrl+"/user/"+t+"/moderated_subreddits.json",method:o.Fa.GET,data:{raw_json:1}})};function f(e){return e?e.map(function(e){return{communityIcon:e.community_icon,displayText:e.sr_display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.icon_img?e.icon_img:"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18,isQuarantined:!!e.quarantine,name:"user"===e.subreddit_type?e.sr.slice(o.Ob.length):e.sr,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls}}):[]}var O=r("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),m=r("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),v=r("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var g=r("./src/reddit/models/User/index.ts"),j=r("./src/reddit/selectors/profile.ts"),h=r("./src/reddit/selectors/subscriptions.ts"),y=r("./src/reddit/selectors/user.ts");r.d(t,"d",function(){return _}),r.d(t,"c",function(){return E}),r.d(t,"b",function(){return x}),r.d(t,"a",function(){return T}),r.d(t,"e",function(){return I}),r.d(t,"f",function(){return S}),r.d(t,"g",function(){return N}),r.d(t,"i",function(){return L}),r.d(t,"h",function(){return M});var _="PROFILE__PROFILE_INFO_LOADED",E="PROFILE__MODERATED_SUBREDDITS_PENDING",x="PROFILE__MODERATED_SUBREDDITS_LOADED",T="PROFILE__MODERATED_SUBREDDITS_FAILED",I="PROFILE__RECEIVED_MODERATED_SUBREDDITS_MODELS",S="PROFILE__RECEIVED_MODERATED_SUBREDDITS_SUBSCRIPTIONS",k=Object(c.a)(_),w=Object(c.a)("PROFILE__PROFILE_INFO_FAILED"),C=Object(c.a)(E),A=Object(c.a)(x),R=Object(c.a)(T),D=Object(c.a)(I),P=Object(c.a)(S),N=function(){return e=i()(a.a.mark(function e(t,r,n){var s;n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=Object(y.j)(r()))||!s.profileId){e.next=4;break}return e.next=4,t(L(Object(g.d)(s)));case 4:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},L=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),!!(!Object(j.g)(i,{profileName:e})||!Object(j.e)(i,{profileName:e}))){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,p(o(),e);case 6:(c=t.sent).ok?r(k((a=c.body,void 0,s=a.data,Object.assign({about:Object(m.a)(s),banner:s.subreddit&&s.subreddit.banner_img&&{height:s.subreddit.banner_size[1],url:s.subreddit.banner_img,width:s.subreddit.banner_size[0]},user:Object(O.a)(s)},s.subreddit?{profile:Object(v.a)(s.subreddit,s.name)}:null)))):r(w(c.body));case 8:case"end":return t.stop()}var a,s},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},U=function(e){var t=e.filter(function(e){return e.user_is_subscriber});return{subredditOrder:t.filter(function(e){return"user"!==e.subreddit_type}).map(function(e){return e.name}),profileOrder:t.filter(function(e){return"user"===e.subreddit_type}).map(function(e){return e.name})}},M=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d,l,p=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i={profileName:e},!Object(j.a)(n(),i)){t.next=3;break}return t.abrupt("return");case 3:if(!Object(j.h)(n(),i)){t.next=5;break}return t.abrupt("return");case 5:return r(C(i)),t.next=8,b(p(),e);case 8:(c=t.sent).ok?(o=f(c.body.data),r(A({profileName:e,data:o})),u={},d={},o.forEach(function(e){("user"===e.type?d:u)[e.id]=e}),r(D({subreddits:u,profiles:d})),Object(h.d)(n())||(l=U(c.body.data||[]),r(P(l)))):r(R(c.body));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/profileConversations.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/difference.js"),o=r.n(c),u=r("./node_modules/lodash/pick.js"),d=r.n(u),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/reddit/actions/pages/profileShared.ts"),f=r("./src/reddit/constants/parameters.ts"),O=r("./src/reddit/constants/things.ts"),m=r("./src/config.ts"),v=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),j=function(e,t,r){return Object(v.b)(e,{data:r,endpoint:Object(g.a)(m.a.gatewayUrl+"/desktopapi/v1/user/"+t+"/conversations"),method:l.Fa.GET})},h=function(e,t,r,n){return Object(v.b)(e,{endpoint:m.a.gatewayUrl+"/desktopapi/v1/user/"+t+"/morecomments/"+r,method:l.Fa.GET,type:"json",data:{after:n,limit:14}})},y=r("./src/reddit/helpers/makeOverviewListingKey/index.ts");r.d(t,"f",function(){return _}),r.d(t,"e",function(){return E}),r.d(t,"d",function(){return x}),r.d(t,"c",function(){return T}),r.d(t,"b",function(){return I}),r.d(t,"a",function(){return S}),r.d(t,"h",function(){return P}),r.d(t,"g",function(){return N});var _="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_PENDING",E="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_LOADED",x="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_FAILED",T="PROFILE__EXTRACOMMENTS_PENDING",I="PROFILE__EXTRACOMMENTS_LOADED",S="PROFILE__EXTRACOMMENTS_FAILED",k=Object(p.a)(_),w=Object(p.a)(E),C=Object(p.a)(x),A=Object(p.a)(I),R=Object(p.a)(T),D=Object(p.a)(S),P=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,u,p,O,m,v,g,h,_,E,x,T,I,S,A,R,D=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),(i=s.platform.currentPage)&&i.routeMatch){e.next=4;break}return e.abrupt("return");case 4:if(c=i.routeMatch.match,u=c.queryParams,p=c.params,O=Object(b.a)(s,u),m=O.sort,v=O.t,g=p.profileName,h=g.toLowerCase(),_=Object(y.a)(h,l.Pa,m,u),E=s.listings.postOrder.loadMore[_]){e.next=12;break}return e.abrupt("return");case 12:if(x=s.listings.postOrder.api.pending[_],T=s.listings.postOrder.fetchedTokens,I=!(!T[_]||!T[_][E.token]),!x&&!I){e.next=17;break}return e.abrupt("return");case 17:return t(k({key:_,fetchedToken:E.token})),e.next=20,j(D(),g,Object.assign({after:E.token,dist:E.dist,sort:m,t:v},d()(u,f.h)));case 20:(S=e.sent).ok?(A=s.listings.postOrder.ids[_],R=Object.assign({},S.body,{postIds:o()(S.body.postIds,A)}),t(w(Object.assign({fetchedToken:E.token,key:_,meta:s.meta,profileName:g},R)))):t(C({error:S.error,fetchedToken:E.token,key:_,account:S.body.data?S.body.data.account:null}));case 22:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},N=function(e,t,r){return n=i()(a.a.mark(function n(s,i,c){var o,u,d,l,p=c.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),!o.profileOverviewPage.conversations.extraComments.api.pending[r]){n.next=4;break}return n.abrupt("return");case 4:return s(R({extraCommentsId:r})),u=t,t.startsWith(O.b)&&(u=t.slice(O.b.length)),d=r.split("-")[1],n.next=10,h(p(),e,u,d);case 10:(l=n.sent).ok?s(A(Object.assign({profileName:e,extraCommentsId:r},l.body))):s(D(l.body));case 12:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n}},"./src/reddit/actions/profileOverviewChrono.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return g}),r.d(t,"b",function(){return j}),r.d(t,"a",function(){return h}),r.d(t,"d",function(){return x});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/difference.js"),o=r.n(c),u=r("./node_modules/lodash/pick.js"),d=r.n(u),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/reddit/helpers/makeOverviewListingKey/index.ts"),b=r("./src/reddit/selectors/profileOverviewChronoItems.ts"),f=r("./src/lib/constants/index.ts"),O=r("./src/reddit/constants/parameters.ts"),m=r("./src/reddit/actions/pages/profileShared.ts"),v=r("./src/reddit/endpoints/page/profileOverviewPage.ts"),g="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_PENDING",j="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_LOADED",h="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_FAILED",y=Object(l.a)(g),_=Object(l.a)(j),E=Object(l.a)(h),x=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,u,l,g,j,h,x,T,I,S,k,w,C,A,R,D=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),(i=s.platform.currentPage)&&i.routeMatch){e.next=4;break}return e.abrupt("return");case 4:if(c=i.routeMatch.match,u=c.queryParams,l=c.params,g=Object(m.a)(s,u),j=g.sort,h=g.t,x=l.profileName,T=Object(p.a)(x,f.Oa,j,u),I=Object(b.d)(s,{listingKey:T})){e.next=11;break}return e.abrupt("return");case 11:if(S=Object(b.b)(s,{listingKey:T}),k=Object(b.c)(s,{listingKey:T}),w=k&&k[I.token],!S&&!w){e.next=16;break}return e.abrupt("return");case 16:return t(y({key:T,fetchedToken:I.token})),e.next=19,Object(v.a)(D(),x,Object.assign({after:I.token,dist:I.dist,sort:j,t:h},d()(u,O.h)));case 19:(C=e.sent).ok?(A=Object(b.f)(s,{listingKey:T}),R=Object.assign({},C.body,{overviewIds:o()(C.body.overviewIds,A)}),t(_(Object.assign({fetchedToken:I.token,key:T,meta:s.meta},R)))):t(E({error:C.error,fetchedToken:I.token,key:T,account:C.body.data?C.body.data.account:null}));case 21:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/promo.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return p}),r.d(t,"d",function(){return b}),r.d(t,"c",function(){return O});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/cache/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/reddit/constants/promos.ts"),l="PROMO__HIDE_PROMO",p="PROMO__SHOW_PROMO",b=Object(u.a)(p),f=Object(u.a)(l),O=function(e,t){return r=i()(a.a.mark(function r(n,s){var i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=3,r.t0=e,r.next=r.t0===d.j.MobilePromoBanner?4:r.t0===d.j.UpsellSignUpBannerSmall?7:r.t0===d.j.UpsellSignUpBannerLarge?9:r.t0===d.j.UpsellSignUpBannerMedium?9:13;break;case 4:return n(f({promoType:e})),Object(c.d)(d.g,!0,(t||i)*o.y),r.abrupt("return");case 7:return n(f({promoType:e})),r.abrupt("return");case 9:return n(f({promoType:d.j.UpsellSignUpBannerLarge})),n(f({promoType:d.j.UpsellSignUpBannerMedium})),Object(c.d)(d.k,!0,o.Wb),r.abrupt("return");case 13:case"end":return r.stop()}},r,void 0)})),function(e,t){return r.apply(this,arguments)};var r}},"./src/reddit/actions/recommendations.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/config.ts"),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeApiRequest/index.ts"),p=r("./src/reddit/helpers/addRedesignIdentifier/index.ts");n=c()(s.a.mark(function e(t,r){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={link_id:r,with_ads:!0},e.abrupt("return",Object(l.b)(t,{endpoint:Object(p.a)(u.a.gatewayUrl+"/desktopapi/v1/recommended_posts"),method:d.Fa.GET,data:n}));case 2:case"end":return e.stop()}},e,void 0)}));r.d(t,"a",function(){return b}),r.d(t,"b",function(){return f});var b="RECOMMENDED_POSTS_FAILED",f="RECOMMENDED_POSTS_LOADED";Object(o.a)(f),Object(o.a)(b)},"./src/reddit/actions/redditEmbed.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return d}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return O});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/endpoints/me/index.ts"),u=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),d="REDDIT_EMBED_LOADED",l="REDDIT_EMBED_FAILED",p=Object(c.a)("REDDIT_EMBED_PENDING"),b=Object(c.a)(d),f=Object(c.a)(l),O=function(e,t){return r=i()(a.a.mark(function e(r,n,s){var i,c,d=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n(),r(p()),e.next=4,Object(o.a)(d());case 4:if((c=e.sent).ok&&c.body){e.next=8;break}return r(f(c.error)),e.abrupt("return");case 8:if(!t||c.body.account){e.next=11;break}return Object(u.a)(r,i),e.abrupt("return");case 11:r(b(c.body));case 12:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/removalReasons.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/app/models/Draft.ts"),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeCommentsPageKey/index.ts"),b=r("./src/lib/makeDraftKey/index.ts"),f=r("./src/reddit/helpers/isPost.ts"),O=r("./src/reddit/helpers/routeKey/index.ts"),m=r("./src/app/strings/index.ts"),v=r("./src/reddit/actions/comment.ts"),g=r("./src/reddit/actions/modal.ts"),j=r("./src/reddit/actions/modQueue.ts"),h=r("./src/reddit/actions/post.ts"),y=r("./src/reddit/actions/toaster.ts"),_=r("./src/reddit/constants/modals.ts"),E=r("./src/lib/makeApiRequest/index.ts"),x=r("./src/lib/omitHeaders/index.ts"),T=r("./src/reddit/constants/headers.ts"),I=function(e,t){return Object(E.b)(Object(x.a)(e,[T.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/removal_reasons.json",method:l.Fa.GET})},S=function(e,t,r){return Object(E.b)(Object(x.a)(e,[T.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/removal_reasons",method:l.Fa.POST,data:r})},k=function(e,t,r){return Object(E.b)(Object(x.a)(e,[T.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/removal_reasons/"+r.id,method:l.Fa.PUT,data:{message:r.message,title:r.title}})},w=function(e,t,r){return Object(E.b)(Object(x.a)(e,[T.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/removal_reasons/"+r,method:l.Fa.DELETE})},C=function(e,t){return Object(E.b)(Object(x.a)(e,[T.a]),{endpoint:e.apiUrl+"/api/v1/modactions/removal_reasons/",method:l.Fa.POST,type:"json",data:{item_ids:t.itemIds,reason_id:t.reasonId,mod_note:t.modNote}})},A=function(e,t,r){return Object(E.b)(Object(x.a)(e,[T.a]),{endpoint:e.apiUrl+"/api/v1/modactions/removal_"+r+"_message/",method:l.Fa.POST,type:"json",data:t})},R=r("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),D=r("./src/reddit/models/ModQueue/index.ts"),P=r("./src/reddit/models/RemovalReason/index.ts"),N=r("./src/reddit/models/Toast/index.ts"),L=r("./src/reddit/selectors/comments.ts"),U=r("./src/reddit/selectors/platform.ts");r.d(t,"k",function(){return M}),r.d(t,"l",function(){return F}),r.d(t,"j",function(){return G}),r.d(t,"r",function(){return q}),r.d(t,"b",function(){return K}),r.d(t,"c",function(){return W}),r.d(t,"a",function(){return Q}),r.d(t,"n",function(){return X}),r.d(t,"h",function(){return Z}),r.d(t,"i",function(){return $}),r.d(t,"g",function(){return ee}),r.d(t,"p",function(){return ae}),r.d(t,"e",function(){return se}),r.d(t,"f",function(){return ie}),r.d(t,"d",function(){return ce}),r.d(t,"o",function(){return le}),r.d(t,"m",function(){return pe}),r.d(t,"q",function(){return fe}),r.d(t,"t",function(){return _e}),r.d(t,"s",function(){return Ee});var M="REMOVALREASONS__LOAD_PENDING",F="REMOVALREASONS__LOAD_SUCCESS",G="REMOVALREASONS__LOAD_FAILED",B=Object(u.a)(M),V=Object(u.a)(F),H=Object(u.a)(G),q=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(),c=s.subreddits.models[e].name,r(B()),t.next=5,I(u(),c);case 5:(o=t.sent).ok?r(V({subredditId:e,response:o.body})):r(H(o.error));case 7:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},K="REMOVALREASONS__ADD_PENDING",W="REMOVALREASONS__ADD_SUCCESS",Q="REMOVALREASONS__ADD_FAILED",Y=Object(u.a)(K),J=Object(u.a)(W),z=Object(u.a)(Q),X=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l,p,b=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u=c.user.language,n(Y()),r.next=6,S(b(),o,t);case 6:(d=r.sent).ok?(l=d.body.id,p=Object.assign({},t,{id:l}),n(J({subredditId:e,reason:p})),n(Object(y.e)({kind:N.a.SuccessMod,text:Object(m.a)(u,"subredditModeration.removalReasons.toastText.removalReasonAdded")}))):n(z(d.error));case 8:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},Z="REMOVALREASONS__EDIT_PENDING",$="REMOVALREASONS__EDIT_SUCCESS",ee="REMOVALREASONS__EDIT_FAILED",te=Object(u.a)(Z),re=Object(u.a)($),ne=Object(u.a)(ee),ae=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u=c.user.language,n(te()),r.next=6,k(l(),o,t);case 6:(d=r.sent).ok?(n(re({subredditId:e,reason:t})),n(Object(y.e)({kind:N.a.SuccessMod,text:Object(m.a)(u,"subredditModeration.removalReasons.toastText.removalReasonSaved")}))):n(ne(d.error));case 8:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},se="REMOVALREASONS__DELETE_PENDING",ie="REMOVALREASONS__DELETE_SUCCESS",ce="REMOVALREASONS__DELETE_FAILED",oe=Object(u.a)(se),ue=Object(u.a)(ie),de=Object(u.a)(ce),le=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u=c.user.language,n(oe()),r.next=6,w(l(),o,t);case 6:(d=r.sent).ok?(n(ue({subredditId:e,reasonId:t})),n(Object(y.e)({kind:N.a.SuccessMod,text:Object(m.a)(u,"subredditModeration.removalReasons.toastText.removalReasonDeleted")}))):n(de(d.error));case 8:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},pe="REMOVALREASONS__REMOVEDITEMS_SELECTED",be=Object(u.a)(pe),fe=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c;s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:c=a(),c.removalReasons.reasonOrder[e]&&c.removalReasons.reasonOrder[e].length>0||n(q(e)),n(be({subredditId:e,itemIds:t})),n(Object(g.j)(_.a.ADD_REMOVAL_REASON));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},Oe=Object(u.a)("REMOVALREASONS__SUBMIT_PENDING"),me=Object(u.a)("REMOVALREASONS__SUBMIT_SUCCESS"),ve=Object(u.a)("REMOVALREASONS__SUBMIT_FAILED"),ge=Object(u.a)("REMOVALREASONS__MESSAGE_PENDING"),je=Object(u.a)("REMOVALREASONS__MESSAGE_PRIVATE_SUCCESS"),he=Object(u.a)("REMOVALREASONS__MESSAGE_PUBLIC_SUCCESS"),ye=Object(u.a)("REMOVALREASONS__MESSAGE_FAILED"),_e=function(e,t,r,n,s){return c=o()(i.a.mark(function c(o,u,m){var g,j,y,_,E,x,T,I,S,k,w,D,N,M,F,G,B,V,H,q=m.apiContext;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(g=u(),j=g.user.account&&g.user.account.displayText,y=e[0],_=Object(f.a)(y)?P.e.Post:P.e.Comment,E=_===P.e.Post?g.posts.models[y]:g.comments.models[y],x=_===P.e.Post?h.y:v.O,E&&j){i.next=8;break}return i.abrupt("return");case 8:return o(Oe()),o(x(a()({},y,{modNote:s,modRemovalReason:t&&t.title,modReasonBy:j}))),T={itemIds:e,modNote:s,reasonId:t?t.id:null},i.next=13,C(q(),T);case 13:if(!(I=i.sent).ok){i.next=25;break}if(o(me()),!t){i.next=23;break}return o(ge()),S={itemId:e,message:r,title:t.title,type:n},i.next=21,A(q(),Object(P.h)(S,_),_);case 21:(k=i.sent).ok?n===P.f.Public?(o(he()),k.body&&(w=Object(R.a)(k.body,j),D={comment:w,parentId:y},N=Object(U.g)(g),M=g.platform.currentPage&&g.platform.currentPage.routeMatch,(F=N&&M&&Object(O.a)(M,g,g.posts.models[w.postId]))||(F=Object(p.a)(w.postId,null,{sort:l.u,hasSortParam:!0})),_===P.e.Post?(G=Object(b.a)(d.a.replyToPost,y),o(Object(v.Ha)(Object.assign({},D,{headCommentId:Object(L.w)(g,{commentsPageKey:F}),commentsPageKey:F,draftKey:G}))),B=g.postStickiedComments.data[y],o(Object(v.Da)({id:w.id,postId:w.postId,commentsPageKey:F})),B&&B!==w.id&&o(Object(v.O)(a()({},B,{isStickied:!1})))):_===P.e.Comment&&(V=Object(b.a)(d.a.replyToComment,E.id),H=Object(L.j)(g,{commentId:y,commentsPageKey:F}),o(Object(v.Fa)(Object.assign({},D,{parentCommentId:y,commentsPageKey:F,draftKey:V,depth:H+1})))))):o(je()):o(ye(k.error));case 23:i.next=27;break;case 25:o(ve(I.error)),o(x(a()({},y,{modNote:E.modNote,modRemovalReason:E.modRemovalReason,modReasonBy:E.modReasonBy})));case 27:case"end":return i.stop()}},c,void 0)})),function(e,t,r){return c.apply(this,arguments)};var c},Ee=function(e,t,r,n,a){return s=o()(i.a.mark(function s(c,o,u){var d,l,p,b,f,O,v,g,h,_=u.apiContext;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(d=o(),l=d.user.language,p=d.user.account&&d.user.account.displayText){s.next=5;break}return s.abrupt("return");case 5:return c(Oe()),b=Object(y.e)({kind:N.a.SuccessMod,text:Object(m.a)(l,"subredditModeration.removalReasons.toastText.addedRemovalReason",{number:e.length})}),f={itemIds:e,modNote:a,reasonId:t?t.id:null},s.next=10,C(_(),f);case 10:if(!(O=s.sent).ok){s.next=25;break}if(v={ids:e,operation:D.a.RemovalReason,username:p,options:{modNote:a,removalReason:t&&t.title}},c(Object(j.x)(v)),!t){s.next=22;break}return g={itemId:e,message:r,title:t.title,type:n},s.next=18,A(_(),Object(P.h)(g,P.e.Bulk),P.e.Bulk);case 18:(h=s.sent).ok?(c(je()),c(b)):c(ye(h.error)),s.next=23;break;case 22:c(b);case 23:s.next=26;break;case 25:c(ve(O.error));case 26:case"end":return s.stop()}},s,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s}},"./src/reddit/actions/reportFlow.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return _}),r.d(t,"c",function(){return E}),r.d(t,"b",function(){return x}),r.d(t,"g",function(){return k}),r.d(t,"e",function(){return w}),r.d(t,"a",function(){return C}),r.d(t,"i",function(){return D}),r.d(t,"f",function(){return P}),r.d(t,"h",function(){return U});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/modal.ts"),d=r("./src/reddit/actions/sitewideRules.ts"),l=r("./src/reddit/actions/subreddit.ts"),p=r("./src/reddit/actions/toaster.ts"),b=r("./src/reddit/actions/users.ts"),f=r("./src/reddit/components/AccountManagerModal/index.tsx"),O=r("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),m=r("./src/reddit/endpoints/post/index.tsx"),v=r("./src/reddit/helpers/isComment.ts"),g=r("./src/reddit/helpers/isPost.ts"),j=r("./src/reddit/models/Toast/index.ts"),h=r("./src/reddit/selectors/posts.ts"),y=r("./src/reddit/selectors/user.ts"),_="REPORT__PENDING",E="REPORT__LOADED",x="REPORT__FAILED",T=Object(o.a)(_),I=Object(o.a)(E),S=Object(o.a)(x),k=function e(t){return r=i()(a.a.mark(function r(n,s,i){var o,u,d,l,b,f,O=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.id,u=s(),d=u.reportFlow.api.pending[o],l=u.reportFlow.userIsMod,!d){r.next=6;break}return r.abrupt("return");case 6:return n(T({id:o})),r.next=9,Object(m.m)(O(),t);case 9:b=r.sent,f="error-report-"+o,b.ok?(n(I({id:o})),n(p.f(f)),l&&n(U())):(n(S({id:o})),n(p.e({id:f,kind:j.a.Error,text:Object(c.a)(u.user.language,"reportFlow.reportRequest.error"),buttonText:Object(c.a)(u.user.language,"reportFlow.reportRequest.retry"),buttonAction:e(t)})));case 12:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},w="REPORT_FLOW__TARGET_SET",C="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",A=Object(o.a)(w),R=Object(o.a)(C),D=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,p,O;i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),o=Object(v.a)(e),Object(g.a)(e)||o){r.next=5;break}return r.abrupt("return");case 5:if(p=o?c.comments.models[e]:c.posts.models[e]){r.next=8;break}return r.abrupt("return");case 8:if(Object(y.B)(s())){r.next=12;break}return n(Object(u.j)(f.b)),n(Object(u.m)({actionSource:"report",redirectUrl:p.permalink})),r.abrupt("return");case 12:n(Object(b.s)(p.author)),O=Object(h.L)(c,{postId:o?c.comments.models[e].postId:c.posts.models[e].id}),c.sitewideRules&&c.sitewideRules.length||n(Object(d.b)()),O&&n(Object(l.t)(O.name,O.type)),n(A(e)),n(R(!!t)),O&&n(L(O.name));case 19:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},P="REPORT_FLOW__USER_IS_MOD_SET",N=Object(o.a)(P),L=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.a)(c());case 2:i=t.sent,r(N(i.ok&&!!i.body[e]));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},U=function(){return e=i()(a.a.mark(function e(t,r,n){n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(A(null));case 1:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/search.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"a",function(){return j}),r.d(t,"d",function(){return E});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/pick.js"),o=r.n(c),u=r("./src/app/strings/index.ts"),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/lib/makeSearchKey/index.ts"),b=r("./src/reddit/actions/toaster.ts"),f=r("./src/reddit/constants/parameters.ts"),O=r("./src/reddit/endpoints/page/search.ts"),m=r("./src/reddit/models/Toast/index.ts"),v="SEARCH__MORE_RESULTS_PENDING",g="SEARCH__MORE_RESULTS_RECEIVED",j="SEARCH__MORE_RESULTS_FAILED",h=Object(l.a)(v),y=Object(l.a)(g),_=Object(l.a)(j),E=function e(t){return r=i()(a.a.mark(function r(n,s,i){var c,l,v,g,j,E,x,T,I,S,k,w,C,A,R,D,P=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),l=c.platform.currentPage.queryParams,v=c.platform.currentPage.urlParams.subredditName||c.platform.currentPage.urlParams.multiredditName,g=Object(p.c)(o()(l,f.l)),j=Object(p.b)(v,g),E=void 0,!(t.indexOf(d.Eb.Posts)>-1)){r.next=18;break}if(x=c.listings.postOrder.loadMore[j]){r.next=10;break}return r.abrupt("return");case 10:if(T=c.listings.postOrder.api.pending[j],I=c.listings.postOrder.fetchedTokens,S=I[j]&&I[j][x.token],!T&&!S){r.next=15;break}return r.abrupt("return");case 15:E=x.token,r.next=31;break;case 18:if(!(t.indexOf(d.Eb.Subreddits)>-1||t.indexOf(d.Eb.Users)>-1)){r.next=30;break}if(k=c.listings.listingOrder.loadMore[j]){r.next=22;break}return r.abrupt("return");case 22:if(w=c.listings.listingOrder.api.pending[j],C=c.listings.listingOrder.fetchedTokens,A=C[j]&&C[j][k.token],!w&&!A){r.next=27;break}return r.abrupt("return");case 27:E=k.token,r.next=31;break;case 30:throw new Error("Should not attempt to fetch more results without a search type");case 31:return R="error-"+j,n(h({fetchedToken:E,key:j,type:t})),r.next=35,Object(O.a)(P(),v,Object.assign({},g,{after:E,type:(g.type||[]).join(",")}));case 35:(D=r.sent).ok?(n(y(Object.assign({key:j,fetchedToken:E,meta:c.meta,subredditOrMultiName:v,type:t},D.body))),n(b.f(R))):(n(_(Object.assign({key:j,error:D.error,fetchedToken:E,meta:c.meta,type:t},D.body))),n(b.e({id:R,kind:m.a.Error,text:Object(u.a)(c.user.language,"search.toast.moreResultsError"),buttonText:Object(u.a)(c.user.language,"search.toast.retryButton"),buttonAction:e(t)})));case 37:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/session.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=function(e,t){return Object(u.b)(e,{data:t,endpoint:"/refreshproxy",method:o.Fa.POST})};r.d(t,"c",function(){return l}),r.d(t,"d",function(){return p}),r.d(t,"e",function(){return b}),r.d(t,"f",function(){return f}),r.d(t,"a",function(){return O}),r.d(t,"b",function(){return m}),r.d(t,"g",function(){return j});var l="SESSION__USER_AUTHENTICATED",p="SESSION__USER_LOGGED_OUT",b="SESSION__USER_REAUTHENTICATED",f="SESSION__USER_REFRESH_FAILED",O="SESSION__LOAT_RECEIVED",m="SESSION__LOAT_REFRESHED",v=(Object(c.a)(l),Object(c.a)(b)),g=Object(c.a)(p),j=(Object(c.a)(f),function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,o=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=r().user.session)){e.next=6;break}return e.next=4,d(o(),s);case 4:(i=e.sent).ok&&((c=i.body).unsafeLoggedOut?(s.unsafeLoggedOut||t(g()),t(h(c))):t(v(c)));case 6:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}),h=(Object(c.a)(O),Object(c.a)(m))},"./src/reddit/actions/shortcuts.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/react-router-redux/es/index.js"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/comment.ts"),d=r("./src/reddit/actions/modal.ts"),l=r("./src/reddit/actions/post.ts"),p=r("./src/reddit/actions/toaster.ts"),b=r("./src/reddit/components/Comments/helpers/hiddenComments.ts"),f=r("./src/reddit/constants/elementIds.ts"),O=r("./src/reddit/constants/modals.ts"),m=r("./src/reddit/constants/postLayout.ts"),v=r("./src/reddit/constants/shortcuts.ts"),g=r("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),j=r("./src/reddit/helpers/overlay/index.ts"),h=r("./src/reddit/helpers/routeKey/index.ts"),y=r("./src/reddit/helpers/trackers/lightbox.ts"),_=r("./src/reddit/selectors/telemetry.ts"),E=function(e){return function(){return{source:"shortcuts",action:"submit",noun:e}}},x=function(e,t){return function(r){return{source:"shortcuts",action:"submit",noun:e,post:_.post(r,t)}}},T=function(e,t){return function(r){return{source:"shortcuts",action:"submit",noun:e,post:_.comment(r,t)}}},I=E("show_panel"),S=E("esc_close"),k=function(e){return T("enter_comment_collapse",e)},w=function(e){return x("j_next",e)},C=function(e){return x("k_previous",e)},A=function(e){return x("s_save",e)},R=function(e){return x("a_upvote",e)},D=function(e){return x("z_downvote",e)},P=E("c_create_post"),N=(E("q_navigation"),r("./src/reddit/selectors/gild.ts")),L=r("./src/reddit/selectors/goldPurchaseModals.ts"),U=r("./src/reddit/selectors/listings.ts"),M=r("./src/reddit/selectors/platform.ts");r.d(t,"a",function(){return G}),r.d(t,"b",function(){return B}),r.d(t,"c",function(){return H}),r.d(t,"l",function(){return q}),r.d(t,"k",function(){return K}),r.d(t,"p",function(){return W}),r.d(t,"j",function(){return Q}),r.d(t,"o",function(){return Y}),r.d(t,"t",function(){return J}),r.d(t,"f",function(){return z}),r.d(t,"s",function(){return X}),r.d(t,"h",function(){return Z}),r.d(t,"g",function(){return $}),r.d(t,"e",function(){return ee}),r.d(t,"m",function(){return te}),r.d(t,"q",function(){return re}),r.d(t,"i",function(){return ne}),r.d(t,"n",function(){return ae}),r.d(t,"d",function(){return ie}),r.d(t,"r",function(){return le});var F=void 0,G="SHORTCUTS__ACTIVE_COMMENT_SET",B="SHORTCUTS__ACTIVE_POST_SET",V=Object(o.a)(G),H=Object(o.a)(B),q=function(e){return t=i()(a.a.mark(function t(r,n,s){s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(Object(d.j)(O.a.KEYBOARD_SHORTCUTS)),e(I);case 2:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},K=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,u,d,l,p,b;i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=s(),o=c.shortcuts.activePostId,u=c.listings.activeKey,d=c.listings.postOrder.ids[u],o&&!(d.indexOf(o)<0)){r.next=9;break}return l=d[0],n(H(l)),ue(l),r.abrupt("return");case 9:p=void 0,b=o;case 11:if(!(p=Object(U.b)(c,{postId:b}))||!p.nextPost){r.next=16;break}b=p.nextPost.id,r.next=17;break;case 16:return r.abrupt("return");case 17:if(c.posts.models[b].hidden){r.next=11;break}case 18:c.shortcuts.namespace===v.d.Lightbox?(ce(n,p.nextPost),e(t?y.b(o,"next_post",!0):x("n_next",b))):(n(H(b)),ue(b),e(w(b)));case 19:case"end":return r.stop()}},r,F)})),function(e,t,n){return r.apply(this,arguments)};var r},W=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d,l;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.shortcuts.activePostId,o=i.listings.activeKey,u=i.listings.postOrder.ids[o],c&&!(u.indexOf(c)<0)){t.next=8;break}return r(H(u[0])),ue(u[0]),t.abrupt("return");case 8:if(0!==u.indexOf(c)){t.next=10;break}return t.abrupt("return");case 10:d=void 0,l=c;case 12:if(!(d=Object(U.b)(i,{postId:l}))||!d.prevPost){t.next=17;break}l=d.prevPost.id,t.next=18;break;case 17:return t.abrupt("return");case 18:if(i.posts.models[l].hidden){t.next=12;break}case 19:i.shortcuts.namespace===v.d.Lightbox?(ce(r,d.prevPost),e(x("p_previous",l))):(r(H(l)),ue(l),e(C(l)));case 20:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},Q=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d,l,p;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=oe(i)){t.next=4;break}return t.abrupt("return");case 4:if(o=void 0,u=i.shortcuts.activeCommentId){t.next=13;break}if(d=i.commentsPage.keyToHeadCommentId[c]){t.next=10;break}return t.abrupt("return");case 10:o=d,t.next=24;break;case 13:if(l=i.comments.collapsed[c],p=i.commentsPage.keyToCommentThreadLinkSets[c],!l[o=u]){t.next=23;break}case 17:if(p[o].next){t.next=19;break}return t.abrupt("return");case 19:o=p[o].next.id;case 20:if(b.b(o)){t.next=17;break}case 21:t.next=24;break;case 23:o=p[o].next.id;case 24:r(V(o)),ue(o),e(T("j_next",o));case 27:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},Y=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d,l;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=oe(i)){t.next=4;break}return t.abrupt("return");case 4:if(o=void 0,(u=i.shortcuts.activeCommentId)&&u!==i.commentsPage.keyToHeadCommentId[c]){t.next=13;break}if((d=i.commentsPage.keyToHeadCommentId[c])&&u!==d){t.next=10;break}return t.abrupt("return");case 10:o=d,t.next=16;break;case 13:for(l=i.commentsPage.keyToCommentThreadLinkSets[c],o=l[u].prev.id;b.b(o);)o=l[o].prev.id;case 16:r(V(o)),ue(o),e(T("k_previous",o));case 19:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},J=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,d,p;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.shortcuts,o=c.activeCommentId,d=c.activePostId,p=oe(i)){t.next=5;break}return t.abrupt("return");case 5:o&&!i.comments.collapsed[p][o]?(r(u.La(o)),e(T("a_upvote",o))):d&&(r(l.G(d)),e(R(d)));case 6:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},z=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,d,p;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.shortcuts,o=c.activeCommentId,d=c.activePostId,p=oe(i)){t.next=5;break}return t.abrupt("return");case 5:o&&!i.comments.collapsed[p][o]?(r(u.Q(o)),e(T("z_downvote",o))):d&&(r(l.m(d)),e(D(d)));case 6:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},X=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,d,p;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.shortcuts,o=c.activeCommentId,d=c.activePostId,p=oe(i)){t.next=5;break}return t.abrupt("return");case 5:o&&!i.comments.collapsed[p][o]?(r(u.Ba(o)),e(T("s_save",o))):d&&(r(l.A(d)),e(A(d)));case 6:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},Z=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),(c=i.shortcuts.activePostId)&&!i.posts.models[c].isSponsored){t.next=4;break}return t.abrupt("return");case 4:r(l.D(c,!i.posts.models[c].hidden,i.shortcuts.namespace===v.d.Lightbox,!0)),r(K(e)),e(x("h_hide",c));case 7:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},$=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n(),c=i.shortcuts.activePostId,o=i.user.prefs.layout,!c||o!==m.e.Compact&&o!==m.e.Classic||(u=i.posts.models[c].crosspostRootId,(i.posts.models[c].media||u&&i.posts.models[u]&&i.posts.models[u].media)&&(r(l.n({postId:c})),e(x("x_expando",c))));case 4:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},ee=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o,d,l,p;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),o=i.shortcuts.activeCommentId,(d=oe(i))&&o){t.next=5;break}return t.abrupt("return");case 5:i.comments.models[o]?r(u.Ia({commentId:o,commentsPageKey:d,scrollToAndRemeasure:function(){return null}})):i.continueThreads.models[o]?(l=i.continueThreads.models[o].parentId,p=i.comments.models[l].permalink,r(Object(c.b)(p))):(r(Y(e)),r(u.U(d,o))),e(k(o));case 7:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},te=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),c=i.listings.activeKey,o=i.listings.postOrder.ids[c],u=i.shortcuts.activePostId,o&&u&&!(o.indexOf(u)<0)){t.next=6;break}return t.abrupt("return");case 6:r(Object(j.a)(i.posts.models[u].permalink)),e(x("enter_open_post",u));case 8:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},re=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n(),c=oe(i),(o=i.shortcuts.activeCommentId)&&c&&c!==i.listings.activeKey&&(r(u.Ja({commentsPageKey:c,parentCommentId:o})),e(T("r_comment",o)));case 4:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},ne=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o,u;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n()).user.account){t.next=3;break}return t.abrupt("return");case 3:o=Object(M.f)(i),u=o?o.url:"/",r(Object(c.b)(u+"submit")),e(P);case 7:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},ae=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,c,o,u,d;s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n(),(c=i.shortcuts.activePostId)&&(o=i.posts.models[c]).source&&(u=o.source.url,(d=window.open(u,"_blank"))&&d.focus(),e(x("l_go_to_link",c)));case 3:case"end":return t.stop()}},t,F)})),function(e,r,n){return t.apply(this,arguments)};var t},se=[L.d,L.q,function(e){return!!Object(N.d)(e)}],ie=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var o,l,b,f,O,m,g,j,h,_,E;i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o=s(),l=!0,b=!1,f=void 0,r.prev=4,O=se[Symbol.iterator]();case 6:if(l=(m=O.next()).done){r.next=13;break}if(!(0,m.value)(o)){r.next=10;break}return r.abrupt("return");case 10:l=!0,r.next=6;break;case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(4),b=!0,f=r.t0;case 19:r.prev=19,r.prev=20,!l&&O.return&&O.return();case 22:if(r.prev=22,!b){r.next=25;break}throw f;case 25:return r.finish(22);case 26:return r.finish(19);case 27:g=document.activeElement,j=o.shortcuts.activeCommentId,h=oe(o),g&&"true"===g.contentEditable&&j&&h?(n(u.M({parentCommentId:j,commentsPageKey:h})),ue(j)):o.activeModalId?(de(v.b),n(Object(d.j)(o.activeModalId))):o.toaster[0]?(de(v.b),n(Object(p.f)(o.toaster[0].id))):o.shortcuts.namespace===v.d.Lightbox&&o.platform.currentPage&&(_=o.platform.currentPage.locationState.closeLocation)&&(de(v.b),n(Object(c.b)(_))),E=o.shortcuts.activePostId,e(t&&E?y.b(E,"close",!0):S);case 33:case"end":return r.stop()}},r,F,[[4,15,19,27],[20,,22,26]])})),function(e,t,n){return r.apply(this,arguments)};var r},ce=function(e,t){de(v.b),e(H(t.id)),document.body.style.overflow="",ue(t.id),document.body.style.overflow="hidden",e(Object(j.a)(t.permalink));var r=document.getElementById(f.c);r&&r.scrollTo(0,0)},oe=function(e){var t=e.platform.currentPage;if(t&&t.routeMatch){var r=t.routeMatch,n=Object(g.a)(e,r);return Object(h.c)(r,e,n)}},ue=function(e){var t=document.getElementById(e);t&&t.focus()},de=function(e){var t=document.getElementById(e),r=window.scrollX,n=window.scrollY;t&&(t.focus(),window.scrollTo(r,n))},le=function(){de(v.b)}},"./src/reddit/actions/sitewideRules.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),l=r("./src/lib/omitHeaders/index.ts"),p=r("./src/reddit/constants/headers.ts");r.d(t,"a",function(){return b}),r.d(t,"b",function(){return m});var b="SITEWIDE_RULES_LOADED",f=Object(o.a)(b),O=Object(c.e)("reportFlow.sectionHeaders.spamAndAbuse"),m=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,o,b,m=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=r()).user&&s.user.language){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n=m(),Object(d.b)(Object(l.a)(n,[p.a]),{endpoint:n.apiUrl+"/api/sitewide_rules.json",method:u.Fa.GET});case 5:(i=e.sent).ok&&(c=i.body.sitewide_rules,o=[],c&&c.length&&(b={reasonTextToShow:O(s.user.language),nextStepReasons:[c[0],c[1]]},o.push(b),o=o.concat(c.slice(2))),t(f(o)));case 7:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/structuredStyles.ts":function(e,t,r){"use strict";r.d(t,"h",function(){return C}),r.d(t,"j",function(){return N}),r.d(t,"s",function(){return F}),r.d(t,"i",function(){return G}),r.d(t,"r",function(){return q}),r.d(t,"e",function(){return K}),r.d(t,"p",function(){return Q}),r.d(t,"c",function(){return Y}),r.d(t,"n",function(){return z}),r.d(t,"g",function(){return X}),r.d(t,"b",function(){return ee}),r.d(t,"m",function(){return re}),r.d(t,"f",function(){return ne}),r.d(t,"q",function(){return se}),r.d(t,"d",function(){return ie}),r.d(t,"o",function(){return oe}),r.d(t,"a",function(){return ue}),r.d(t,"l",function(){return de}),r.d(t,"k",function(){return le}),r.d(t,"t",function(){return pe});var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/lodash/omit.js"),d=r.n(u),l=r("./node_modules/lodash/pick.js"),p=r.n(l),b=r("./node_modules/react-router-redux/es/index.js"),f=r("./src/lib/filterQueryParams/index.ts"),O=r("./src/lib/makeActionCreator/index.ts"),m=r("./src/reddit/actions/apiRequestState.ts"),v=r("./src/reddit/actions/imageUploads.ts"),g=r("./src/reddit/actions/modal.ts"),j=r("./src/reddit/constants/modals.ts"),h=r("./src/reddit/endpoints/moderator/structuredStyles.ts"),y=r("./src/reddit/helpers/getGenericUploadError.ts"),_=r("./src/reddit/helpers/media/index.ts"),E=r("./src/reddit/models/Image/index.tsx"),x=r("./src/reddit/models/StructuredStyles/index.ts"),T=r("./src/reddit/selectors/structuredStyles.ts"),I=r("./src/reddit/selectors/subreddit.ts"),S=r("./src/reddit/selectors/user.ts"),k=r("./src/reddit/helpers/trackers/blade.ts"),w=r("./src/telemetry/index.ts"),C="STRUCTURED_STYLES__STYLES_REQUESTED_LOADED",A=Object(O.a)("STRUCTURED_STYLES__STYLES_REQUESTED_PENDING"),R=Object(O.a)(C),D=Object(O.a)("STRUCTURED_STYLES__STYLES_REQUESTED_FAILED"),P=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l,p,b=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(A({subredditId:e})),c=Object(I.A)(a(),{subredditId:e}).name,r.next=4,h.get(b(),c,t);case 4:(o=r.sent).ok?(u=void 0,d=void 0,l=void 0,(p=o.body).data?(u=p.data.style,d=p.data.content.widgets.items,l=p.data.content.widgets.layout.sidebar.order):(u={},d={},l=[]),n(R({subredditId:e,styles:u,widgets:d,sidebar:l}))):n(D(Object.assign({subredditId:e},o.error)));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},N="STRUCTURED_STYLES__STYLES_UPDATED_LOADED",L=Object(O.a)(N),U={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},M=function(e){var t=Object.assign({},e);return Object.keys(e).forEach(function(r){U[r]&&!e[r]&&U[r].forEach(function(e){return t[e]=null})}),t},F=function(e,t,r,n){return a=o()(i.a.mark(function a(s,c,o){var u,d,l,p,b,f,O,g,j,_,x,T;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:u=o.apiContext,d=c(),l=M(t),p=d.structuredStyles.models[e],b=void 0,a.t0=i.a.keys(l);case 6:if((a.t1=a.t0()).done){a.next=13;break}if(f=a.t1.value,l[f]===p[f]){a.next=11;break}return b=!0,a.abrupt("break",13);case 11:a.next=6;break;case 13:if(b){a.next=15;break}return a.abrupt("return");case 15:return s(Object(m.h)(n)),O=Object(k.m)(r)(d),g=null,j=null,a.prev=19,a.next=22,Object(v.f)(c(),E.a.StructuredStyles);case 22:(g=a.sent)&&(j=Object(v.m)(g)(s,c,o)),a.next=31;break;case 26:return a.prev=26,a.t2=a.catch(19),_=Object(y.a)("webSocket"),s(Object(m.f)(n,_)),a.abrupt("return");case 31:return x=Object(I.A)(d,{subredditId:e}).name,a.next=34,h.patch(u(),x,l);case 34:if(!(T=a.sent).ok){a.next=48;break}if(!j){a.next=44;break}return a.prev=37,a.next=40,j;case 40:a.next=44;break;case 42:a.prev=42,a.t3=a.catch(37);case 44:s(Object(m.e)(n)),s(L({subredditId:e,styles:l})),a.next=50;break;case 48:g&&g.websocket.close(),s(Object(m.f)(n,T.error));case 50:Object(w.a)(Object.assign({},O,{actionInfo:Object.assign({},O.actionInfo,{success:T.ok})}));case 51:case"end":return a.stop()}},a,void 0,[[19,26],[37,42]])})),function(e,t,r){return a.apply(this,arguments)};var a},G="STRUCTURED_STYLES__STYLES_RESET_LOADED",B=Object(O.a)("STRUCTURED_STYLES__STYLES_RESET_PENDING"),V=Object(O.a)(G),H=Object(O.a)("STRUCTURED_STYLES__STYLES_RESET_FAILED"),q=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,d=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(B({subredditId:e})),s=Object(I.A)(n(),{subredditId:e}).name,t.next=4,h.reset(d(),s);case 4:(c=t.sent).ok?(o=n().structuredStyles.models[e],u=o?o.mobileKeyColor:null,r(V({subredditId:e,styles:{mobileKeyColor:u}}))):r(H(Object.assign({subredditId:e},c.error)));case 6:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},K="STRUCTURED_STYLES__EDITING_STARTED",W=Object(O.a)(K),Q=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n(),c=s.structuredStyles.models[e]||{},Object(S.J)(s)?r(Object(g.j)(j.a.BLADE_NIGHTMODE)):r(W({subredditId:e,styles:c})),P(e,!1)(r,n,a);case 4:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Y="STRUCTURED_STYLES__DRAFT_UPDATED",J=Object(O.a)(Y),z=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,d,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=M(e),c=n(),t.t0=i.a.keys(s);case 3:if((t.t1=t.t0()).done){t.next=21;break}if(o=t.t1.value,Object(x.h)(o)){t.next=7;break}return t.abrupt("continue",3);case 7:if(s[o]){t.next=12;break}(u=Object(T.g)(c,{name:o}))&&r(Object(v.h)(u)),t.next=19;break;case 12:if("string"==typeof s[o]){t.next=19;break}return d=s[o],t.next=16,Object(E.e)(d);case 16:l=t.sent,$(o,l)(r,n,a),s[o]="";case 19:t.next=3;break;case 21:r(J(s));case 22:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},X="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",Z=Object(O.a)(X),$=function(e,t){return r=o()(i.a.mark(function r(n,s,c){var o,u,d,l,p,b;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=s(),u=o.structuredStyles.isEditing,d=Object(I.A)(o,{subredditId:u}).name,n(Z({imageKey:e,uploadId:t.id})),n(Object(v.k)(t)),r.t0=h,r.t1=c.apiContext(),r.t2=d,r.t3=t.file.name,r.t4=e,r.next=12,Object(_.f)(t.file);case 12:return r.t5=r.sent,r.next=15,r.t0.getImageUploadLease.call(r.t0,r.t1,r.t2,r.t3,r.t4,r.t5);case 15:return l=r.sent,r.prev=16,r.next=19,Object(v.g)(s(),l,t,E.a.StructuredStyles);case 19:(p=r.sent)&&(b=p.url,n(Object(v.j)(p)),n(J(a()({},e,b)))),r.next=28;break;case 23:if(r.prev=23,r.t6=r.catch(16),!(r.t6 instanceof Error)){r.next=27;break}throw r.t6;case 27:n(Object(v.i)(r.t6));case 28:case"end":return r.stop()}},r,void 0,[[16,23]])})),function(e,t,n){return r.apply(this,arguments)};var r},ee="STRUCTURED_STYLES__DRAFT_REPLACED",te=Object(O.a)(ee),re=function(e,t,r){return n=o()(i.a.mark(function n(a,s,c){var o,u,l,b,f,O,m;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=s(),u=o.structuredStyles.models[e]||{},l=o.structuredStyles.draft,b=Object(k.l)(t)(o),r?(f=p()(u,r),O=d()(l,r),m=Object.assign({},O,f),a(te({subredditId:e,styles:m}))):a(te({subredditId:e,styles:u})),Object(w.a)(b);case 6:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},ne="STRUCTURED_STYLES__EDITING_STOPPED",ae=Object(O.a)(ne),se=function(){return e=o()(i.a.mark(function e(t,r,n){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),t(ae()),(s=a.platform.currentPage.url)&&t(Object(b.c)(Object(f.a)(s,["styling"])));case 4:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},ie="STRUCTURED_STYLES__EDITING_FLAIR_STARTED",ce=Object(O.a)(ie),oe=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n(),c=s.structuredStyles.flairTemplate.models[e]||{},r(ce({flairId:e,template:c}));case 3:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},ue="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",de=Object(O.a)(ue),le="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",pe=Object(O.a)(le)},"./src/reddit/actions/subreddit.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/lodash/pick.js"),d=r.n(u),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/lib/makeListingKey/index.ts"),f=r("./src/reddit/constants/originalContent.ts"),O=r("./src/reddit/constants/parameters.ts"),m=r("./src/reddit/constants/postLayout.ts"),v=r("./src/reddit/contexts/PageLayer/index.tsx"),g=r("./src/reddit/endpoints/governance/posts.ts"),j=r("./src/reddit/endpoints/modQueue/index.ts"),h=r("./src/lib/makeApiRequest/index.ts"),y=r("./src/lib/omitHeaders/index.ts"),_=r("./src/reddit/constants/headers.ts"),E=r("./src/reddit/endpoints/page/subredditPage.ts"),x=function(e,t){return Object(h.b)(Object(y.a)(e,[_.a]),{endpoint:e.apiUrl+"/provider/subreddit/connect_subreddit",method:l.Fa.POST,data:{campaign_installation_id:t.campaignInstallationId,provider:t.provider,provider_id:t.providerId,subreddit:t.subredditName}})},T=function(e,t){return Object(h.b)(Object(y.a)(e,[_.a]),{endpoint:e.apiUrl+"/provider/subreddit/create_subreddit",method:l.Fa.POST,data:function(e){return{campaign_installation_id:e.campaignInstallationId,description:e.description,name:e.name,provider:e.provider,provider_id:e.providerId}}(t)})},I=r("./node_modules/lodash/camelCase.js"),S=r.n(I),k=r("./node_modules/lodash/mapKeys.js"),w=r.n(k),C=function(e){var t=e.rules,r=e.site_rules;return{rules:t.map(function(e){return Object.assign({},w()(e,function(e,t){return S()(t)}),{kind:"link"===e.kind?"post":e.kind})}),oldSiteRules:r}},A=function(e,t){return Object(h.b)(Object(y.a)(e,[_.a]),{endpoint:e.apiUrl+"/r/"+t+"/about/rules.json",method:l.Fa.GET}).then(function(e){return e.ok&&e.body.rules&&(e.body=C(e.body)),e})},R=r("./src/reddit/helpers/filterListingResponse/index.ts"),D=r("./src/reddit/models/OcSubreddits/index.ts"),P=r("./src/reddit/models/Subreddit/index.ts"),N=r("./src/reddit/selectors/listings.ts"),L=r("./src/reddit/selectors/profile.ts"),U=r("./src/reddit/selectors/subreddit.ts");r.d(t,"m",function(){return M}),r.d(t,"l",function(){return F}),r.d(t,"k",function(){return G}),r.d(t,"g",function(){return B}),r.d(t,"v",function(){return K}),r.d(t,"q",function(){return W}),r.d(t,"t",function(){return Y}),r.d(t,"x",function(){return J}),r.d(t,"j",function(){return z}),r.d(t,"i",function(){return X}),r.d(t,"h",function(){return Z}),r.d(t,"w",function(){return re}),r.d(t,"o",function(){return ne}),r.d(t,"p",function(){return ae}),r.d(t,"n",function(){return se}),r.d(t,"u",function(){return ue}),r.d(t,"b",function(){return de}),r.d(t,"c",function(){return le}),r.d(t,"a",function(){return pe}),r.d(t,"r",function(){return me}),r.d(t,"e",function(){return ve}),r.d(t,"f",function(){return ge}),r.d(t,"d",function(){return je}),r.d(t,"s",function(){return Ee});var M="SUBREDDIT__MORE_POSTS_PENDING",F="SUBREDDIT__MORE_POSTS_LOADED",G="SUBREDDIT__MORE_POSTS_FAILED",B="SUBREDDIT__META_FILTER_TOGGLED",V=Object(p.a)(M),H=Object(p.a)(F),q=Object(p.a)(G),K=Object(p.a)(B),W="SUBREDDIT__RULES_LOADED",Q=Object(p.a)(W),Y=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=t===P.a.User?Object(L.i)(a(),e):Object(U.v)(a(),e),t!==P.a.User){r.next=7;break}return r.next=4,s=d(),i=e,Object(h.b)(Object(y.a)(s,[_.a]),{endpoint:s.apiUrl+"/user/"+i+"/about/rules.json",method:l.Fa.GET}).then(function(e){return e.ok&&e.body.rules&&(e.body=C(e.body)),e});case 4:r.t0=r.sent,r.next=10;break;case 7:return r.next=9,A(d(),e);case 9:r.t0=r.sent;case 10:(o=r.t0).ok&&(u=o.body,n(Q({rules:u,subredditId:c})));case 12:case"end":return r.stop()}var s,i},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},J=function(e){return t=o()(i.a.mark(function t(r,n,s){var c,o,u,p,f,j,h,y,_,x,T,I,S,k,w,C,A=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.sort,o=void 0===c?l.U.HOT:c,u=e.subredditName,p=n(),f=p.platform.currentPage?p.platform.currentPage.queryParams:{},j=Object(b.a)(u,o,f),h=p.listings.postOrder.loadMore[j]){t.next=7;break}return t.abrupt("return");case 7:if(y=p.listings.postOrder.api.pending[j],_=p.listings.postOrder.fetchedTokens,x=!(!_[j]||!_[j][h.token]),!y&&!x){t.next=12;break}return t.abrupt("return");case 12:return r(V({key:j,fetchedToken:h.token})),T=Object.assign({after:h.token,dist:h.dist,layout:m.c[Object(v.J)(p,{})],sort:o},d()(f,[].concat(a()(O.h),[O.d]))),t.next=16,Object(E.a)(A(),u,T);case 16:if(I=t.sent,S=Object.assign({},I.body,Object(R.a)(p,j,I.body)),!I.ok){t.next=29;break}if(k=void 0,!(w=S.postIds.filter(function(e){return!!S.posts[e].isMeta})).length){t.next=26;break}return t.next=24,Object(g.a)(A(),w);case 24:(C=t.sent).ok&&(k=C.body);case 26:r(H(Object.assign({fetchedToken:h.token,key:j,meta:p.meta,governance:k},S))),t.next=30;break;case 29:r(q(Object.assign({error:I.error,fetchedToken:h.token,key:j},S)));case 30:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},z="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",X="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",Z="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",$=Object(p.a)(z),ee=Object(p.a)(X),te=Object(p.a)(Z),re=function(){return e=o()(i.a.mark(function e(t,r,n){var a,s,c=n.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r()).user.account&&!a.subreddits.moderated.api.fetched){e.next=3;break}return e.abrupt("return");case 3:return t($()),e.next=6,Object(j.b)(c(),l.Ja.Modqueue,{moderated:!0,moderated_limit:50});case 6:(s=e.sent).ok?t(ee(s.body)):t(te({error:s.error}));case 8:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e},ne="POST_CREATION__OC_SUBREDDITS_REQUESTED",ae="POST_CREATION__OC_SUBREDDITS_SUCCEEDED",se="POST_CREATION__OC_SUBREDDITS_FAILED",ie=Object(p.a)(ne),ce=Object(p.a)(ae),oe=Object(p.a)(se),ue=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,d,p,O,m,v,g,j,E=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=Object(b.a)(f.d,"",{category:e}),o=Object(N.j)(s,{listingKey:c}),u=o?o.token:void 0,!o){t.next=9;break}if(d=Object(N.h)(s,{listingKey:c}),p=Object(N.i)(s,{listingKey:c,token:o.token}),!d&&!p){t.next=9;break}return t.abrupt("return");case 9:return r(ie({key:c,fetchedToken:u})),t.next=12,a=E(),i={after:u,category:e},Object(h.b)(Object(y.a)(a,[_.a]),{data:i,endpoint:a.apiUrl+"/api/oc_category_subreddits.json",method:l.Fa.GET});case 12:(O=t.sent).ok?(m=Object(D.c)(O.body.data.children.map(function(e){return e.data})),v=m.subreddits,g=m.subredditsAboutInfo,j=Object.keys(v),r(ce({key:c,fetchedToken:u,subreddits:v,subredditsAboutInfo:g,token:j[j.length-1]}))):r(oe({key:c,error:O.error}));case 14:case"end":return t.stop()}var a,i},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},de="SUBREDDIT__CONNECT_TO_PARTNER_PENDING",le="SUBREDDIT__CONNECT_TO_PARTNER_SUCCEEDED",pe="SUBREDDIT__CONNECT_TO_PARTNER_FAILED",be=Object(p.a)(de),fe=Object(p.a)(le),Oe=Object(p.a)(pe),me=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=e.subredditName,!Object(U.i)(s)){t.next=5;break}return t.abrupt("return");case 5:return r(be({subredditName:c})),t.next=8,x(u(),e);case 8:(o=t.sent).ok?r(fe({subredditName:c})):r(Oe({subredditName:c,error:o.error}));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},ve="SUBREDDIT__CREATE_PENDING",ge="SUBREDDIT__CREATE_SUCCEEDED",je="SUBREDDIT__CREATE_FAILED",he=Object(p.a)(ve),ye=Object(p.a)(ge),_e=Object(p.a)(je),Ee=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=e.name,!Object(U.j)(s)){t.next=5;break}return t.abrupt("return");case 5:return r(he({subredditName:c})),t.next=8,T(u(),e);case 8:(o=t.sent).ok?r(ye({subredditName:c})):r(_e({subredditName:c,error:o.error}));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/omitHeaders/index.ts"),l=r("./src/reddit/constants/headers.ts"),p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},b=function(e){return e.ok&&(e.body.subreddits=e.body.subreddits.map(function(e){var t=e.numSubscribers,r=p(e,["numSubscribers"]);return Object.assign({subscribers:t},r)})),e},f=r("./src/reddit/helpers/name/index.ts"),O=r("./src/reddit/selectors/subredditAutocomplete.ts");r.d(t,"c",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"a",function(){return g}),r.d(t,"d",function(){return _});var m="SUBREDDIT_AUTOCOMPLETE__PENDING",v="SUBREDDIT_AUTOCOMPLETE__LOADED",g="SUBREDDIT_AUTOCOMPLETE__FAILED",j=Object(c.a)(m),h=Object(c.a)(v),y=Object(c.a)(g),_=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=i()(a.a.mark(function t(n,s,i){var c,p,m,v,g,_=i.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=Object(f.f)(e)){t.next=3;break}return t.abrupt("return");case 3:if(p=!1,m=s(),!(v=m.subredditAutocomplete).api.pending[c]&&!v.models[c]){t.next=8;break}return t.abrupt("return");case 8:if(!Object(O.c)(m,{substring:c})){t.next=10;break}return t.abrupt("return");case 10:return n(j({key:c})),t.next=13,a=_(),i={query:c,include_over_18:p,include_profiles:r},Object(u.b)(Object(d.a)(a,[l.a]),{data:i,endpoint:a.apiUrl+"/api/subreddit_autocomplete.json",method:o.Fa.GET}).then(b);case 13:(g=t.sent).ok?n(h(Object.assign({key:c},g.body))):n(y({key:c,error:g.error}));case 15:case"end":return t.stop()}var a,i},t,void 0)})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/subscription.ts"),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),l=r("./src/lib/omitHeaders/index.ts"),p=r("./src/reddit/constants/headers.ts"),b=r("./src/reddit/selectors/subreddit.ts");r.d(t,"c",function(){return f}),r.d(t,"b",function(){return O}),r.d(t,"a",function(){return m}),r.d(t,"d",function(){return j});var f="SUBREDDIT_CROSSPOSTABLE__PENDING",O="SUBREDDIT_CROSSPOSTABLE__LOADED",m="SUBREDDIT_CROSSPOSTABLE__FAILED",v=(Object(c.a)(f),Object(c.a)(O)),g=Object(c.a)(m),j=function(){return e=i()(a.a.mark(function e(t,r,n){var s,i,c,f,O,m,j=n.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(o.h());case 2:if(s=r().subreddits.crosspostable,i=s.api,c=s.ids,!i.pending&&!Object.keys(c).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n=j(),a={sr_detail:!1},Object(d.b)(Object(l.a)(n,[p.a]),{data:a,endpoint:n.apiUrl+"/api/crosspostable_subreddits.json",method:u.Fa.GET});case 7:(f=e.sent).ok?(O=r(),m=f.body&&f.body.length?f.body.map(function(e){return Object(b.v)(O,e)}).filter(function(e){return!!e}).reduce(function(e,t){return e[t]=!0,e},{}):{},t(v({subredditIds:m}))):t(g({error:f.error}));case 9:case"end":return e.stop()}var n,a},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/config.ts"),d=r("./src/lib/makeApiRequest/index.ts"),l=r("./src/reddit/models/Post/index.ts"),p=function(e,t,r){return Object(d.b)(e,{data:r,endpoint:u.a.gatewayUrl+"/desktopapi/v1/duplicates/"+Object(l.e)(t),method:o.Fa.GET})},b=r("./src/reddit/models/Duplicates/index.ts"),f=r("./src/reddit/models/Subreddit/index.ts"),O=r("./src/reddit/selectors/profile.ts"),m=r("./src/reddit/selectors/subreddit.ts");r.d(t,"a",function(){return v}),r.d(t,"b",function(){return j});var v="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",g=(Object(c.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(c.a)(v)),j=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,u,d,l,v=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=Object(m.A)(s(),{subredditId:e})||Object(O.k)(s(),{profileId:e})){r.next=3;break}return r.abrupt("return");case 3:return u={crossposts_only:!0,sort:"new",sr:Object(f.b)(c)?o.Ob+c.name:c.name},r.next=6,p(v(),t,u);case 6:(d=r.sent).ok&&(l=d.body,n(g({distinguishKey:Object(b.a)(t,u),postIds:l.postIds,posts:l.posts,profiles:l.profiles,subreddits:l.subreddits,subredditId:e})));case 8:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/subredditModeration.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./node_modules/lodash/get.js"),d=r.n(u),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/app/strings/index.ts"),b=r("./src/reddit/actions/apiRequestState.ts"),f=r("./src/reddit/actions/modal.ts"),O=r("./src/reddit/actions/subreddit.ts"),m=r("./src/reddit/actions/toaster.ts"),v=r("./src/reddit/constants/modals.ts"),g=r("./src/lib/constants/index.ts"),j=r("./src/lib/makeApiRequest/index.ts"),h=r("./src/lib/omitHeaders/index.ts"),y=r("./src/reddit/constants/headers.ts"),_=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/contributors",method:g.Fa.GET,data:r})},E=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/friend",method:g.Fa.POST,data:{api_type:"json",name:r,type:"contributor"}})},x=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/unfriend",method:g.Fa.POST,data:{api_type:"json",id:r,type:"contributor"}})},T=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/banned",method:g.Fa.GET,data:r})},I=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/friend",method:g.Fa.POST,data:{api_type:"json",ban_reason:r.reason,ban_message:r.banMessage,duration:r.duration,name:r.username,note:r.modNote,ban_context:r.contextId,type:"banned"}})},S=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/unfriend",method:g.Fa.POST,data:{api_type:"json",id:r,type:"banned"}})},k=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/moderators",method:g.Fa.GET,data:Object.assign({},r,{count:10})})},w=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/moderators_editable",method:g.Fa.GET,data:Object.assign({},r,{count:10})})},C=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/moderators_invited",method:g.Fa.GET,data:Object.assign({},r,{count:50})})},A=function(e,t,r,n){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/friend",method:g.Fa.POST,data:{name:r,type:"moderator_invite",permissions:n,api_type:"json"}})},R=function(e,t,r,n){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/setpermissions",method:g.Fa.POST,data:{name:r,type:"moderator",permissions:n,api_type:"json"}})},D=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/unfriend",method:g.Fa.POST,data:{id:r,type:"moderator",r:t,api_type:"json"}})},P=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/unfriend",method:g.Fa.POST,data:{id:r,type:"moderator_invite",r:t,api_type:"json"}})},N=function(e,t){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/accept_moderator_invite",method:g.Fa.POST,data:{api_type:"json"}})},L=function(e,t){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/decline_mod_invite",method:g.Fa.POST,data:{api_type:"json"}})},U=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:e.apiUrl+"/api/v1/"+t+"/muted",method:g.Fa.GET,data:r})},M=function(e,t,r,n){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/friend",method:g.Fa.POST,data:{api_type:"json",name:r,note:n,type:"muted"}})},F=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:""+e.apiUrl+t+"api/unfriend",method:g.Fa.POST,data:{api_type:"json",id:r,type:"muted"}})},G=r("./src/reddit/helpers/normalizeUsername/index.tsx"),B=r("./src/reddit/models/ModeratingSubreddits/index.ts"),V=r("./src/reddit/models/SubredditModeration/index.ts"),H=r("./src/reddit/models/Toast/index.ts"),q=r("./src/reddit/models/User/index.ts"),K=r("./src/reddit/selectors/activeModalId.ts"),W=r("./src/reddit/selectors/subreddit.ts"),Q=r("./src/reddit/selectors/user.ts");r.d(t,"J",function(){return J}),r.d(t,"H",function(){return z}),r.d(t,"G",function(){return X}),r.d(t,"Ia",function(){return te}),r.d(t,"M",function(){return re}),r.d(t,"L",function(){return ne}),r.d(t,"K",function(){return ae}),r.d(t,"Ja",function(){return oe}),r.d(t,"I",function(){return ue}),r.d(t,"N",function(){return de}),r.d(t,"Oa",function(){return be}),r.d(t,"Ha",function(){return fe}),r.d(t,"e",function(){return Oe}),r.d(t,"d",function(){return me}),r.d(t,"c",function(){return ve}),r.d(t,"V",function(){return ye}),r.d(t,"h",function(){return _e}),r.d(t,"g",function(){return Ee}),r.d(t,"f",function(){return xe}),r.d(t,"W",function(){return ke}),r.d(t,"b",function(){return we}),r.d(t,"i",function(){return Ce}),r.d(t,"U",function(){return De}),r.d(t,"Ma",function(){return Pe}),r.d(t,"m",function(){return Ne}),r.d(t,"l",function(){return Le}),r.d(t,"k",function(){return Ue}),r.d(t,"Z",function(){return Be}),r.d(t,"p",function(){return Ve}),r.d(t,"o",function(){return He}),r.d(t,"n",function(){return qe}),r.d(t,"Aa",function(){return Ye}),r.d(t,"j",function(){return Je}),r.d(t,"q",function(){return ze}),r.d(t,"Y",function(){return $e}),r.d(t,"Na",function(){return et}),r.d(t,"C",function(){return tt}),r.d(t,"B",function(){return rt}),r.d(t,"A",function(){return nt}),r.d(t,"t",function(){return ct}),r.d(t,"s",function(){return ot}),r.d(t,"r",function(){return ut}),r.d(t,"Fa",function(){return bt}),r.d(t,"Da",function(){return ft}),r.d(t,"x",function(){return Ot}),r.d(t,"w",function(){return mt}),r.d(t,"v",function(){return vt}),r.d(t,"Ea",function(){return yt}),r.d(t,"a",function(){return _t}),r.d(t,"T",function(){return It}),r.d(t,"Q",function(){return St}),r.d(t,"R",function(){return At}),r.d(t,"La",function(){return Dt}),r.d(t,"u",function(){return Pt}),r.d(t,"Ca",function(){return Mt}),r.d(t,"F",function(){return Ft}),r.d(t,"E",function(){return Gt}),r.d(t,"D",function(){return Bt}),r.d(t,"Ga",function(){return Kt}),r.d(t,"y",function(){return Wt}),r.d(t,"O",function(){return Yt}),r.d(t,"S",function(){return zt}),r.d(t,"z",function(){return Xt}),r.d(t,"Ba",function(){return $t}),r.d(t,"P",function(){return er}),r.d(t,"Ka",function(){return ar}),r.d(t,"X",function(){return sr});var Y=void 0,J="SUBREDDIT__MUTEDUSERS_PENDING",z="SUBREDDIT__MUTEDUSERS_LOADED",X="SUBREDDIT__MUTEDUSERS_FAILED",Z=Object(l.a)(J),$=Object(l.a)(z),ee=Object(l.a)(X),te=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=o()(i.a.mark(function t(n,a,s){var c,o,u,d,l,p,b=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a(),o=r.after||"",u=Object(V.c)(e,o),d=c.muted.fetchedTokens[u],!c.muted.api.pending[u]&&!d){t.next=6;break}return t.abrupt("return");case 6:return n(Z({subredditId:e,fetchedToken:o})),l=c.subreddits.models[e].name,t.next=10,U(b(),l,r);case 10:(p=t.sent).ok?n($(Object.assign({},p.body,{fetchedToken:o}))):n(ee({subredditId:e,fetchedToken:o}));case 12:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)}},re="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",ne="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",ae="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",se=Object(l.a)(re),ie=Object(l.a)(ne),ce=Object(l.a)(ae),oe=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u={username:Object(G.a)(t)},n(se()),r.next=6,U(l(),o,u);case 6:(d=r.sent).ok?n(ie(d.body)):n(ce(d.error));case 8:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},ue="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",de="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",le=Object(l.a)(ue),pe=Object(l.a)(de),be=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,l,b=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].url,r.next=4,F(b(),o,t);case 4:(u=r.sent).ok?n(pe({subredditId:e,userId:t})):(l=d()(u,"body.json.errors[0][1]",Object(p.a)(c.user.language,"error.type.generic")),n(Object(m.e)({kind:H.a.Error,text:l,duration:3e3})));case 6:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},fe=function(e,t,r){return n=o()(i.a.mark(function n(a,s,c){var o,u,l,b,f,O,v,g=c.apiContext;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=s(),u=o.subreddits.models[e].url,l=o.subreddits.models[e].name,t=Object(G.a)(t),n.next=6,M(g(),u,t,r);case 6:if(!(b=n.sent).ok){n.next=16;break}return f={username:t},a(Object(m.e)({kind:H.a.SuccessMod,text:Object(p.a)(o.user.language,"subredditModeration.mutedUsers.successAdd")})),n.next=12,U(g(),l,f);case 12:(O=n.sent).ok&&a(le(O.body)),n.next=18;break;case 16:v=d()(b,"body.json.errors[0][1]",Object(p.a)(o.user.language,"error.type.generic")),a(Object(m.e)({kind:H.a.Error,text:v,duration:3e3}));case 18:case"end":return n.stop()}},n,Y)})),function(e,t,r){return n.apply(this,arguments)};var n},Oe="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",me="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",ve="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",ge=Object(l.a)(Oe),je=Object(l.a)(me),he=Object(l.a)(ve),ye=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=o()(i.a.mark(function t(n,a,s){var c,o,u,d,l,p,b=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a(),o=r.after||"",u=Object(V.c)(e,o),d=c.approvedSubmitters.fetchedTokens[u],!c.approvedSubmitters.api.pending[u]&&!d){t.next=6;break}return t.abrupt("return");case 6:return n(ge({subredditId:e,fetchedToken:o})),l=c.subreddits.models[e].name,t.next=10,_(b(),l,r);case 10:(p=t.sent).ok?n(je(Object.assign({},p.body,{fetchedToken:o}))):n(he({subredditId:e,fetchedToken:o}));case 12:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)}},_e="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",Ee="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",xe="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",Te=Object(l.a)(_e),Ie=Object(l.a)(Ee),Se=Object(l.a)(xe),ke=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u={username:Object(G.a)(t)},n(Te()),r.next=6,_(l(),o,u);case 6:(d=r.sent).ok?n(Ie(d.body)):n(Se(d.error));case 8:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},we="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",Ce="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",Ae=Object(l.a)(we),Re=Object(l.a)(Ce),De=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,l,b,f,O,v=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].url,u=c.subreddits.models[e].name,t=Object(G.a)(t),r.next=6,E(v(),o,t);case 6:if(!(l=r.sent).ok){r.next=16;break}return b={username:t},n(Object(m.e)({kind:H.a.SuccessMod,text:Object(p.a)(c.user.language,"subredditModeration.approvedSubmitters.successAdd",{username:t})})),r.next=12,_(v(),u,b);case 12:(f=r.sent).ok&&n(Ae(f.body)),r.next=18;break;case 16:O=d()(l,"body.json.errors[0][1]",Object(p.a)(c.user.language,"error.type.generic")),n(Object(m.e)({kind:H.a.Error,text:O,duration:3e3}));case 18:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},Pe=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,l,b=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].url,r.next=4,x(b(),o,t);case 4:(u=r.sent).ok?n(Re({subredditId:e,userId:t})):(l=d()(u,"body.json.errors[0][1]",Object(p.a)(c.user.language,"error.type.generic")),n(Object(m.e)({kind:H.a.Error,text:l,duration:3e3})));case 6:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},Ne="SUBREDDIT__BANNEDUSERS_PENDING",Le="SUBREDDIT__BANNEDUSERS_LOADED",Ue="SUBREDDIT__BANNEDUSERS_FAILED",Me=Object(l.a)(Ne),Fe=Object(l.a)(Le),Ge=Object(l.a)(Ue),Be=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=o()(i.a.mark(function t(n,a,s){var c,o,u,d,l,p,b=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a(),o=r.after||"",u=Object(V.c)(e,o),d=c.banned.fetchedTokens[u],!c.banned.api.pending[u]&&!d){t.next=6;break}return t.abrupt("return");case 6:return n(Me({subredditId:e,fetchedToken:o})),l=c.subreddits.models[e].name,t.next=10,T(b(),l,r);case 10:(p=t.sent).ok?n(Fe(Object.assign({},p.body,{fetchedToken:o}))):n(Ge({subredditId:e,fetchedToken:o}));case 12:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)}},Ve="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",He="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",qe="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",Ke=Object(l.a)(Ve),We=Object(l.a)(He),Qe=Object(l.a)(qe),Ye=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u={username:Object(G.a)(t)},n(Ke()),r.next=6,T(l(),o,u);case 6:(d=r.sent).ok?n(We(d.body)):n(Qe(d.error));case 8:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},Je="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",ze="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",Xe=Object(l.a)(Je),Ze=Object(l.a)(ze),$e=function(e,t,r){return n=o()(i.a.mark(function n(a,s,c){var o,u,l,f,O,v,g,j=c.apiContext;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=s(),u=o.subreddits.models[e].url,l=o.subreddits.models[e].name,t.username=Object(G.a)(t.username),a(Object(b.h)(r)),n.next=7,I(j(),u,t);case 7:if(!(f=n.sent).ok){n.next=18;break}return a(Object(b.e)(r)),O={username:t.username},a(Object(m.e)({kind:H.a.SuccessMod,text:Object(p.a)(o.user.language,"subredditModeration.bannedUsers.successAdd")})),n.next=14,T(j(),l,O);case 14:(v=n.sent).ok&&a(Xe(v.body)),n.next=21;break;case 18:a(Object(b.f)(r,f.error)),g=d()(f,"body.json.errors[0][1]",Object(p.a)(o.user.language,"error.type.generic")),a(Object(m.e)({kind:H.a.Error,text:g,duration:3e3}));case 21:case"end":return n.stop()}},n,Y)})),function(e,t,r){return n.apply(this,arguments)};var n},et=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,l,b=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].url,r.next=4,S(b(),o,t);case 4:(u=r.sent).ok?n(Ze({subredditId:e,userId:t})):(l=d()(u,"body.json.errors[0][1]",Object(p.a)(c.user.language,"error.type.generic")),n(Object(m.e)({kind:H.a.Error,text:l,duration:3e3})));case 6:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},tt="SUBREDDIT__MODERATORS_PENDING",rt="SUBREDDIT__MODERATORS_LOADED",nt="SUBREDDIT__MODERATORS_FAILED",at=Object(l.a)(tt),st=Object(l.a)(rt),it=Object(l.a)(nt),ct="SUBREDDIT__EDITABLEMODERATORS_PENDING",ot="SUBREDDIT__EDITABLEMODERATORS_LOADED",ut="SUBREDDIT__EDITABLEMODERATORS_FAILED",dt=Object(l.a)(ct),lt=Object(l.a)(ot),pt=Object(l.a)(ut),bt=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l,p,b,f,O,m,v=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a(),o=Object(W.A)(c,{subredditId:e}).name,u=t&&t.after?t.after:"",d=t&&t.before?t.before:"",l=Object(V.c)(e,u,d),p=c.moderators.userOrder.data[l],b=c.moderators.userOrder.api.error[l],!(c.moderators.userOrder.api.pending[l]||p&&!b)){r.next=10;break}return r.abrupt("return");case 10:return n(at({subredditId:e,after:u})),r.next=13,k(v(),o,t);case 13:(f=r.sent).ok?(O={after:u,before:d,response:f.body,subredditId:e},n(st(O))):(m={error:f.error,subredditId:e,after:u,before:d},n(it(m)));case 15:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},ft=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l,p,b,f,O,m,v,g=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a(),o=Object(W.A)(c,{subredditId:e}).name,u=t&&t.afterEditable?t.afterEditable:"",d=t&&t.beforeEditable?t.beforeEditable:"",l=Object(V.c)(e,u,d),p=c.moderators.editableUserOrder.data[l],b=c.moderators.editableUserOrder.api.error[l],!(c.moderators.editableUserOrder.api.pending[l]||p&&!b)){r.next=10;break}return r.abrupt("return");case 10:return n(dt({subredditId:e,after:u})),f=Object.assign({},t,{after:u,before:d}),r.next=14,w(g(),o,f);case 14:(O=r.sent).ok?(m={after:u,before:d,response:O.body,subredditId:e},n(lt(m))):(v={after:u,before:d,error:O.error,subredditId:e},n(pt(v)));case 16:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},Ot="SUBREDDIT__INVITEDMODERATORS_PENDING",mt="SUBREDDIT__INVITEDMODERATORS_LOADED",vt="SUBREDDIT__INVITEDMODERATORS_FAILED",gt=Object(l.a)(Ot),jt=Object(l.a)(mt),ht=Object(l.a)(vt),yt=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,d=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=Object(W.A)(s,{subredditId:e}).name,!s.moderators.invitedModerators.api.pending){t.next=5;break}return t.abrupt("return");case 5:return r(gt()),t.next=8,C(d(),c);case 8:(o=t.sent).ok?(u=o.body,r(jt(u))):r(ht(o.error));case 10:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)};var t},_t="SUBREDDIT__ADDMODERATOR__SUCCESS",Et=Object(l.a)("SUBREDDIT__ADDMODERATOR_PENDING"),xt=Object(l.a)(_t),Tt=Object(l.a)("SUBREDDIT__ADDMODERATOR__FAILED"),It=function(e,t,r){return n=o()(i.a.mark(function n(a,s,c){var o,u,d,l,b,f,O,v,g,j=c.apiContext;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=s(),u=Object(W.A)(o,{subredditId:e}),d=u.name,l=u.url,t=Object(G.a)(t),a(Et()),b=Object(B.c)(r),n.next=9,A(j(),l,t,b);case 9:if(!(f=n.sent).ok){n.next=17;break}return n.next=13,C(j(),d,{username:t});case 13:O=n.sent,f.ok&&(v=O.body,g=v.moderatorIds[0],o.moderators.invitedModerators.models[e][g]?a(Object(m.e)({kind:H.a.SuccessCommunity,text:Object(p.a)(o.user.language,"subredditModeration.moderators.userAlreadyInvited")})):(a(Object(m.e)({kind:H.a.SuccessMod,text:Object(p.a)(o.user.language,"subredditModeration.moderators.successAdd")})),a(xt(v)))),n.next=18;break;case 17:a(Tt());case 18:case"end":return n.stop()}},n,Y)})),function(e,t,r){return n.apply(this,arguments)};var n},St="SUBREDDIT__REMOVEMODERATOR__SUCCESS",kt=Object(l.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),wt=Object(l.a)(St),Ct=Object(l.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),At="SUBREDDIT__RESIGNMODERATOR__SUCCESS",Rt=Object(l.a)(At),Dt=function(e,t,r,n){return a=o()(i.a.mark(function a(s,c,o){var u,d,l,p,b=o.apiContext;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=c(),d=u.subreddits.models[e].name,l=Object(V.c)(e,r,n),s(kt()),a.next=6,D(b(),d,t);case 6:a.sent.ok?(s(wt({subredditId:e,userId:t,key:l})),p=Object(Q.j)(u),p&&p.id===t&&s(Rt({subredditId:e,userId:t}))):s(Ct());case 8:case"end":return a.stop()}},a,Y)})),function(e,t,r){return a.apply(this,arguments)};var a},Pt="SUBREDDIT__EDITMODERATOR__SUCCESS",Nt=Object(l.a)("SUBREDDIT__EDITMODERATOR_PENDING"),Lt=Object(l.a)(Pt),Ut=Object(l.a)("SUBREDDIT__EDITMODERATOR__FAILED"),Mt=function(e,t,r,n){return a=o()(i.a.mark(function a(s,c,o){var u,d,l,p=o.apiContext;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=c(),d=u.subreddits.models[e].url,s(Nt()),l=Object(B.c)(r),a.next=6,R(p(),d,t,l);case 6:a.sent.ok?s(Lt({permissions:r,subredditId:e,userId:n})):s(Ut());case 8:case"end":return a.stop()}},a,Y)})),function(e,t,r){return a.apply(this,arguments)};var a},Ft="SUBREDDIT_MODERATORS_SEARCH_PENDING",Gt="SUBREDDIT_MODERATORS_SEARCH_LOADED",Bt="SUBREDDIT_MODERATORS_SEARCH_FAILED",Vt=Object(l.a)(Ft),Ht=Object(l.a)(Gt),qt=Object(l.a)(Bt),Kt=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u,d,l=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=c.subreddits.models[e].name,u={username:Object(G.a)(t)},n(Vt()),r.next=6,k(l(),o,u);case 6:(d=r.sent).ok?n(Ht(d.body)):n(qt(d.error));case 8:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},Wt="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",Qt=Object(l.a)(Wt),Yt="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",Jt=Object(l.a)(Yt),zt=function(e){return t=o()(i.a.mark(function t(r,n,s){var c,o,u,d,l,p,b,f,O=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),o=c.user.account){t.next=4;break}return t.abrupt("return");case 4:return u=c.subreddits.models[e],d=u.url,l=u.name,t.next=9,N(O(),d);case 9:if(!t.sent.ok){t.next=20;break}return r(Qt({subredditId:e})),r(ft(e)),r(yt(e)),r(bt(e)),p={username:Object(q.d)(o)},t.next=18,k(O(),l,p);case 18:(b=t.sent).ok&&(f=b.body.moderators[o.id])&&r(Jt(a()({},e,f.modPermissions)));case 20:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)};var t},Xt="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",Zt=Object(l.a)(Xt),$t=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(),c=s.subreddits.models[e].name,t.next=4,L(o(),c);case 4:t.sent.ok&&r(Zt({subredditId:e}));case 6:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)};var t},er="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",tr=Object(l.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),rr=Object(l.a)(er),nr=Object(l.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),ar=function(e,t){return r=o()(i.a.mark(function r(n,a,s){var c,o,u=s.apiContext;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=a(),o=Object(W.A)(c,{subredditId:e}).name,n(tr()),r.next=5,P(u(),o,t);case 5:r.sent.ok?n(rr({subredditId:e,userId:t})):n(nr());case 7:case"end":return r.stop()}},r,Y)})),function(e,t,n){return r.apply(this,arguments)};var r},sr=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c;a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),!e||Object(K.b)(v.a.BAN_USER)(s)||s.subreddits.rules[e]){t.next=5;break}return c=Object(W.A)(s,{subredditId:e}),t.next=5,r(Object(O.t)(c.name));case 5:r(Object(f.j)(v.a.BAN_USER));case 6:case"end":return t.stop()}},t,Y)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/subredditSettings.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return j}),r.d(t,"a",function(){return y}),r.d(t,"A",function(){return E}),r.d(t,"z",function(){return x}),r.d(t,"L",function(){return T}),r.d(t,"g",function(){return w}),r.d(t,"f",function(){return A}),r.d(t,"c",function(){return D}),r.d(t,"e",function(){return N}),r.d(t,"b",function(){return U}),r.d(t,"l",function(){return F}),r.d(t,"y",function(){return B}),r.d(t,"k",function(){return V}),r.d(t,"x",function(){return q}),r.d(t,"i",function(){return K}),r.d(t,"E",function(){return Q}),r.d(t,"u",function(){return Y}),r.d(t,"I",function(){return J}),r.d(t,"t",function(){return z}),r.d(t,"H",function(){return X}),r.d(t,"s",function(){return Z}),r.d(t,"G",function(){return $}),r.d(t,"r",function(){return ee}),r.d(t,"F",function(){return te}),r.d(t,"p",function(){return re}),r.d(t,"K",function(){return ne}),r.d(t,"o",function(){return ae}),r.d(t,"J",function(){return se}),r.d(t,"j",function(){return ie}),r.d(t,"w",function(){return ce}),r.d(t,"q",function(){return oe}),r.d(t,"D",function(){return ue}),r.d(t,"n",function(){return de}),r.d(t,"m",function(){return pe}),r.d(t,"B",function(){return fe}),r.d(t,"C",function(){return Oe}),r.d(t,"h",function(){return me}),r.d(t,"v",function(){return je});var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),l=r("./src/reddit/endpoints/subreddit/settings.ts"),p=r("./src/reddit/actions/toaster.ts"),b=r("./src/reddit/helpers/trackers/submitValidation.ts"),f=r("./src/reddit/models/PostRequirements/index.ts"),O=r("./src/reddit/models/Toast/index.ts"),m=r("./src/reddit/models/User/index.ts"),v=r("./src/reddit/selectors/submitValidation.ts"),g=r("./src/reddit/selectors/user.ts"),j="SUBREDDIT_SETTINGS_POST_REQUIREMENTS_LOADED",h=Object(d.a)(j),y="SUBREDDIT_SETTINGS__POST_REQUIREMENTS_BY_SUBREDDIT_LOADED",_=Object(d.a)(y),E=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(M()),t.next=3,Object(l.c)(c(),e);case 3:(s=t.sent)&&s.ok&&r(h(s.body));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},x=function(e){return t=o()(i.a.mark(function t(r,n,s){var c,o=s.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(M()),t.next=3,Object(l.c)(o(),e);case 3:(c=t.sent)&&c.ok&&r(_(a()({},e.toLowerCase(),c.body)));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},T=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o,u,d,m,v,g,j=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),c=s.subredditSettings.postRequirements,o=c.formState,!(u=c.initialData)){t.next=17;break}if(r(C()),b.i(s),null!==(d=I(o))){t.next=15;break}return m=Object(f.a)(o),v=Object(f.c)(m,u),t.next=11,Object(l.e)(j(),e,v);case 11:200===(g=t.sent).status?(r(h(m)),r(Object(p.e)({kind:O.a.SuccessCommunity,text:"Submission rules updated successfully"}))):r(L(g.body.explanation)),t.next=16;break;case 15:r(P(d));case 16:r(R());case 17:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},I=function(e){var t=e.linkDomain,r=e.titleLength,n=e.postLength,a=e.reposts,s=t.blacklist,i=[];if((void 0===s?[]:s).filter(k).length&&i.push({formSection:"linkDomain",formField:"blacklist",error:"Blacklisted domains cannot include reddit hosted content."}),r.isToggled){var c=r.min,o=r.max;c&&c>300&&i.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than 300."}),c&&o&&c>o&&i.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than or equal to maximum"}),o&&(o<2||o>300)&&i.push({formSection:"titleLength",formField:"max",error:"Maximum must be between 2 and 300."})}if(n.isToggled){var u=n.min,d=n.max;u&&u>4e4&&i.push({formSection:"postLength",formField:"min",error:"Minimum must be less than 40,000."}),u&&d&&u>d&&i.push({formSection:"postLength",formField:"min",error:"Minimum must be less than maximum"}),d&&(d<2||d>4e4)&&i.push({formSection:"postLength",formField:"max",error:"Maximum must be between 2 and 40,000."})}return a.isToggled&&a.days&&a.days>90&&i.push({formSection:"reposts",formField:"days",error:"Repost limit must 90 or less"}),i.length?i:null},S=/i\.redd\.it|v.redd.it/,k=function(e){return S.test(e)},w="POST_REQUIREMENTS_UPDATE_STARTED",C=Object(d.a)(w),A="POST_REQUIREMENTS_UPDATE_FINISHED",R=Object(d.a)(A),D="POST_REQUIREMENTS_FORM_VALIDATION_FAILED",P=Object(d.a)(D),N="POST_REQUIREMENTS_UPDATE_FAILED",L=Object(d.a)(N),U="POST_REQUIREMENTS_FETCH_STARTED",M=Object(d.a)(U),F="POST_REQUIREMENTS_BODY_REQUIREMENT",G=Object(d.a)(F),B=function(e){return t=o()(i.a.mark(function t(r,n,a){a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:b.d(n(),e),r(G(e));case 2:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},V="POST_REQUIREMENTS_LINK_LIST_REQUIREMENT",H=Object(d.a)(V),q=function(e){return t=o()(i.a.mark(function t(r,n,a){a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:b.a(n(),e),r(H(e));case 2:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},K="POST_REQUIREMENTS_TOGGLE_SECTION",W=Object(d.a)(K),Q=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c,o;a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=n(),c=Object(v.b)(s),o=c[e].isToggled,r(W(e)),b.f(s,e,o);case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Y="UPDATE_TITLE_STRINGS",J=Object(d.a)(Y),z="UPDATE_TITLE_REGEX",X=Object(d.a)(z),Z="UPDATE_TITLE_MIN_LENGTH",$=Object(d.a)(Z),ee="UPDATE_TITLE_MAX_LENGTH",te=Object(d.a)(ee),re="UPDATE_POST_MIN_LENGTH",ne=Object(d.a)(re),ae="UPDATE_POST_MAX_LENGTH",se=Object(d.a)(ae),ie="UPDATE_LINK_DOMAINS",ce=Object(d.a)(ie),oe="UPDATE_REPOST_DAYS",ue=Object(d.a)(oe),de="POST_REQUIREMENTS_POST_GUIDELINES_REQUIREMENT",le=Object(d.a)(de),pe="POST_REQUIREMENTS_POST_GUIDELINES_GUIDELINE",be=Object(d.a)(pe),fe=function(e){return t=o()(i.a.mark(function t(r,n,a){a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(le(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},Oe=function(e){return t=o()(i.a.mark(function t(r,n,a){a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(be(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},me="SUBREDDIT_SETTINGS_LOADED",ve=Object(d.a)(me),ge=function(e){return t=o()(i.a.mark(function t(r,n,a){var s,c=a.apiContext;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.b)(c(),e);case 2:(s=t.sent)&&s.ok&&r(ve(s.body));case 4:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},je=function(){return e=o()(i.a.mark(function e(t,r,n){var a;n.apiContext;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(g.j)(r())){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t(ge(u.Ob+Object(m.d)(a)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e};Object(d.a)("SUBREDDIT_SETTINGS_UPDATE_SUCCESS")},"./src/reddit/actions/subscription.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/helpers/slicedToArray.js"),s=r.n(a),i=r("./node_modules/babel-runtime/regenerator/index.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),u=r.n(o),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/app/strings/index.ts"),b=r("./src/reddit/actions/header.ts"),f=r("./src/reddit/actions/modal.ts"),O=r("./src/reddit/actions/monthsToMinutes.ts"),m=r("./src/reddit/actions/toaster.ts"),v=r("./src/reddit/components/AccountManagerModal/index.tsx");!function(e){e.LoggedOutMaxSubscriptions="max_subscriptions"}(n||(n={}));var g=r("./src/config.ts"),j=r("./src/lib/makeApiRequest/index.ts"),h=r("./src/lib/omitHeaders/index.ts"),y=r("./src/reddit/constants/headers.ts"),_=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{method:d.Fa.POST,endpoint:e.apiUrl+"/api/subscribe",data:{action:r?"sub":"unsub",sr_name:t,api_type:"json"}})},E=function(e,t,r){return Object(j.b)(Object(h.a)(e,[y.a]),{method:d.Fa.POST,endpoint:e.apiUrl+"/api/favorite",data:{make_favorite:r?"true":"false",sr_name:t,api_type:"json"}})},x=r("./src/reddit/models/MonthsToMinutes/index.ts"),T=r("./src/reddit/models/Toast/index.ts"),I=r("./src/reddit/selectors/monthsToMinutes.ts"),S=r("./src/reddit/selectors/profile.ts"),k=r("./src/reddit/selectors/subreddit.ts"),w=r("./src/reddit/selectors/subscriptions.ts"),C=r("./src/reddit/selectors/user.ts");r.d(t,"c",function(){return A}),r.d(t,"d",function(){return R}),r.d(t,"b",function(){return D}),r.d(t,"e",function(){return P}),r.d(t,"h",function(){return F}),r.d(t,"g",function(){return G}),r.d(t,"a",function(){return B}),r.d(t,"f",function(){return H});var A="SUBSCRIPTION__FETCH_DATA_PENDING",R="SUBSCRIPTION__FETCH_DATA_SUCCESS",D="SUBSCRIPTION__FETCH_DATA_FAILURE",P="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",N=Object(l.a)(R),L=Object(l.a)(A),U=Object(l.a)(D),M=Object(l.a)(P),F=(Object(l.a)("SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED"),Object(l.a)("SUBSCRIPTION__ORDER_LOADED"),function(){return e=u()(c.a.mark(function e(t,r,n){var a,s,i=n.apiContext;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r()).user.account&&!a.subscriptions.api.fetched){e.next=3;break}return e.abrupt("return");case 3:return t(L()),e.next=6,n=i(),Object(j.b)(n,{endpoint:g.a.gatewayUrl+"/desktopapi/v1/subscriptions",method:d.Fa.GET});case 6:(s=e.sent).ok?t(N(s.body)):t(U({error:s.error}));case 8:case"end":return e.stop()}var n},e,void 0)})),function(t,r,n){return e.apply(this,arguments)};var e}),G=function(e,t,r){return a=u()(c.a.mark(function a(i,o,u){var l,g,j,h,y,E,A,R,D,P,N,L,U=u.apiContext;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l=o(),g="subreddit"===e.type?[e.name,Object(k.v)(l,e.name)]:[""+d.Ob+e.name,Object(S.i)(l,e.name)],j=s()(g,2),h=j[0],y=j[1],Object(C.B)(l)){a.next=21;break}if(!Object(I.m)(l)){a.next=19;break}if("profile"!==e.type){a.next=7;break}return i(Object(m.e)(Object(m.d)(Object(p.a)(Object(C.H)(l),"monthsToMinutes.subscribeProfileFailToast"),T.a.Error,Object(p.a)(Object(C.H)(l),"account.signup"),Object(f.j)(v.b)))),a.abrupt("return");case 7:if(E=Object(w.a)(l),!(t&&E>=10)){a.next=11;break}return i(Object(m.e)({text:Object(p.a)(Object(C.H)(l),"monthsToMinutes.subscribeFailToast"),kind:T.a.Error,buttonText:Object(p.a)(Object(C.H)(l),"account.signup"),buttonAction:Object(f.j)(v.b),name:n.LoggedOutMaxSubscriptions})),a.abrupt("return");case 11:i(M({identifier:{id:y,type:e.type},nameIdentifier:e,profileModels:l.profiles.models,subredditModels:l.subreddits.models,subscriptionsCount:Object(w.a)(l),userIsSubscriber:t,widgetId:r})),E=Object(w.a)(o()),i(Object(O.x)()),t&&E===x.c&&(i(Object(b.h)()),i(Object(O.y)({time:Date.now(),tooltipType:x.h.Home}))),t&&Object(I.n)(o())&&E===x.f&&i(Object(O.u)()),t&&!Object(I.n)(o())&&(A=Object(k.s)(l,{subredditName:e.name}),R="monthsToMinutes.subscribeSuccessToast",D=void 0,P=void 0,N=void 0,E===x.f?(P=Object(p.a)(Object(C.H)(l),"account.signup"),D=Object(f.j)(v.b),R="monthsToMinutes.subscribeCompleteToast",N=T.a.SuccessCommunityGreen):E===x.i&&(P=Object(p.a)(Object(C.H)(l),"account.signup"),D=Object(f.j)(v.b),R="monthsToMinutes.subscribeUpsellToast"),i(Object(m.e)({text:Object(p.a)(Object(C.H)(l),R,{subredditName:A.displayText}),kind:N||T.a.SuccessCommunity,buttonText:P,buttonAction:D}))),a.next=20;break;case 19:i(Object(f.j)(v.b));case 20:return a.abrupt("return");case 21:return i(M({identifier:{id:y,type:e.type},nameIdentifier:e,profileModels:l.profiles.models,subredditModels:l.subreddits.models,subscriptionsCount:Object(w.a)(l),userIsSubscriber:t,widgetId:r})),L=Object(C.H)(l),a.next=25,_(U(),h,t);case 25:a.sent.ok||(i(M({identifier:{id:y,type:e.type},nameIdentifier:e,profileModels:l.profiles.models,subredditModels:l.subreddits.models,subscriptionsCount:Object(w.a)(l),userIsSubscriber:!t,widgetId:r})),i(Object(m.e)(Object(m.d)(Object(p.a)(L,"profile.somethingWentWrongTryAgain"),T.a.Error))));case 27:case"end":return a.stop()}},a,void 0)})),function(e,t,r){return a.apply(this,arguments)};var a},B="SUBSCRIPTION__FAVORITE_TOGGLED",V=Object(l.a)(B),H=function(e){return t=u()(c.a.mark(function t(r,n,a){var s,i,o,u,d,l,p,b,f,O,v,g=a.apiContext;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n(),i=s.subreddits.models[e.id],o=i&&i.name){t.next=8;break}if(u=s.profiles.models[e.id],o=u&&"u_"+u.name){t.next=8;break}throw new Error("actions.subscription -- No subreddit or profile found with id "+e.id);case 8:return d=s.subscriptions.favoriteSubredditOrder||[],l=s.subscriptions.favoriteProfileOrder||[],p=d.indexOf(e.id),b=l.indexOf(e.id),f=-1===p&&-1===b,O=s.subreddits.models,v=s.profiles.models,r(V({makeFavorite:f,identifier:e,subredditModels:O,profileModels:v})),t.next=18,E(g(),o,f);case 18:t.sent.ok||(r(V({makeFavorite:!f,identifier:e,subredditModels:O,profileModels:v})),r(Object(m.e)({text:"Sorry, failed to update favorites.",kind:T.a.Error})));case 20:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/tracking.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i});var n=r("./src/lib/makeActionCreator/index.ts"),a="TRACKING__VIEWPORT_DATA_LOADED",s="TRACKING__VIEWPORT_DATA_UNLOADED",i=Object(n.a)(a);Object(n.a)(s)},"./src/reddit/actions/trophyCase.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./node_modules/lodash/pickBy.js"),u=r.n(o),d=r("./src/lib/constants/index.ts"),l=r("./src/lib/makeApiRequest/index.ts"),p=r("./src/lib/omitHeaders/index.ts"),b=r("./src/lib/redditId/index.ts"),f=r("./src/reddit/constants/headers.ts"),O=function(e,t){return Object(l.b)(Object(p.a)(e,[f.a]),{method:d.Fa.GET,endpoint:e.apiUrl+"/user/"+t+"/trophies.json"}).then(function(e){var t=e.body&&e.body.data&&e.body.data.trophies;if(e.ok&&t){var r=u()(t.map(m),"id"),n=Object.keys(r);return Object.assign({},e,{body:{trophies:r,trophyIds:n}})}return e})},m=function(e){return{awardId:e.data.award_id,description:e.data.description||"",icon:e.data.icon_40||"",id:Object(b.b)(e.data.id,e.kind),name:e.data.name,url:e.data.url||""}};r.d(t,"a",function(){return v}),r.d(t,"b",function(){return h});var v="TROPHYCASE__FETCH_SUCCESS",g=Object(c.a)(v),j=Object(c.a)("TROPHYCASE__FETCH_FAILED"),h=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(o(),e);case 2:(c=r.sent).ok?n(g(Object.assign({profileId:t,profileName:e},c.body))):n(j({profileId:t,error:c.error}));case 4:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/upload.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return f}),r.d(t,"h",function(){return O}),r.d(t,"c",function(){return m}),r.d(t,"e",function(){return v}),r.d(t,"g",function(){return g}),r.d(t,"b",function(){return j}),r.d(t,"a",function(){return h}),r.d(t,"f",function(){return y}),r.d(t,"l",function(){return x}),r.d(t,"j",function(){return A}),r.d(t,"k",function(){return R}),r.d(t,"i",function(){return D});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./node_modules/lodash/get.js"),o=r.n(c),u=r("./node_modules/uuid/v4.js"),d=r.n(u),l=r("./src/lib/makeActionCreator/index.ts"),p=r("./src/lib/uploadToS3/index.ts"),b=r("./src/reddit/models/Upload/index.ts"),f="UPLOAD_PENDING",O="UPLOAD_UPLOADING",m="UPLOAD_METADATA_CHANGED",v="UPLOAD_PROGRESS",g="UPLOAD_SUCCESS",j="UPLOAD_FAILED",h="UPLOAD_CANCELED",y="UPLOAD_REMOVED",_=Object(l.a)(f),E=Object(l.a)(O),x=Object(l.a)(m),T=Object(l.a)(v),I=Object(l.a)(g),S=Object(l.a)(j),k=Object(l.a)(h),w=Object(l.a)(y),C=new Map,A=function(e,t){var r=C.get(e)||[];r.push(t),C.set(e,r)},R=function(e,t,r){var n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=i()(a.a.mark(function n(i,c,u){var l,f,O,m,v,g,j,h,y,x,k,w;u.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=t,!c().uploads[l]||!Object(b.d)(c().uploads[l])){n.next=3;break}return n.abrupt("return");case 3:return f=d()(),O=function(){var e=c().uploads[l];return!e||e.id!==f||e.status===b.a.CANCELED},i(_({key:l,id:f,file:e})),n.next=8,r(c().uploads[l]);case 8:if(m=n.sent,v=m.uploadLease,g=m.error,!O()){n.next=13;break}return n.abrupt("return");case 13:if(!g&&v){n.next=16;break}return i(S({key:l,error:g})),n.abrupt("return");case 16:return j=void 0,h=function(e){return j=e,s&&e.on("progress",function(e){if(!O()&&"upload"===e.direction){var t={percent:e.percent,total:e.total,uploaded:e.loaded};i(T({key:l,progress:t}))}}),e},A(f,function(){j&&j.abort()}),i(E({key:l})),n.next=22,Object(p.a)(e,v,h);case 22:if(y=n.sent,j=null,!O()){n.next=26;break}return n.abrupt("return");case 26:y.ok?(x=decodeURIComponent(y.body.PostResponse.Location),i(I({key:l,url:x}))):(k=o()(y,"body.Error.Message.0"),w=Object.assign({type:"ERROR"},k?{fields:[{field:"0",msg:k}]}:{}),i(S({key:l,error:w})));case 27:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)}},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,n){var a,s,i,c=n().uploads[e];c&&(a=c.id,s=t,(i=C.get(a))&&i.forEach(function(e){return e(a,s)}),C.delete(a),r(t?w({key:e}):k({key:e})))}}},"./src/reddit/actions/userBlocks.ts":function(e,t,r){"use strict";r.d(t,"f",function(){return b}),r.d(t,"e",function(){return f}),r.d(t,"d",function(){return O}),r.d(t,"h",function(){return j}),r.d(t,"b",function(){return h}),r.d(t,"c",function(){return y}),r.d(t,"a",function(){return _}),r.d(t,"g",function(){return I});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/toaster.ts"),d=r("./src/reddit/endpoints/accounts/index.ts"),l=r("./src/reddit/models/Toast/index.ts"),p=r("./src/reddit/selectors/user.ts"),b="USER_BLOCK__PENDING",f="USER_BLOCK__LOADED",O="USER_BLOCK__FAILED",m=Object(o.a)(b),v=Object(o.a)(f),g=Object(o.a)(O),j=function e(t){return r=i()(a.a.mark(function r(n,s,i){var o,p,b,f,O=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=s(),!o.blockUser.api.pending[t]){r.next=4;break}return r.abrupt("return");case 4:return n(m({username:t})),r.next=7,Object(d.a)(O(),t);case 7:p=r.sent,b="error-block-"+t,p.ok?(p.body.name&&n(v(p.body)),n(u.f(b))):(f={type:p.error?p.error.type:"Unknown error",username:t},n(g(f)),n(u.e({id:b,kind:l.a.Error,text:Object(c.a)(o.user.language,"reportFlow.blockUser.error"),buttonText:Object(c.a)(o.user.language,"reportFlow.blockUser.retry"),buttonAction:e(t)})));case 10:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},h="USER_UNBLOCK__PENDING",y="USER_UNBLOCK__SUCCESS",_="USER_UNBLOCK__FAILED",E=Object(o.a)(h),x=Object(o.a)(y),T=Object(o.a)(_),I=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o,b,f=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n(),o=Object(p.j)(i),b=o?o.id:void 0){t.next=5;break}return t.abrupt("return");case 5:return r(E({name:e})),t.next=8,Object(d.b)(f(),b,e);case 8:t.sent.ok?r(x({name:e})):(r(u.e({kind:l.a.Error,text:Object(c.a)(i.user.language,"reportFlow.blockUser.error")})),r(T({name:e})));case 10:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/userFlair.ts":function(e,t,r){"use strict";r.d(t,"i",function(){return h}),r.d(t,"a",function(){return y}),r.d(t,"d",function(){return _}),r.d(t,"b",function(){return I}),r.d(t,"h",function(){return C}),r.d(t,"c",function(){return P}),r.d(t,"g",function(){return M}),r.d(t,"f",function(){return F}),r.d(t,"e",function(){return H}),r.d(t,"o",function(){return Q}),r.d(t,"n",function(){return Y}),r.d(t,"m",function(){return J}),r.d(t,"l",function(){return z}),r.d(t,"j",function(){return X}),r.d(t,"k",function(){return Z}),r.d(t,"p",function(){return $});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./node_modules/lodash/isEmpty.js"),d=r.n(u),l=r("./src/reddit/actions/authorFlair.ts"),p=r("./src/reddit/actions/toaster.ts"),b=r("./src/reddit/endpoints/flair/index.ts"),f=r("./src/reddit/models/Flair/index.ts"),O=r("./src/reddit/models/Toast/index.ts"),m=r("./src/reddit/models/User/index.ts"),v=r("./src/reddit/selectors/subreddit.ts"),g=r("./src/reddit/selectors/user.ts"),j=r("./src/reddit/selectors/userFlair.ts"),h="USER_FLAIR_DATA__MUTATED",y="AUTHOR_FLAIR_DATA__MUTATED",_="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",E=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),x=Object(o.a)(_),T=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),I="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",S=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),k=Object(o.a)(I),w=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),C="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",A=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),R=Object(o.a)(C),D=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),P="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",N=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),L=Object(o.a)(P),U=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),M="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",F="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",G=Object(o.a)(M),B=Object(o.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),V=Object(o.a)(F),H="USERFLAIR_FETCH_SUCCESS",q=Object(o.a)(H),K=Object(o.a)(h),W=Object(o.a)(y),Q=function(e,t,r,n,s){return c=i()(a.a.mark(function i(c,o,u){var d,l,p,O,g,h,y,_=u.apiContext;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=o(),l=d.user.account,p=void 0,l&&(p=Object(m.d)(l)),O=Object.assign({},Object(j.b)(d,{subredditId:s}).displaySettings,{isUserEnabled:r}),g={userName:n,subredditId:s,applied:e,displaySettings:O},c(n===p?K(g):W(g)),h=Object(v.A)(d,{subredditId:s}),y=e&&Object(f.h)(e),Object(b.e)(_(),n,h.name,t,y),Object(b.g)(_(),r,h.name);case 11:case"end":return a.stop()}},i,void 0)})),function(e,t,r){return c.apply(this,arguments)};var c},Y=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,u=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=s(),o=Object(v.A)(c,{subredditId:e}).name,n(E()),r.next=5,Object(b.j)(u(),o,t);case 5:r.sent.ok?n(x({subredditId:e,isEnabled:t})):n(T());case 7:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},J=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var c,o,u=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=s(),o=Object(v.A)(c,{subredditId:e}).name,n(S()),r.next=5,Object(b.h)(u(),t,f.c.UserFlair,o);case 5:r.sent.ok?n(k({subredditId:e,canAssignOwn:t})):n(w());case 7:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},z=function e(t,r){return n=i()(a.a.mark(function n(s,i,o){var u,d,l,m,j,h,y,_=o.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=i(),d=Object(v.A)(u,{subredditId:r}).name,l=Object(g.H)(u),s(A()),n.next=6,Object(b.d)(_(),t,d,f.c.UserFlair);case 6:(m=n.sent).ok?(j={subredditId:r,template:m.body},s(R(j)),h=Object(p.d)(Object(c.a)(l,"structuredStyles.forms.flair.toast.flairSaved"),O.a.SuccessMod),s(Object(p.e)(h))):(s(D()),y=Object(p.d)(Object(c.a)(l,"structuredStyles.forms.flair.toast.flairNotSaved"),O.a.Error,Object(c.a)(l,"structuredStyles.forms.flair.toast.retryButtonText"),e(t,r)),s(Object(p.e)(y)));case 8:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},X=function e(t,r){return n=i()(a.a.mark(function n(s,i,o){var u,d,l,f,m,j=o.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=i(),d=Object(v.A)(u,{subredditId:r}).name,l=Object(g.H)(u),s(N()),n.next=6,Object(b.a)(j(),t,d);case 6:n.sent.ok?(s(L({subredditId:r,templateId:t})),f=Object(p.d)(Object(c.a)(l,"structuredStyles.forms.flair.toast.flairDeleted"),O.a.SuccessMod),s(Object(p.e)(f))):(s(U()),m=Object(p.d)(Object(c.a)(l,"structuredStyles.forms.flair.toast.flairNotDeleted"),O.a.Error,Object(c.a)(l,"structuredStyles.forms.flair.toast.retryButtonText"),e(t,r)),s(Object(p.e)(m)));case 8:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},Z=function e(t,r,n){return s=i()(a.a.mark(function s(i,o,u){var d,l,m,j,h,y=u.apiContext;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=o(),l=Object(v.A)(d,{subredditId:n}).name,m=Object(g.H)(d),i(G({subredditId:n,templateIds:r})),a.next=7,Object(b.c)(y(),l,f.c.UserFlair,r);case 7:a.sent.ok?(i(B()),j=Object(p.d)(Object(c.a)(m,"structuredStyles.forms.flair.toast.flairReorderSuccess"),O.a.SuccessMod),i(Object(p.e)(j))):(i(V({subredditId:n,templateIds:t})),h=Object(p.d)(Object(c.a)(m,"structuredStyles.forms.flair.toast.flairReorderFailure"),O.a.Error,Object(c.a)(m,"structuredStyles.forms.flair.toast.retryButtonText"),e(t,r,n)),i(Object(p.e)(h)));case 9:case"end":return a.stop()}},s,void 0)})),function(e,t,r){return s.apply(this,arguments)};var s},$=function(e,t){return r=i()(a.a.mark(function r(n,s,i){var o,u,f,m,j,h,y=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=s(),!((u=o.userFlair)&&u[e]&&u[e].displaySettings.isEnabled&&d()(u[e].templateIds))){r.next=10;break}return f=Object(v.A)(o,{subredditId:e}).name,r.next=6,Object(b.b)(y(),f);case 6:(m=r.sent).ok?(n(q(m.body)),n(Object(l.b)({username:t,subredditId:e}))):(j=Object(g.H)(o),h=Object(p.d)(Object(c.a)(j,"error.type.generic"),O.a.Error),n(Object(p.e)(h))),r.next=11;break;case 10:n(Object(l.b)({username:t,subredditId:e}));case 11:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/actions/userWhitelist.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return p}),r.d(t,"f",function(){return b}),r.d(t,"d",function(){return f}),r.d(t,"g",function(){return g}),r.d(t,"b",function(){return j}),r.d(t,"c",function(){return h}),r.d(t,"a",function(){return y}),r.d(t,"h",function(){return T});var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/app/strings/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),u=r("./src/reddit/actions/toaster.ts"),d=r("./src/reddit/endpoints/accounts/index.ts"),l=r("./src/reddit/models/Toast/index.ts"),p="USER_WHITELIST__PENDING",b="USER_WHITELIST__SUCCESS",f="USER_WHITELIST__FAILED",O=Object(o.a)(p),m=Object(o.a)(b),v=Object(o.a)(f),g=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o,p=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(O()),t.next=3,Object(d.d)(p(),e);case 3:(i=t.sent).ok?i.body.name&&r(m(i.body)):(r(v()),o=n(),r(u.e({kind:l.a.Error,text:Object(c.a)(o.user.language,"reportFlow.blockUser.error")})));case 5:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t},j="USER_UNWHITELIST__PENDING",h="USER_UNWHITELIST__SUCCESS",y="USER_UNWHITELIST__FAILED",_=Object(o.a)(j),E=Object(o.a)(h),x=Object(o.a)(y),T=function(e){return t=i()(a.a.mark(function t(r,n,s){var i,o=s.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n(),r(_({name:e})),t.next=4,Object(d.c)(o(),e);case 4:t.sent.ok?r(E({name:e})):(r(x({name:e})),r(u.e({kind:l.a.Error,text:Object(c.a)(i.user.language,"reportFlow.blockUser.error")})));case 6:case"end":return t.stop()}},t,void 0)})),function(e,r,n){return t.apply(this,arguments)};var t}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/omitHeaders/index.ts"),l=r("./src/reddit/constants/headers.ts");r.d(t,"b",function(){return p}),r.d(t,"a",function(){return b}),r.d(t,"c",function(){return f}),r.d(t,"d",function(){return O}),r.d(t,"e",function(){return m}),r.d(t,"f",function(){return y});var p;!function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(p||(p={}));var b="USERNAME_AVAILABLE__AVAILABLE",f="USERNAME_AVAILABLE__FAILURE",O="USERNAME_AVAILABLE__PENDING",m="USERNAME_AVAILABLE__UNAVAILABLE",v=Object(c.a)(b),g=Object(c.a)(f),j=Object(c.a)(O),h=Object(c.a)(m),y=function(e){var t,r=e.username;return t=i()(a.a.mark(function e(t,n,s){var i,c,b=s.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n().users.nameAvailable,!(!i[r]||i[r]===p.Error)){e.next=8;break}return t(j({username:r})),e.next=6,a=b(),s={username:r},Object(u.b)(Object(d.a)(a,[l.a]),{method:o.Fa.GET,endpoint:a.apiUrl+"/api/username_available.json?user="+s.username,type:"json"});case 6:(c=e.sent).ok?c.body?t(v({username:r})):t(h({username:r})):t(g({username:r}));case 8:case"end":return e.stop()}var a,s},e,void 0)})),function(e,r,n){return t.apply(this,arguments)}}},"./src/reddit/actions/vote.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/reddit/actions/modal.ts"),u=r("./src/reddit/components/AccountManagerModal/index.tsx"),d=r("./src/reddit/constants/adEvents.ts"),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeApiRequest/index.ts"),b=r("./src/lib/omitHeaders/index.ts"),f=r("./src/reddit/constants/headers.ts"),O=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),m=function(e,t,r){return Object(p.b)(Object(b.a)(e,[f.a]),{endpoint:Object(O.a)(e.apiUrl+"/api/vote"),method:l.Fa.POST,data:{id:t,dir:r,api_type:"json"}})},v=r("./src/reddit/helpers/isComment.ts"),g=r("./src/reddit/helpers/isPost.ts"),j=r("./src/reddit/helpers/pixels.ts"),h=r("./src/reddit/models/MonthsToMinutes/index.ts"),y=r("./src/reddit/models/Vote/index.ts"),_=r("./src/reddit/selectors/comments.ts"),E=r("./src/reddit/selectors/monthsToMinutes.ts"),x=r("./src/reddit/selectors/posts.ts"),T=r("./src/reddit/selectors/user.ts"),I=r("./src/reddit/actions/monthsToMinutes.ts");r.d(t,"a",function(){return S}),r.d(t,"b",function(){return w});var S="VOTE__VOTE_CAST",k=Object(c.a)(S),w=function(e,t){return function(r){return n=i()(a.a.mark(function n(s,i,c){var l,p,b,f,O,S,w,C,A,R=c.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=i(),Object(T.B)(l)||Object(E.m)(l)){n.next=4;break}return s(Object(o.j)(u.b)),n.abrupt("return");case 4:p=e(r,i),b=y.b(p,t),f=Object(g.a)(r)?p.postId:r,s(k({id:f,isInstance:!1,vote:t})),Object(E.m)(l)&&b!==y.a.notVoted&&Object(E.n)(i())&&Object(E.w)(i())===h.g&&s(Object(I.u)()),(l.posts.instances[f]||[]).forEach(function(e){s(k({id:e,isInstance:!0,vote:t}))}),b&&(Object(g.a)(r)?(O=Object(x.A)(l,{postId:r}),S=t>0?d.a.Upvote:d.a.Downvote,Object(j.a)(O.events,S)):Object(v.a)(r)&&(w=Object(_.n)(l,{commentId:r}))&&(C=Object(x.A)(l,{postId:w.postId}),A=t>0?d.a.CommentUpvote:d.a.CommentDownvote,Object(j.a)(C.events,A))),m(R(),f,b);case 13:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n}}},"./src/reddit/actions/widgets.ts":function(e,t,r){"use strict";var n={};r.d(n,"getWidgets",function(){return E}),r.d(n,"postWidget",function(){return x}),r.d(n,"deleteWidget",function(){return T}),r.d(n,"putWidget",function(){return I}),r.d(n,"patchWidgetOrder",function(){return S}),r.d(n,"getImageUploadLease",function(){return k});var a,s,i,c,o,u,d=r("./node_modules/babel-runtime/regenerator/index.js"),l=r.n(d),p=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),b=r.n(p),f=r("./src/lib/makeActionCreator/index.ts"),O=r("./src/app/strings/index.ts"),m=r("./src/reddit/actions/apiRequestState.ts"),v=r("./src/reddit/actions/imageUploads.ts"),g=r("./src/reddit/actions/toaster.ts"),j=r("./src/lib/constants/index.ts"),h=r("./src/lib/makeApiRequest/index.ts"),y=r("./src/lib/omitHeaders/index.ts"),_=r("./src/reddit/constants/headers.ts"),E=(a=b()(l.a.mark(function e(t,r){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/r/"+r+"/api/widgets",method:j.Fa.GET,type:"json"}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return a.apply(this,arguments)}),x=(s=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/r/"+r+"/api/widget",method:j.Fa.POST,type:"json",data:n}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return s.apply(this,arguments)}),T=(i=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/r/"+r+"/api/widget/"+n.id,method:j.Fa.DELETE,type:"json"}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return i.apply(this,arguments)}),I=(c=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/r/"+r+"/api/widget/"+n.id,method:j.Fa.PUT,type:"json",data:n}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return c.apply(this,arguments)}),S=(o=b()(l.a.mark(function e(t,r,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/r/"+r+"/api/widget_order/sidebar",method:j.Fa.PATCH,type:"json",data:n}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return o.apply(this,arguments)}),k=(u=b()(l.a.mark(function e(t,r,n,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.b)(Object(y.a)(t,[_.a]),{endpoint:t.apiUrl+"/r/"+r+"/api/widget_image_upload_s3",method:j.Fa.POST,data:{filepath:n,mimetype:a}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return u.apply(this,arguments)}),w=r("./src/reddit/helpers/getGenericUploadError.ts"),C=r("./src/reddit/helpers/media/index.ts"),A=r("./src/lib/assertNever.ts"),R=r("./src/reddit/selectors/subreddit.ts"),D=function(e,t,r){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign({},e,t);case"community-list":var n={},a=!0,s=!1,i=void 0;try{for(var c,o=e.data[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var u=c.value;n[u.name]=u}}catch(e){s=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw i}}return Object.assign({},t,{data:t.data.map(function(e){if(!("subscribers"in n[e])){var t={subredditName:e},a=Object(R.s)(r,t),s=Object(R.q)(r,t);return{name:a.name,subscribers:a?a.subscribers:void 0,iconUrl:a?a.communityIcon:void 0,isSubscribed:s?s.userIsSubscriber:void 0}}return n[e]})});case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(A.a)(e)}},P=r("./src/reddit/models/Image/index.tsx"),N=r("./src/reddit/models/Toast/index.ts"),L=r("./src/reddit/models/Widgets/index.ts"),U=r("./src/reddit/selectors/user.ts");r.d(t,"c",function(){return M}),r.d(t,"h",function(){return G}),r.d(t,"e",function(){return B}),r.d(t,"j",function(){return H}),r.d(t,"d",function(){return q}),r.d(t,"i",function(){return W}),r.d(t,"b",function(){return Q}),r.d(t,"l",function(){return J}),r.d(t,"f",function(){return z}),r.d(t,"g",function(){return X}),r.d(t,"a",function(){return Z}),r.d(t,"k",function(){return ee});var M="WIDGETS__WIDGET_CREATED",F=Object(f.a)(M),G=function(e,t,r){return n=b()(l.a.mark(function n(a,s,i){var c,o,u,d,p,b,f,j,h,y;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=i.apiContext,a(Object(m.h)(r)),o=s(),u=Object(R.A)(o,{subredditId:e}).name,d=Object(U.H)(o),p=Object(L.i)(t),b=null,n.prev=7,n.next=10,Object(v.f)(o,P.a.Widgets);case 10:b=n.sent,n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(7),f=Object(w.a)("webSocket"),a(Object(m.f)(r,f)),n.abrupt("return");case 18:return n.next=20,x(c(),u,p);case 20:if(!(j=n.sent).ok){n.next=37;break}if(h=j.body,y=h.id,"calendar"===t.kind&&a(Object(g.e)({kind:N.a.SuccessMod,text:Object(O.a)(d,"structuredStyles.widgets.calendar.toastText.created")})),!b){n.next=33;break}return n.prev=26,n.next=29,Object(v.m)(b)(a,s,i);case 29:n.next=33;break;case 31:n.prev=31,n.t1=n.catch(26);case 33:a(F({subredditId:e,widget:h,widgetId:y})),a(Object(m.e)(r)),n.next=39;break;case 37:b&&b.websocket.close(),a(Object(m.f)(r,j.error));case 39:case"end":return n.stop()}},n,void 0,[[7,13],[26,31]])})),function(e,t,r){return n.apply(this,arguments)};var n},B="WIDGETS__WIDGET_UPDATED",V=Object(f.a)(B),H=function(e,t,r){return n=b()(l.a.mark(function n(a,s,i){var c,o,u,d,p,b,f,j,h,y,_;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=i.apiContext,a(Object(m.h)(r)),o=t.id,u=s(),d=Object(R.A)(u,{subredditId:e}).name,p=Object(U.H)(u),b=Object(L.i)(t),f=null,j=null,n.prev=9,n.next=12,Object(v.f)(u,P.a.Widgets);case 12:(f=n.sent)&&(j=Object(v.m)(f)(a,s,i)),n.next=21;break;case 16:return n.prev=16,n.t0=n.catch(9),h=Object(w.a)("webSocket"),a(Object(m.f)(r,h)),n.abrupt("return");case 21:return n.next=23,I(c(),d,b);case 23:if(!(y=n.sent).ok){n.next=39;break}if(_=D(t,y.body,u),a(V({subredditId:e,widgetId:o,widget:_})),!j){n.next=35;break}return n.prev=28,n.next=31,j;case 31:n.next=35;break;case 33:n.prev=33,n.t1=n.catch(28);case 35:"calendar"===t.kind&&a(Object(g.e)({kind:N.a.SuccessMod,text:Object(O.a)(p,"structuredStyles.widgets.calendar.toastText.updated")})),a(Object(m.e)(r)),n.next=41;break;case 39:f&&f.websocket.close(),a(Object(m.f)(r,y.error));case 41:case"end":return n.stop()}},n,void 0,[[9,16],[28,33]])})),function(e,t,r){return n.apply(this,arguments)};var n},q="WIDGET_DELETED",K=Object(f.a)(q),W=function(e,t,r){return n=b()(l.a.mark(function n(a,s,i){var c,o,u,d=i.apiContext;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(Object(m.h)(r)),c=t.id,o=Object(R.A)(s(),{subredditId:e}).name,n.next=5,T(d(),o,t);case 5:(u=n.sent).ok?(a(Object(m.e)(r)),a(K({subredditId:e,widgetId:c}))):a(Object(m.f)(r,u.error));case 7:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},Q="WIDGETS_SORTED",Y=Object(f.a)(Q),J=function(e,t){return r=b()(l.a.mark(function r(n,a,s){var i,c=s.apiContext;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=Object(R.A)(a(),{subredditId:e}).name,r.next=3,S(c(),i,t);case 3:r.sent.ok&&n(Y({subredditId:e,widgetIds:t}));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},z=function(e){var t,r=e.imageData;return t=b()(l.a.mark(function e(t,a,s){var i,c,o,u,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a(),c=i.structuredStyles.isEditing,o=Object(R.A)(i,{subredditId:c}).name,t(Object(v.k)(r)),e.t0=n,e.t1=s.apiContext(),e.t2=o,e.t3=r.file.name,e.next=10,Object(C.f)(r.file);case 10:return e.t4=e.sent,e.next=13,e.t0.getImageUploadLease.call(e.t0,e.t1,e.t2,e.t3,e.t4);case 13:return u=e.sent,e.prev=14,e.next=17,Object(v.g)(a(),u,r,P.a.Widgets);case 17:(d=e.sent)&&t(Object(v.j)(d)),e.next=26;break;case 21:if(e.prev=21,e.t5=e.catch(14),!(e.t5 instanceof Error)){e.next=25;break}throw e.t5;case 25:t(Object(v.i)(e.t5));case 26:case"end":return e.stop()}},e,void 0,[[14,21]])})),function(e,r,n){return t.apply(this,arguments)}},X=Object(f.a)("WIDGETS__STARTED_EDITING_WIDGET"),Z="WIDGETS__LOADED",$=Object(f.a)(Z),ee=function(e,t){return r=b()(l.a.mark(function r(n,a,s){var i,c,o,u=s.apiContext;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(Object(m.h)(t)),i=Object(R.A)(a(),{subredditId:e}).name,r.next=4,E(u(),i);case 4:(c=r.sent).ok?(o=c.body,n($({subredditId:e,widgets:o})),n(Object(m.e)(t))):n(Object(m.f)(t,c.error));case 6:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r}},"./src/reddit/components/AccountManagerModal/index.tsx":function(e,t,r){"use strict";r.d(t,"a",function(){return D}),r.d(t,"b",function(){return P}),r.d(t,"c",function(){return n});var n,a=r("./node_modules/babel-runtime/helpers/jsx.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/defineProperty.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=r.n(o),d=r("./node_modules/babel-runtime/helpers/createClass.js"),l=r.n(d),p=r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=r.n(p),f=r("./node_modules/babel-runtime/helpers/inherits.js"),O=r.n(f),m=r("./src/config.ts"),v=r("./node_modules/react/index.js"),g=r.n(v),j=r("./node_modules/react-redux/es/index.js"),h=r("./node_modules/reselect/lib/index.js"),y=r("./bundled-modules/styled-components/styled-components.min.js"),_=r.n(y),E=r("./src/lib/addQueryParams/index.ts"),x=r("./src/reddit/actions/modal.ts"),T=r("./src/reddit/constants/history.ts"),I=r("./src/reddit/constants/listings.ts"),S=r("./src/reddit/constants/parameters.ts"),k=r("./src/reddit/constants/zIndex.ts"),w=r("./src/reddit/helpers/history/index.ts"),C=r("./src/reddit/helpers/monthsToMinutes/index.ts"),A=r("./src/reddit/icons/svgs/Close/index.tsx"),R=r("./src/reddit/selectors/telemetry.ts"),D="account_manager_login",P="account_manager_register";!function(e){e.Index="/login",e.Register="/register"}(n||(n={}));var N,L=m.a.redditUrl;!function(e){e.Login="login",e.Register="register"}(N||(N={}));var U=_.a.div.withConfig({componentId:"jiwck4-0"})(["background: rgba(0,0,0,0.4);height: 100%;left: 0;position: fixed;top: 0;width: 100%;z-index: ",";"],k.b),M=_.a.div.withConfig({componentId:"jiwck4-1"})(["background: #fff;border-radius: 4px;box-shadow: 1px 7px 20px 2px rgba(0,0,0,0.4);height: 550px;left: 50%;overflow: hidden;position: fixed;top: 50%;transform: translate(-50%, -50%);width: 750px;z-index: ",";"],k.b+1),F=_.a.iframe.withConfig({componentId:"jiwck4-2"})(["height: 100%;width: 100%;"]),G=_.a.button.withConfig({componentId:"jiwck4-3"})(["position: absolute;right: 16px;top: 16px;"]),B=_()(A.a).withConfig({componentId:"jiwck4-4"})(["height: 20px;fill: grey;width: 20px;"]),V=Object(h.createStructuredSelector)({actionSource:function(e){return e.accountManagerModalData.actionSource},redirectUrl:function(e){return e.accountManagerModalData.redirectUrl}}),H=Object(j.connect)(V,function(e){return{closeModal:function(t,r,a){r.contentWindow.postMessage({type:"closedModal"},L),a.style.display="none",setTimeout(function(){e(Object(x.j)(t===n.Register?P:D))},1e3)},oniFrameLoaded:function(t,r){e(function(e,n){return t.contentWindow.postMessage({events:Object.assign({},Object(R.defaults)(n()),{actionSource:r}),type:"eventData"},L)})}}}),q=function(e){var t=e.data,r=e.origin;return t&&t.success&&(t.type===N.Login||t.type===N.Register)&&r===m.a.accountManagerOrigin},K=function(e){function t(){u()(this,t);var e=b()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onMessage=function(t){var r=t.data;e.iframeRef&&t.source===e.iframeRef.contentWindow&&q(t)&&(Object(C.a)(),r.type===N.Login?e.onLogIn():e.onSignUp())},e.onLogIn=function(){e.props.redirectUrl?e.redirectTo(e.props.redirectUrl):(Object(w.a)(T.a.ShowLoginToast,!0),window.location.reload(!0))},e.onSignUp=function(){var t="";t=e.props.redirectUrl?e.props.redirectUrl:"/"!==window.location.pathname||window.location.search.length?window.location.pathname:I.c[I.b.Popular],e.redirectTo(t)},e.redirectTo=function(e){window.location.replace(Object(E.a)(e,c()({},S.i,"true")))},e}return O()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.iframeRef&&(this.iframeRef.onload=function(){return e.props.oniFrameLoaded(e.iframeRef,e.props.actionSource)}),window.addEventListener("message",this.onMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onMessage)}},{key:"render",value:function(){var e=this;return s()(U,{innerRef:function(t){return e.containerRef=t}},void 0,s()(M,{},void 0,s()(G,{onClick:function(){return e.props.closeModal(e.props.path,e.iframeRef,e.containerRef)}},void 0,s()(B,{})),s()(F,{innerRef:function(t){return e.iframeRef=t},src:""+m.a.accountManagerOrigin+this.props.path})))}}]),t}(g.a.Component);t.d=H(K)},"./src/reddit/components/Comments/helpers/hiddenComments.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return i});var n={};function a(e){return e in n}function s(e){n[e]=!0}function i(){n={}}},"./src/reddit/constants/elementIds.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return s});var n="bladeContainer",a="header",s="overlayScrollContainer"},"./src/reddit/constants/explore.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n=3,a=3},"./src/reddit/constants/history.ts":function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),function(e){e.IsOverlay="isOverlay",e.ScrollOnLoad="scrollOnLoad",e.CloseLocation="closeLocation",e.ShowLoginToast="showLoginToast"}(n||(n={}))},"./src/reddit/constants/listings.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o});var n,a,s=r("./node_modules/babel-runtime/helpers/defineProperty.js"),i=r.n(s),c=(r("./src/app/strings/index.ts"),new Set(["friends","mod","random"]));!function(e){e.All="all",e.Explore="explore",e.Home="home",e.News="news",e.Original="original",e.Popular="popular"}(a||(a={}));var o=(n={},i()(n,a.Home,"/"),i()(n,a.Popular,"/r/popular"),i()(n,a.All,"/r/all"),i()(n,a.Original,"/original"),i()(n,a.News,"/news"),i()(n,a.Explore,"/explore"),n)},"./src/reddit/constants/promos.ts":function(e,t,r){"use strict";var n,a;r.d(t,"j",function(){return n}),r.d(t,"h",function(){return a}),r.d(t,"g",function(){return o}),r.d(t,"l",function(){return u}),r.d(t,"i",function(){return s}),r.d(t,"e",function(){return i}),r.d(t,"f",function(){return c}),r.d(t,"a",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return p}),r.d(t,"d",function(){return b}),r.d(t,"m",function(){return f}),r.d(t,"k",function(){return O}),function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(n||(n={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(a||(a={}));var s,i,c,o="seen_mobile_promo",u=3;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(s||(s={})),function(e){e.Test1="test_1",e.Test2="test_2"}(i||(i={})),function(e){e.Test1="test_1",e.Test2="test_2"}(c||(c={}));var d="desktop_xpromo_logged_in",l="desktop_xpromo_logged_out",p="47afc8f7-ed6c-497d-8750-200e43f3bdd8",b="026bd85a-79e4-449e-b75c-207e347c5d96",f={welcome:"welcome",join:"join",vote:"vote",personalize:"personalize"};!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(s||(s={}));var O="seen_logged_out_upsell_banner"},"./src/reddit/constants/shortcuts.ts":function(e,t,r){"use strict";var n,a;r.d(t,"d",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i}),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(n||(n={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(a||(a={}));var s="SHORTCUT_FOCUSABLE_DIV",i=[9,13,32]},"./src/reddit/constants/viewabilityEvents.ts":function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),function(e){e[e.Viewable=1]="Viewable",e[e.VideoViewable=2]="VideoViewable",e[e.VideoFullyViewable=3]="VideoFullyViewable",e[e.Impression=4]="Impression"}(n||(n={}))},"./src/reddit/controls/FormFields/index.tsx":function(e,t,r){"use strict";r.d(t,"a",function(){return T}),r.d(t,"b",function(){return w}),r.d(t,"c",function(){return A}),r.d(t,"d",function(){return n}),r.d(t,"e",function(){return M});var n,a=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/createClass.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=r.n(o),d=r("./node_modules/babel-runtime/helpers/inherits.js"),l=r.n(d),p=r("./node_modules/babel-runtime/helpers/extends.js"),b=r.n(p),f=r("./node_modules/babel-runtime/helpers/jsx.js"),O=r.n(f),m=r("./node_modules/react/index.js"),v=r.n(m),g=r("./bundled-modules/styled-components/styled-components.min.js"),j=r.n(g),h=r("./src/reddit/helpers/styles/mixins/fonts.tsx"),y=r("./src/reddit/icons/svgs/Plus/index.tsx"),_=r("./src/reddit/icons/svgs/Trash2/index.tsx"),E=r("./src/reddit/models/Theme/NewColorSystem/index.ts"),x=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},T=j.a.input.withConfig({componentId:"aqfopc-0"})(["background-color: ",";border: 1px solid ",";color: ",";box-sizing: border-box;height: 48px;margin-bottom: 8px;border-radius: 4px;padding: 12px 24px 4px 12px;width: 100%;&:focus {border: solid 1px #0079D3;}&:focus + label {top: 8px;left: 12px;}&:invalid + label {top: 8px;left: 12px;}"],function(e){return Object(E.c)(e).body},function(e){return Object(E.c)(e).line},function(e){return Object(E.c)(e).bodyText}),I=j.a.label.withConfig({componentId:"aqfopc-1"})(["","cursor: text;color: #A5A4A4;position: absolute;top: ",";left: ",";transition: 0.2s;"],h.labelsFont,function(e){return e.hasValue?"8px":"19px"},function(e){return e.hasValue?"12px":"15px"}),S=j.a.div.withConfig({componentId:"aqfopc-2"})(["position: relative;display: inline-block;"," {background-color: ",";color: ",";padding-bottom: 12px;border-color: ","}"],T,function(e){return Object(E.c)(e).body},function(e){return Object(E.c)(e).bodyText},function(e){return!1===e.isValid?"#f00":"rgb(229, 229, 229)"}),k=function(e){"LABEL"===e.target.tagName&&(e.target.parentElement.firstElementChild.focus(),e.stopPropagation())},w=function(e){e.label,e.children;var t=e.inputRef,r=e.className,n=x(e,["label","children","inputRef","className"]),a=void 0!==e.value&&""!==e.value;return O()(S,{className:r,hasLabel:!!e.label,onClick:k,isValid:e.isValid},void 0,v.a.createElement(T,b()({innerRef:t},n)),e.label&&O()(I,{hasValue:a},void 0,e.label),e.children)},C=j.a.div.withConfig({componentId:"aqfopc-3"})(["position: relative;display: inline-block;"," {background-color: ",";color: ",";padding-bottom: 0;&::placeholder {color: transparent;}&:focus {border: solid 1px ",";outline: none;&::placeholder {color: ",";}}}"],T,function(e){return Object(E.c)(e).body},function(e){return Object(E.c)(e).bodyText},function(e){return Object(E.c)(e).button},function(e){return Object(E.c)(e).metaText}),A=function(e){e.label,e.children;var t=e.inputRef,r=e.className,n=e.redditStyle,a=x(e,["label","children","inputRef","className","redditStyle"]),s=void 0!==e.value&&""!==e.value;return O()(C,{className:r,redditStyle:n,onClick:k},void 0,v.a.createElement(T,b()({innerRef:t},a)),e.label&&O()(I,{hasValue:s},void 0,e.label),e.children)},R=j()(w).withConfig({componentId:"aqfopc-4"})(["padding-right: 36px;"]),D=j()(_.b).withConfig({componentId:"aqfopc-5"})(["height: 20px;&:hover {fill: rgb(114, 113, 113);}"]),P=j.a.div.withConfig({componentId:"aqfopc-6"})(["position: absolute;cursor: pointer;top: 14px;right: 16px;display: inline-block;"]),N=j()(y.a).withConfig({componentId:"aqfopc-7"})(["height: 17px;background-color: #A5A4A4;fill: white;border-radius: 3px;position: absolute;right: 16px;&:hover {background-color: rgb(114, 113, 113);}"]),L=j()(function(e){return O()("div",{className:e.className,onClick:e.onClick},void 0,e.text," ",O()(N,{}))}).withConfig({componentId:"aqfopc-8"})(["background-color: ",";border: dashed 1px #ddd;color: ",";cursor: pointer;height: 32px;padding: 16px 12px 0px 12px;position: relative;border-radius: 4px;margin-bottom: 8px;"],function(e){return Object(E.c)(e).body},function(e){return Object(E.c)(e).bodyText}),U=j.a.div.withConfig({componentId:"aqfopc-9"})(["display: flex;flex-direction: column;padding: 0px 8px;"]);!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE"}(n||(n={}));var M=function(e){function t(){s()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={addingNewInputs:!1},e.addValue=function(){var t=e.props.values.slice();e.props.buttonOnTop?t.unshift(""):t.push(""),e.props.onChange(t),e.props.onEvent&&e.props.onEvent({action:n.ADD})},e.updateValue=function(t,r){var n=e.props.values.slice();n[r]=t.target.value,e.props.onChange(n)},e.removeValue=function(t){var r=e.props.values.slice(),a=r[t];r.splice(t,1),e.props.onChange(r),e.props.onEvent&&e.props.onEvent({action:n.REMOVE,value:a,index:t})},e}return l()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){e.values.length>this.props.values.length&&this.setState({addingNewInputs:!0})}},{key:"componentDidUpdate",value:function(){this.focusedInput&&this.state.addingNewInputs&&(this.focusedInput.focus(),this.setState({addingNewInputs:!1}))}},{key:"setInputRef",value:function(e,t){this.state.addingNewInputs&&(!this.props.buttonOnTop||this.props.buttonOnTop&&!t)&&(this.focusedInput=e)}},{key:"renderFields",value:function(){var e=this,t=this.props,r=t.values,n=t.disabled,a=t.label,s=t.placeholder;return r.map(function(t,r){return O()(R,{inputRef:function(t){return e.setInputRef(t,r)},disabled:n,type:"text",label:a,onChange:function(t){return e.updateValue(t,r)},placeholder:s,value:t},void 0,O()(P,{onClick:function(){return e.removeValue(r)}},void 0,O()(D,{})))})}},{key:"render",value:function(){var e=this.props,t=e.buttonOnTop,r=e.values,n=e.maxLength,a=e.addValueText,s=e.disabled;this.focusedInput=null;var i=!(!!n&&r.length>=n)&&!s;return O()(U,{className:this.props.className},void 0,t&&i&&O()(L,{onClick:this.addValue,text:a}),this.renderFields(),!t&&i&&O()(L,{onClick:this.addValue,text:a}))}}]),t}(v.a.Component)},"./src/reddit/endpoints/accounts/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return O}),r.d(t,"b",function(){return m}),r.d(t,"d",function(){return v}),r.d(t,"c",function(){return g});var n,a,s,i,c=r("./node_modules/babel-runtime/regenerator/index.js"),o=r.n(c),u=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),d=r.n(u),l=r("./src/lib/constants/index.ts"),p=r("./src/lib/makeApiRequest/index.ts"),b=r("./src/lib/omitHeaders/index.ts"),f=r("./src/reddit/constants/headers.ts"),O=(n=d()(o.a.mark(function e(t,r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.b)(Object(b.a)(t,[f.a]),{data:{name:r},endpoint:t.apiUrl+"/api/block_user",method:l.Fa.POST}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return n.apply(this,arguments)}),m=(a=d()(o.a.mark(function e(t,r,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.b)(Object(b.a)(t,[f.a]),{data:{name:n,container:r,type:"enemy"},endpoint:t.apiUrl+"/api/unfriend",method:l.Fa.POST}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return a.apply(this,arguments)}),v=(s=d()(o.a.mark(function e(t,r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.b)(Object(b.a)(t,[f.a]),{data:{name:r},endpoint:t.apiUrl+"/api/add_whitelisted?include_model",method:l.Fa.POST}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return s.apply(this,arguments)}),g=(i=d()(o.a.mark(function e(t,r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.b)(Object(b.a)(t,[f.a]),{data:{name:r},endpoint:t.apiUrl+"/api/remove_whitelisted",method:l.Fa.POST}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return i.apply(this,arguments)})},"./src/reddit/endpoints/chat/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return I}),r.d(t,"c",function(){return S}),r.d(t,"i",function(){return w}),r.d(t,"d",function(){return C}),r.d(t,"f",function(){return A}),r.d(t,"e",function(){return R}),r.d(t,"h",function(){return D}),r.d(t,"a",function(){return T}),r.d(t,"g",function(){return M}),r.d(t,"j",function(){return F});var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=r.n(o),d=r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),l=r.n(d),p=r("./node_modules/babel-runtime/helpers/inherits.js"),b=r.n(p),f=r("./src/config.ts"),O=r("./src/lib/constants/index.ts"),m=r("./src/lib/makeApiRequest/index.ts"),v=r("./src/lib/omitHeaders/index.ts"),g=r("./src/reddit/constants/headers.ts");!function(e){e.PUBLIC="all"}(n||(n={}));var j,h,y,_,E,x,T,I=10,S=10,k=function(e){function t(e,r){u()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.response=r,n}return b()(t,e),t}(Error),w=(j=c()(s.a.mark(function e(t,r,a){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={},a&&(i.public_mode=n.PUBLIC),e.abrupt("return",Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/subreddit/"+r+"/channels",method:O.Fa.GET,data:i}));case 3:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return j.apply(this,arguments)}),C=(h=c()(s.a.mark(function e(t,r,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/subreddit/channels/create",method:O.Fa.POST,data:JSON.stringify({room:n.room,room_type:n.roomType,description:n.description,subreddit:n.subreddit,automute_account_age_threshold:n.minimumAcctAge,automute_on_join_duration:n.newMemberAge})}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return h.apply(this,arguments)}),A=(y=c()(s.a.mark(function e(t,r,n,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/subreddit/channels/"+r,method:O.Fa.PUT,data:JSON.stringify({room:a.room,description:a.description,automute_account_age_threshold:a.minimumAcctAge,automute_on_join_duration:a.newMemberAge})}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return y.apply(this,arguments)}),R=(_=c()(s.a.mark(function e(t,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/subreddit/channels/"+r,method:O.Fa.DELETE}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return _.apply(this,arguments)}),D=(E=c()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/sendbird/config",method:O.Fa.GET}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return E.apply(this,arguments)});function P(e){var t={bannedWords:e.profanity_filter&&e.profanity_filter.keywords,regexes:e.profanity_filter&&e.profanity_filter.regex_filters,rateLimit:e.user_messages_per_channel,domains:e.domain_filter&&e.domain_filter.domains&&e.domain_filter.domains.join(", "),useDefaultProfanityFilter:e.profanity_filter&&e.profanity_filter.should_check_global,domainFilterOption:void 0};if(!1===e.allow_links)t.domainFilterOption=T.BLOCK_ALL_DOMAINS;else{var r=e.domain_filter,n=(r=void 0===r?{type:void 0}:r).type;n===x.BLOCK_MODE?t.domainFilterOption=T.BLOCK_BANNED_DOMAINS:n===x.ALLOW_MODE?t.domainFilterOption=T.ALLOW_APPROVED_DOMAINS:t.domainFilterOption=T.ALLOW_ALL_DOMAINS}return t}function N(e){var t={};return e.rateLimit&&e.rateLimit>0&&(t.user_messages_per_channel=e.rateLimit,t.user_messages_per_channel_duration=S),void 0===e.bannedWords&&void 0===e.regexes&&void 0===e.useDefaultProfanityFilter||(t.profanity_filter={keywords:e.bannedWords,regex_filters:e.regexes,should_check_global:e.useDefaultProfanityFilter}),e.domainFilterOption===T.BLOCK_ALL_DOMAINS?(t.allow_links=!1,t.domain_filter={type:x.DISABLE}):e.domainFilterOption===T.ALLOW_ALL_DOMAINS?(t.allow_links=!0,t.domain_filter={type:x.DISABLE}):e.domainFilterOption===T.ALLOW_APPROVED_DOMAINS&&e.domains?(t.allow_links=!0,t.domain_filter={type:x.ALLOW_MODE,domains:e.domains.split(",")}):e.domainFilterOption===T.BLOCK_BANNED_DOMAINS&&e.domains&&(t.allow_links=!0,t.domain_filter={type:x.BLOCK_MODE,domains:e.domains.split(",")}),t}!function(e){e[e.BLOCK_MODE=2]="BLOCK_MODE",e[e.ALLOW_MODE=1]="ALLOW_MODE",e[e.DISABLE=0]="DISABLE"}(x||(x={})),function(e){e.ALLOW_ALL_DOMAINS="Allow all domains",e.ALLOW_APPROVED_DOMAINS="Allow links to approved domains",e.BLOCK_BANNED_DOMAINS="Block links to banned domains",e.BLOCK_ALL_DOMAINS="Block all domains"}(T||(T={}));var L,U,M=(L=c()(s.a.mark(function e(t,r){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/chat/subreddit/"+r+"/settings",method:O.Fa.GET});case 2:if(!(n=e.sent).ok||!n.body){e.next=5;break}return e.abrupt("return",P(n.body));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return L.apply(this,arguments)}),F=(U=c()(s.a.mark(function e(t,r,n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(Object(v.a)(t,[g.a]),{endpoint:f.a.sendbirdServiceUrl+"/api/v1/chat/subreddit/"+r+"/settings",method:O.Fa.PUT,data:JSON.stringify(N(n))});case 2:if(!(a=e.sent).ok||!a.body){e.next=7;break}return e.abrupt("return",Object.assign({},a,{body:P(a.body)}));case 7:throw new k("Failed to update subreddit chat settings",a);case 8:case"end":return e.stop()}},e,this)})),function(e,t,r){return U.apply(this,arguments)})},"./src/reddit/endpoints/flair/index.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return y}),r.d(t,"f",function(){return _}),r.d(t,"g",function(){return E}),r.d(t,"j",function(){return x}),r.d(t,"i",function(){return T}),r.d(t,"h",function(){return I}),r.d(t,"d",function(){return S}),r.d(t,"a",function(){return k}),r.d(t,"c",function(){return w}),r.d(t,"b",function(){return C});var n,a,s,i,c,o,u,d=r("./node_modules/babel-runtime/helpers/defineProperty.js"),l=r.n(d),p=r("./node_modules/babel-runtime/regenerator/index.js"),b=r.n(p),f=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),O=r.n(f),m=r("./src/config.ts"),v=r("./src/lib/constants/index.ts"),g=r("./src/lib/makeApiRequest/index.ts"),j=r("./src/lib/omitHeaders/index.ts"),h=r("./src/reddit/constants/headers.ts"),y=function(e,t,r,n,a){return Object(g.b)(Object(j.a)(e,[h.a]),{endpoint:e.apiUrl+"/r/"+r+"/api/selectflair",method:v.Fa.POST,data:{api_type:"json",flair_template_id:n,name:t,text:a}})},_=function(e,t,r,n){return Object(g.b)(Object(j.a)(e,[h.a]),{endpoint:e.apiUrl+"/api/selectflair",method:v.Fa.POST,data:{api_type:"json",flair_template_id:r,link:t,text:n}})},E=function(e,t,r){return Object(g.b)(Object(j.a)(e,[h.a]),{endpoint:e.apiUrl+"/r/"+r+"/api/setflairenabled",method:v.Fa.POST,data:{api_type:"json",flair_enabled:t}})},x=(n=O()(b.a.mark(function e(t,r,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(Object(j.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/enable_sr_user_flair.json",method:v.Fa.POST,data:{subreddit:r,enabled:n}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return n.apply(this,arguments)}),T=(a=O()(b.a.mark(function e(t,r,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(Object(j.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/enable_sr_link_flair.json",method:v.Fa.POST,data:{subreddit:r,enabled:n}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return a.apply(this,arguments)}),I=(s=O()(b.a.mark(function e(t,r,n,a){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(Object(j.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/enable_sr_user_flair_self_assign.json",method:v.Fa.POST,data:{subreddit:a,flair_type:n,enabled:r}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return s.apply(this,arguments)}),S=(i=O()(b.a.mark(function e(t,r,n,a){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(Object(j.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/flairtemplate_v2",method:v.Fa.POST,data:{flair_template_id:r.id,text:r.text,text_editable:r.textEditable,flair_type:a,text_color:r.textColor,background_color:r.backgroundColor,mod_only:r.modOnly,r:n}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return i.apply(this,arguments)}),k=(c=O()(b.a.mark(function e(t,r,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(Object(j.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/deleteflairtemplate",method:v.Fa.POST,data:{flair_template_id:r,r:n}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return c.apply(this,arguments)}),w=(o=O()(b.a.mark(function e(t,r,n,a){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(Object(j.a)(t,[h.a]),{endpoint:t.apiUrl+"/api/v1/"+r+"/flair_template_order/"+n,method:v.Fa.PATCH,type:"json",data:a}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return o.apply(this,arguments)}),C=(u=O()(b.a.mark(function e(t,r){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.b)(t,{endpoint:m.a.gatewayUrl+"/desktopapi/v1/subreddits/"+r+"/userFlair",method:v.Fa.GET,headers:l()({},h.a,h.a)}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return u.apply(this,arguments)})},"./src/reddit/endpoints/gold/purchase.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return y}),r.d(t,"d",function(){return _}),r.d(t,"f",function(){return E}),r.d(t,"b",function(){return x}),r.d(t,"c",function(){return T}),r.d(t,"a",function(){return I});var n,a,s,i,c,o,u=r("./node_modules/babel-runtime/regenerator/index.js"),d=r.n(u),l=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),p=r.n(l),b=r("./src/lib/constants/index.ts"),f=r("./src/lib/makeApiRequest/index.ts"),O=r("./src/lib/omitHeaders/index.ts"),m=r("./src/reddit/constants/headers.ts"),v=r("./src/reddit/helpers/genericServerError/index.ts"),g=r("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),j=r("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),h=function(e,t){return e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(j.a)(e)}):Object.assign({},e):Object.assign({},e,{error:e.error||Object(v.a)(t)})},y=(n=p()(d.a.mark(function e(t,r,n,a,s,i){var c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c={token:n.id,coins:a,pennies:s,correlation_id:i},e.abrupt("return",Object(f.b)(Object(O.a)(t,[m.a]),{method:b.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/stripe/buy_coins",data:c}).then(function(e){return h(e,r)}));case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,r,a,s,i){return n.apply(this,arguments)}),_=(a=p()(d.a.mark(function e(t,r,n,a,s,i,c,o){var u,l,p,v,j;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=c.gildType,l=c.includeMessage,p=c.isAnonymous,v=c.message,j={token:n.id,coins:a,pennies:s,thing_id:i,gild_type:u,message:l?v:"",is_anonymous:p,correlation_id:o},e.abrupt("return",Object(f.b)(Object(O.a)(t,[m.a]),{method:b.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/stripe/buy_coins_and_gild",data:j}).then(function(e){return e&&e.ok&&e.body&&e.body.gildings&&(e.body.gildings=Object(g.a)(e.body.gildings)),Object.assign({},e)}).then(function(e){return h(e,r)}));case 3:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n,s,i,c,o){return a.apply(this,arguments)}),E=(s=p()(d.a.mark(function e(t,r,n,a,s){var i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={token:n.id,pennies:a,correlation_id:s},e.abrupt("return",Object(f.b)(Object(O.a)(t,[m.a]),{method:b.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/stripe/buy_premium_subscription",data:i}).then(function(e){return h(e,r)}));case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n,a){return s.apply(this,arguments)}),x=(i=p()(d.a.mark(function e(t,r,n,a){var s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={button_id:n,correlation_id:a},e.abrupt("return",Object(f.b)(Object(O.a)(t,[m.a]),{method:b.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/paypal/initiate_coins_payment",data:s}).then(function(e){return h(e,r)}));case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return i.apply(this,arguments)}),T=(c=p()(d.a.mark(function e(t,r,n,a){var s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={button_id:n,correlation_id:a},e.abrupt("return",Object(f.b)(Object(O.a)(t,[m.a]),{method:b.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/paypal/initiate_premium_payment",data:s}).then(function(e){return h(e,r)}));case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n){return c.apply(this,arguments)}),I=(o=p()(d.a.mark(function e(t,r,n,a,s,i,c,o){var u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u={button_id:n,thing_id:a,gild_type:s,message:i,is_anonymous:c,correlation_id:o},e.abrupt("return",Object(f.b)(Object(O.a)(t,[m.a]),{method:b.Fa.POST,endpoint:t.apiUrl+"/api/v2/gold/paypal/initiate_coins_and_gild_payment",data:u}).then(function(e){return h(e,r)}));case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,r,n,a,s,i,c){return o.apply(this,arguments)})},"./src/reddit/endpoints/governance/badges.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"a",function(){return p});var n,a,s=r("./node_modules/babel-runtime/regenerator/index.js"),i=r.n(s),c=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=r.n(c),u=r("./src/reddit/endpoints/governance/requester.ts"),d=(n=o()(i.a.mark(function e(t,r){var n,a,s,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)(t,{method:"get",endpoint:"https://meta-api.reddit.com/badges/"+r+"?selected=true"}),e.next=3,n;case 3:if(!(a=e.sent).ok){e.next=12;break}return s={},c={},o=a.body,Object.keys(o).forEach(function(e){var t=o[e];c[e]=t,s[t.userId]||(s[t.userId]=[]),s[t.userId].push(t.id)}),e.abrupt("return",Object.assign({},a,{body:{badges:c,usersAppliedBadges:s}}));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}),l=(a=o()(i.a.mark(function e(t,r,n){var a,s,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t,{method:"get",endpoint:"https://meta-api.reddit.com/badges/"+r+"?users="+n});case 2:if(!(a=e.sent).ok){e.next=11;break}return s={},c=[],o=a.body,Object.keys(o).forEach(function(e){var t=o[e];s[e]=t,c.push(t.id)}),e.abrupt("return",Object.assign({},a,{body:{badges:s,userOwnedBadges:c}}));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return a.apply(this,arguments)});function p(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Object(u.a)(e,{method:"patch",endpoint:"https://meta-api.reddit.com/badges/"+t+"/"+r,data:{selected:n}})}},"./src/reddit/endpoints/governance/posts.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./src/reddit/endpoints/governance/requester.ts");function a(e,t){return Object(n.a)(e,{method:"get",endpoint:"https://meta-api.reddit.com/polls?postIds="+t.join(",")})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./src/lib/makeApiRequest/index.ts");function a(e,t){return Object(n.b)(e,Object.assign({},t,{type:"json"})).then(function(e){return e.ok?{body:e.body,ok:!0,status:e.status}:{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:{code:e.status},ok:!1,status:e.status}})}},"./src/reddit/endpoints/me/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=function(e){return Object(s.b)(e,{endpoint:n.a.gatewayUrl+"/desktopapi/v1/me",method:a.Fa.GET})}},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return u}),r.d(t,"a",function(){return d});var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/lib/omitHeaders/index.ts"),c=r("./src/reddit/constants/headers.ts"),o=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),u=function(e,t,r){return Object(s.b)(e,{endpoint:Object(o.a)(n.a.gatewayUrl+"/desktopapi/v1/"+t),method:a.Fa.GET,data:Object.assign({moderated_limit:25},r)})},d=function(e,t,r){return Object(s.b)(Object(i.a)(e,[c.a]),{endpoint:e.apiUrl+"/api/v1/modactions/"+t,method:a.Fa.POST,type:"json",data:r})}},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,r){"use strict";var n,a=r("./node_modules/babel-runtime/regenerator/index.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=r.n(i),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/omitHeaders/index.ts"),l=r("./src/reddit/constants/headers.ts");t.a=(n=c()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.b)(Object(d.a)(t,[l.a]),{endpoint:t.apiUrl+"/subreddit_permissions",method:o.Fa.GET}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return n.apply(this,arguments)})},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,r){"use strict";var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=function(e,t,r,c){return Object(s.b)(e,{data:c,endpoint:r?Object(i.a)(n.a.gatewayUrl+"/desktopapi/v1/postcomments/"+t+"/"+r):Object(i.a)(n.a.gatewayUrl+"/desktopapi/v1/postcomments/"+t),method:a.Fa.GET})}},"./src/reddit/endpoints/page/frontpage.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/config.ts"),o=r("./src/lib/constants/index.ts"),u=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/makeGqlRequest/index.ts"),l=r("./src/reddit/helpers/addFollowedEventParam/index.ts"),p=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),b=r("./src/reddit/constants/postLayout.ts");var f=r("./src/reddit/models/RichTextJson/addRTJParam.ts");r.d(t,"b",function(){return m});var O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},m=function(e,t){return Object(d.a)(e,{id:"80233345eed1",variables:t})};t.a=function(e,t){var n,s,d={};if(t){var m=t.isMobile,v=t.recentPostIds,g=O(t,["isMobile","recentPostIds"]);d=Object.assign({},g,m?{limit:(n=t.layout,n?b.a[n]:b.d)}:{},v?{recentPostIds:v.join(",")}:{})}return t&&t.useMockData?new Promise((s=i()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("MockData").then(r.bind(null,"./src/reddit/endpoints/page/mocks/frontpage.ts")).then(function(e){return e.default});case 2:n=e.sent,setTimeout(function(){return t(n())},2e3);case 4:case"end":return e.stop()}},e,void 0)})),function(e){return s.apply(this,arguments)})):Object(u.b)(e,{endpoint:Object(p.a)(Object(f.a)(Object(l.a)(c.a.gatewayUrl+"/desktopapi/v1/frontpage"))),method:o.Fa.GET,data:Object.assign({},d)})}},"./src/reddit/endpoints/page/myMultiredditFeed.ts":function(e,t,r){"use strict";var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=r("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=function(e,t,r){return Object(s.b)(e,{data:r,endpoint:Object(i.a)(Object(c.a)(n.a.gatewayUrl+"/desktopapi/v1/me/multireddits/"+t)),method:a.Fa.GET})}},"./src/reddit/endpoints/page/originalContentPage.ts":function(e,t,r){"use strict";var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=r("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=function(e,t){return Object(s.b)(e,{data:t,endpoint:Object(i.a)(Object(c.a)(n.a.gatewayUrl+"/desktopapi/v1/original")),method:a.Fa.GET})}},"./src/reddit/endpoints/page/profileOverviewPage.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"a",function(){return o});var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),c=function(e,t,r){return Object(s.b)(e,{data:r,endpoint:Object(i.a)(n.a.gatewayUrl+"/desktopapi/v1/user/"+t+"/conversations"),method:a.Fa.GET}).then(function(e){return"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(function(t){return e.body.posts[t]&&e.body.posts[t].isPinned}).reverse()})}):e})},o=function(e,t,r){return Object(s.b)(e,{data:r,endpoint:Object(i.a)(n.a.gatewayUrl+"/desktopapi/v1/user/"+t+"/overview"),method:a.Fa.GET}).then(function(e){return"pinned"in e.body?e:"overviewIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.overviewIds.filter(function(t){return e.body.posts[t]&&e.body.posts[t].isPinned}).reverse()})}):e})}},"./src/reddit/endpoints/page/search.ts":function(e,t,r){"use strict";var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/lib/search/index.ts"),c=r("./src/reddit/helpers/correlationIdTracker.ts");t.a=function(e,t,r){return Object(s.b)(e,{data:function(e,t){var r=t?Object.assign({},e,{type:e.restrict_sr?"link":e.type}):e;(r=r.type?r:Object.assign({},r,{type:"link,sr,user"})).q=Object(i.a)(e.q);var n=Object(c.c)(c.a.SearchResults);return n&&(r.search_correlation_id=n),r}(r||{},t),endpoint:t?n.a.gatewayUrl+"/desktopapi/v1/subreddits/"+t+"/search":n.a.gatewayUrl+"/desktopapi/v1/search",method:a.Fa.GET})}},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,r){"use strict";var n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/reddit/helpers/addFollowedEventParam/index.ts"),c=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r};t.a=function(e,t,r){return Object(s.b)(e,{endpoint:Object(c.a)(Object(o.a)(Object(i.a)(n.a.gatewayUrl+"/desktopapi/v1/subreddits/"+t))),method:a.Fa.GET,data:r&&function(e){var t=e.recentPostIds,r=u(e,["recentPostIds"]);return t&&t.length?Object.assign({},r,{recentPostIds:t.join(",")}):r}(r)||{}})}},"./src/reddit/endpoints/post/convert.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeApiRequest/index.ts"),s=r("./src/lib/omitHeaders/index.ts"),i=r("./src/reddit/constants/headers.ts"),c=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=r("./src/reddit/models/PostCreationForm/index.ts");t.a=function(e,t,r){var u={output_mode:"markdown"===t?t:"rtjson"};return t===o.h.MARKDOWN?u.richtext_json=r:u.markdown_text=r,Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/convert_rte_body_format"),method:n.Fa.POST,data:u})}},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"a",function(){return o});var n=r("./src/reddit/constants/originalContent.ts"),a=r("./src/reddit/models/Flair/index.ts"),s=r("./src/reddit/models/PostDraft/index.ts"),i=function(e){return{id:e.json.data.id,draftsCount:e.json.data.drafts_count}},c=function(e){switch(e){case"link":return s.b.Link;case"markdown":return s.b.Markdown;case"richtext":return s.b.RichText;default:return"self"}},o=function(e){return Object.assign({id:e.draftId||void 0},function(e){return e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{}}(e),{kind:function(e){switch(e.kind){case s.b.Link:return"link";case s.b.Markdown:return"markdown";case s.b.RichText:return"richtext";default:return"self"}}(e),title:function(e){return e.title.substring(0,300)}(e),body:function(e){switch(e.kind){case s.b.Link:case s.b.Markdown:return e.body;case s.b.RichText:return JSON.stringify({document:e.body})}}(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,content_category:e.ocCategory===n.c?void 0:e.ocCategory||void 0},(t=e.flair)?{flair_id:t.templateId||null,flair_text:Object(a.h)(t)||null,flair_text_color:t.textColor||null,flair_background_color:t.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null},{send_replies:e.sendReplies,is_public_link:e.isPublicLink});var t}},"./src/reddit/endpoints/post/index.tsx":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeApiRequest/index.ts"),s=r("./src/lib/omitHeaders/index.ts"),i=r("./src/reddit/constants/headers.ts"),c=r("./src/reddit/helpers/addRedesignIdentifier/index.ts");r.d(t,"b",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"f",function(){return p}),r.d(t,"g",function(){return b}),r.d(t,"r",function(){return f}),r.d(t,"i",function(){return O}),r.d(t,"t",function(){return m}),r.d(t,"k",function(){return v}),r.d(t,"j",function(){return g}),r.d(t,"u",function(){return j}),r.d(t,"o",function(){return h}),r.d(t,"l",function(){return y}),r.d(t,"c",function(){return _}),r.d(t,"n",function(){return E}),r.d(t,"v",function(){return x}),r.d(t,"p",function(){return T}),r.d(t,"w",function(){return I}),r.d(t,"h",function(){return S}),r.d(t,"s",function(){return k}),r.d(t,"q",function(){return w}),r.d(t,"a",function(){return o}),r.d(t,"m",function(){return C});var o,u=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/approve"),method:n.Fa.POST,data:{id:t}})},d=function(e,t,r){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/distinguish/"+r),method:n.Fa.POST,data:{id:t}})},l=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/fetch_title"),method:n.Fa.POST,data:{url:t,api_type:"json"}})},p=function(e,t,r){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/follow_post"),method:n.Fa.POST,data:{follow:r,fullname:t}})},b=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/hide"),method:n.Fa.POST,data:{id:t}})},f=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/unhide"),method:n.Fa.POST,data:{id:t}})},O=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/lock"),method:n.Fa.POST,data:{id:t}})},m=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/unlock"),method:n.Fa.POST,data:{id:t}})},v=function(e,t,r){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/set_original_content"),method:n.Fa.POST,data:{fullname:t,should_set_oc:r}})},g=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/marknsfw"),method:n.Fa.POST,data:{id:t}})},j=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/unmarknsfw"),method:n.Fa.POST,data:{id:t}})},h=function(e,t,r){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:e.apiUrl+"/api/sendreplies",method:n.Fa.POST,data:{id:t,state:r}})},y=function(e,t,r){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/remove"),method:n.Fa.POST,data:{id:t,spam:r}})},_=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/del"),method:n.Fa.POST,data:{id:t}})},E=function(e,t){return function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/save"),method:n.Fa.POST,data:{id:t}})}(e,t)},x=function(e,t){return function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/unsave"),method:n.Fa.POST,data:{id:t}})}(e,t)},T=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/spoiler"),method:n.Fa.POST,data:{id:t}})},I=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:Object(c.a)(e.apiUrl+"/api/unspoiler"),method:n.Fa.POST,data:{id:t}})},S=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:e.apiUrl+"/api/ignore_reports",method:n.Fa.POST,data:{id:t}})},k=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:e.apiUrl+"/api/unignore_reports",method:n.Fa.POST,data:{id:t}})},w=function(e,t,r,c){return Object(a.b)(Object(s.a)(e,[i.a]),{endpoint:e.apiUrl+"/api/set_subreddit_sticky",method:n.Fa.POST,data:{id:t,state:r,to_profile:c}})};!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint"}(o||(o={}));var C=function(e,t){return Object(a.b)(Object(s.a)(e,[i.a]),{method:n.Fa.POST,endpoint:Object(c.a)(e.apiUrl+"/api/report"),data:A(t)})},A=function(e){var t={thing_id:e.id,api_type:"json"},r=e.reason;switch(r.kind){case o.Other:return Object.assign({},t,{reason:"other",other_reason:r.rule});case o.Rule:return Object.assign({},t,{reason:r.rule,rule_reason:r.rule});case o.SiteRule:default:return Object.assign({},t,{reason:"site_reason_selected",site_reason:r.rule})}}},"./src/reddit/helpers/adCount/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c});var n=r("./src/lib/constants/index.ts"),a=r("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),s=r("./src/reddit/selectors/platform.ts"),i=function(e,t,r){return[e,t,r].join("/")},c=function(e,t){switch(t){case a.a.SUBREDDIT:case a.a.COMMENTS_OVERLAY:case a.a.COMMENTS:var r=Object(s.h)(e);return[i(n.d.ABOVE_THE_FOLD,r,0),i(n.d.BELOW_THE_FOLD,r,1)];case a.a.FRONTPAGE:return[i(n.d.ABOVE_THE_FOLD,!1,0),i(n.d.BELOW_THE_FOLD,!1,1)];case a.a.MULTIREDDIT:case a.a.SEARCH_RESULTS:return[i(n.d.BELOW_THE_FOLD,!1,0)];default:return[i(n.d.ABOVE_THE_FOLD,!1,0),i(n.d.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/addFollowedEventParam/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./src/lib/addQueryParams/index.ts");function a(e){return Object(n.a)(e,{prepend_followed_events:1})}},"./src/reddit/helpers/canAccessModerationPage/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts");t.a=function(e,t){switch(e){case n.Ib.Moderators:return!0;case n.Ib.Muted:return!(!t||!t.mail);case n.Ib.Banned:case n.Ib.Contributors:return!(!t||!t.access);case n.Ib.Modqueue:case n.Ib.Reports:case n.Ib.Edited:case n.Ib.Spam:case n.Ib.Unmoderated:case n.Ib.PostRequirements:case n.Ib.Removal:return!(!t||!t.posts);default:return!1}}},"./src/reddit/helpers/canonicalUrls.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return u}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return l});var n=r("./node_modules/react-router-redux/es/index.js"),a=r("./src/lib/addQueryParams/index.ts"),s=r("./src/lib/isAdHocMultireddit/index.ts"),i=r("./src/lib/isFakeSubreddit/index.ts"),c=r("./src/reddit/selectors/multireddit.ts"),o=r("./src/reddit/selectors/subreddit.ts"),u=function(e,t,r){var s=r.params,i=r.queryParams,o=r.url,u=s.multiredditName,d=Object(c.d)(e,{multiredditName:u});if(d){var l=o===d,p=o.endsWith("/");if(!l||!p){var b=p?o:o+"/",f=l?b:""+d+b.substr(d.length);t(Object(n.c)(Object(a.a)(f,i)))}}},d=function(e,t,r){var s=r.params,i=r.queryParams,c=r.url,u=s.subredditName;if(u){var d="/user/"+u+"/",l=c.endsWith("/"),p=Object(o.a)(e,{profileName:u});if(!p)return;var b=d===p;if(b&&l)return;var f=l?c:c+"/",O=b?f:f.replace(d,p);t(Object(n.c)(Object(a.a)(O,i)))}},l=function(e,t,r){var u=r.params,d=r.queryParams,l=r.url,p=u.subredditName;if(p){var b="/r/"+p+"/",f=l.endsWith("/"),O=l;if(Object(i.a)(p)&&Object(s.a)(p)){var m=Object(c.a)(e,{listingName:p}).subredditIds,v=Object(o.E)(e,{subredditIds:m}).map(function(e){return e.name}).join("+");O=(f?l:l+"/").replace(b,"/r/"+v+"/")}else{var g=Object(o.b)(e,{subredditName:p});if(!g)return;var j=(Object(i.a)(p)?b.toLowerCase():b)===g;if(j&&f)return;var h=f?l:l+"/";O=j?h:h.replace(b,g)}t(Object(n.c)(Object(a.a)(O,d)))}}},"./src/reddit/helpers/commentList/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return o}),r.d(t,"a",function(){return u});var n=r("./src/reddit/constants/comments.ts"),a=r("./src/reddit/selectors/comments.ts"),s=function(e,t){return t().comments.models[e]},i=function(e){switch(e.commentLink.type){case n.b.Comment:return e.commentsDict[e.commentLink.id];case n.b.MoreComments:return e.moreCommentsDict[e.commentLink.id];case n.b.ContinueThread:return e.continueThreadDict[e.commentLink.id]}},c=function(e,t){return e.type===n.b.MoreComments?t[e.id].numComments:1},o=function(e,t,r,n){for(var s=Object(a.o)(n,{commentLink:t,commentsPageKey:e}),i=t;s&&s.depth>r&&s.prev&&(i=s.prev,(s=Object(a.o)(n,{commentLink:i,commentsPageKey:e}))&&!(s.depth<=r)););return i.id},u=function(e,t){var r=e.commentLists,n=e.comments;if(r[t].head)return Object.keys(n).filter(function(e){return!1!==n[e].collapsed})}},"./src/reddit/helpers/correlationIdTracker.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return u});var n,a=r("./node_modules/uuid/v4.js"),s=r.n(a);!function(e){e.AdblockUpsell="AdblockUpsell",e.GildingFlow="GildingFlow",e.GoldClickTest="GoldClickTest",e.GoldPayment="GoldPayment",e.PostComposer="PostComposer",e.PremiumSettings="PremiumSettings",e.RabbitHole="RabbitHole",e.SearchResults="SearchResults"}(n||(n={}));var i={},c=function(e){return i[e]},o=function(e){return i[e]=s()()},u=function(e){return i[e]=void 0}},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,r){"use strict";var n=r("./node_modules/lodash/findLastIndex.js"),a=r.n(n),s=r("./src/reddit/selectors/telemetry.ts"),i=r("./src/telemetry/index.ts"),c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r};t.a=function(e,t,r){for(var n=r.postIds,o=r.posts,u=c(r,["postIds","posts"]),d=e.listings.postOrder.ids[t],l=(n||[]).filter(function(e){return!d||!d.includes(e)}),p=d.map(function(t){return e.posts.models[t]}),b=p.length-(a()(p,function(e){return e.isSponsored})+1),f=l.map(function(e){return o[e]}),O=void 0,m=[],v=0;v<f.length;v++){var g=f[v];g.isSponsored&&(null==O&&b+v>=4||v-O>=4)?(O=v,m.push(g.id)):g.isSponsored?g.isSponsored&&Object(i.a)(Object.assign({source:"feed",action:"remove",noun:"ad"},s.defaults(e),{listing:s.listing(e,t)})):m.push(g.id)}return Object.assign({},u,{posts:o,postIds:m})}},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts"),a=r("./src/app/strings/index.ts"),s=Object(a.e)("error.type.generic");t.a=function(e){return{type:n.F.SERVER_ERROR,fields:[{field:"",msg:s(e)}]}}},"./src/reddit/helpers/getCommentsPageSort/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts"),a=r("./src/reddit/constants/parameters.ts");t.a=function(e,t,r){var s=r&&r.suggestedSort?r.suggestedSort:"",i=void 0,c=void 0,o=!1;t&&t.prefs&&(i=t.prefs.defaultCommentSort),s?c=s:i&&(c=i);var u=a.m in e?e[a.m]:"";return(n.Qb.has(u)?u:c)===u&&(c=u,o=!0),{hasSortParam:o,sortToUse:c}}},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("./src/lib/constants/index.ts");function a(e){return{type:n.F.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getPostFromRouteMatch/index.ts":function(e,t,r){"use strict";var n=r("./src/reddit/models/Post/index.ts"),a=r("./src/lib/constants/index.ts");t.a=function(e,t){if(t.route.meta.name===a.lb.COMMENTS){var r=t.match.params.partialPostId,s=Object(n.d)(r);return e.posts.models[s]}return null}},"./src/reddit/helpers/history/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return u});var n=r("./node_modules/babel-runtime/helpers/defineProperty.js"),a=r.n(n),s=r("./node_modules/lodash/omit.js"),i=r.n(s),c=function(e,t){var r=Object.assign({},history.state,{state:Object.assign({},history.state.state,a()({},e,t))});history.replaceState(r,window.document.title)},o=function(e){var t=Object.assign({},history.state,{state:Object.assign({},i()(history.state.state,e))});history.replaceState(t,window.document.title)},u=function(e){return history&&history.state&&history.state.state&&history.state.state[e]}},"./src/reddit/helpers/isComment.ts":function(e,t,r){"use strict";var n=r("./src/reddit/constants/things.ts");t.a=function(e){return!!e&&e.substring(0,3)===n.a}},"./src/reddit/helpers/makeModQueueListingKey/index.ts":function(e,t,r){"use strict";t.a=function(e){var t=e.profile,r=e.subreddit;return r&&"r/"+r||t&&"u/"+t||"all"}},"./src/reddit/helpers/makeOverviewListingKey/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeListingKey/index.ts");t.a=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=""+n.Ob+e+"--"+t;return Object(a.a)(i,r,s)}},"./src/reddit/helpers/monthsToMinutes/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return u});var n=r("./node_modules/js-cookie/src/js.cookie.js"),a=r.n(n),s=r("./src/config.ts"),i=r("./src/reddit/constants/cookie.ts"),c=r("./src/reddit/constants/localStorage.ts"),o=function(e,t){var r=function(e){return e.join(",")}(function(e,t){return t.map(function(t){return e.subreddits.models[t].name})}(e,t)),n=new Date;n.setFullYear(n.getFullYear()+2),a.a.set(i.d,r,{expires:n,domain:s.a.cookieDomain})},u=function(){localStorage.removeItem(c.g),a.a.remove(i.d,{domain:s.a.cookieDomain})}},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,r){"use strict";t.a=function(e){return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(/^((\/u\/)|(u\/))/,""):e}},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,r){"use strict";var n=r("./node_modules/url/url.js"),a=r.n(n),s=r("./node_modules/js-cookie/src/js.cookie.js"),i=r.n(s),c=r("./src/config.ts"),o=r("./src/lib/constants/index.ts"),u=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),d=r.n(u),l=r("./src/reddit/selectors/subreddit.ts"),p=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),b=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments)(/|$)"),f=new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),O=function(e,t){var r=new Set;if(e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(r.add("identity"),r.add("prefs")),function(e){return!p.test(e.pathname||"")}(t)&&r.add("identity"),function(e){return f.test(e.pathname||"")}(t)&&r.add("meta")),b.test(t.pathname||"")){var n=e.platform.currentPage&&e.platform.currentPage.urlParams.subredditName||"",a=Object(l.v)(e,n);a&&e.structuredStyles.models[a]||r.add("structuredStyles")}return[].concat(d()(r)).join(",")};t.a=function(e){return function(t){var r=a.a.parse(t.endpoint,!0),n=r.host,s=r.protocol+"//"+n,u=t.method===o.Fa.GET?"data":"query",d=t[u]||{};if(s===c.a.gatewayUrl){var l=i.a.get("over18")||"";d.allow_over18=l,d.include=O(e.getState(),r)}t[u]=d}}},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,r){"use strict";r("./node_modules/history/index.js"),r("./src/reddit/actions/platform.ts");var n=r("./src/config.ts");t.a=function(e,t){var r=t.platform.currentPage&&t.platform.currentPage.url,a=n.a.accountManagerOrigin+"/login",s=window.location.origin;r&&(a+="?dest="+encodeURIComponent(""+s+r)),window.location.href=a}},"./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts");t.a=function(e){return Object.assign({accountIcon:e.icon_img,commentKarma:e.comment_karma,created:e.created,displayName:e.name,displayNamePrefixed:e.subreddit&&e.subreddit.display_name_prefixed,displayText:e.name,hasUserProfile:!!e.subreddit,hideFromRobots:!!e.hide_from_robots,id:n.Sa.ACCOUNT+"_"+e.id,isEmployee:e.is_employee,isFollowing:e.has_subscribed,isGold:e.is_gold,isMod:e.is_mod,isNSFW:!(!e.subreddit||!e.subreddit.over_18),prefShowSnoovatar:e.pref_show_snoovatar,prefShowTwitter:e.pref_show_twitter,postKarma:e.link_karma,url:"/user/"+e.name,username:e.name},e.subreddit?{profileId:e.subreddit.name}:null)}},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts"),a=r("./src/reddit/helpers/isComment.ts"),s=r("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),i=r("./src/reddit/models/Vote/index.ts"),c=(t.a=function(e,t){return{approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,created:e.created_utc,distinguishType:e.distinguished||"",editedAt:null,gildings:e.gildings?Object(s.a)(e.gildings):null,goldCount:e.gilded,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isApproved:e.approved,isDeleted:e.author===n.B,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,subredditId:e.subreddit_id,markdown:e.body,media:{type:"rtjson",richtextContent:c(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(a.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:(r=e.likes,!0===r?i.a.upvoted:!1===r?i.a.downvoted:i.a.notVoted)};var r},function(e){return"string"==typeof e?JSON.parse(e):e})},"./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts":function(e,t,r){"use strict";t.a=function(e){return{gid1:e.gid_1,gid2:e.gid_2,gid3:e.gid_3}}},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,r){"use strict";var n=r("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),a=r("./src/reddit/models/Flair/index.ts"),s=r("./src/reddit/models/Media/index.ts"),i=r("./src/reddit/models/PostCreationForm/index.ts"),c=r("./src/reddit/models/Vote/index.ts");t.a=function(e){return{author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:function(e){var t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:a.e.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:a.e.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:a.e.Spoiler}),e.over_18&&t.push({text:"nsfw",type:a.e.Nsfw}),t}(e),gildings:e.gildings?Object(n.a)(e.gildings):null,goldCount:e.gilded||0,hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isFollowed:e.is_followed||!1,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isRoadblock:1===e.priority,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,media:function(e){var t=e.preview&&e.preview.enabled,r=!1,n=null,a={},c={},o=e.over_18||e.spoiler;if(e.preview&&(r=!!(c=e.preview.images[0].variants).mp4,a=e.preview.images[0].source,o&&(n=c.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:s.m.TEXT,markdownContent:e.selftext,obfuscated:n,rteMode:e.rte_mode||i.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:s.m.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){var u=e.media.reddit_video;return{hlsUrl:u.hls_url,dashUrl:u.dash_url,isGif:u.is_gif,scrubberThumbSource:u.scrubber_media_url,obfuscated:n,posterUrl:u.url,width:u.width,height:u.height,type:s.m.VIDEO}}if(e.secure_media&&e.secure_media.oembed)return{content:e.secure_media_embed.media_domain_url,type:s.m.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:n,provider:e.secure_media.oembed.provider_name};if(t&&r)return{content:c.mp4.source.url,type:s.m.GIFVIDEO,width:c.mp4.source.width,height:c.mp4.source.height,gifBackgroundImage:a.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:n,resolutions:c.mp4.resolutions};if(t){var d=c.gif?c.gif.resolutions:e.preview.images[0].resolutions;return{content:a.url,type:s.m.IMAGE,width:a.width,height:a.height,obfuscated:n,resolutions:d}}return null}(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numReports:e.num_reports||0,permalink:"https://www.reddit.com"+e.permalink,preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,saved:e.saved,score:e.score,scoreHidden:e.score_hidden,sendReplies:e.send_replies,source:function(e){var t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){var r=e.outbound_link;t.outboundUrl=r.url,t.outboundUrlExpiration=r.expiration,t.outboundUrlCreated=r.created}return t}return null}(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(c.d)(e.likes)}}},"./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts":function(e,t,r){"use strict";t.a=function(e){return{commentKarma:e.comment_karma,hasExternalAccount:e.has_external_account,postKarma:e.link_karma,prefShowTwitter:e.pref_show_twitter,publicDescription:e.subreddit?e.subreddit.public_description:"",userIsSubscriber:e.subreddit&&e.subreddit.user_is_subscriber||!1}}},"./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts":function(e,t,r){"use strict";var n=r("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r};t.a=function(e,t){var r=Object(n.a)(e),s=(r.wls,a(r,["wls"]));return Object.assign({},s,{name:t})}},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(e,t,r){"use strict";var n=r("./src/lib/constants/index.ts");t.a=function(e){return{type:function(e){var t=!0,r=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var c=s.value;switch(c[0]){case n.F.USER_REQUIRED_ERROR:case n.F.VALIDATION_ERROR:return c[0];case n.F.NO_TEXT:case n.F.NO_URL:return n.F.VALIDATION_ERROR;default:continue}}}catch(e){r=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw a}}return n.F.VALIDATION_ERROR}(e.body.json.errors),fields:e.body.json.errors.map(function(e){return{field:e[2]||"",msg:e[1]}})}}},"./src/reddit/helpers/routeKey/index.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return x}),r.d(t,"d",function(){return T}),r.d(t,"f",function(){return I}),r.d(t,"e",function(){return k}),r.d(t,"a",function(){return C}),r.d(t,"b",function(){return D});var n=r("./node_modules/lodash/pick.js"),a=r.n(n),s=r("./src/lib/constants/index.ts"),i=r("./src/lib/makeCommentsPageKey/index.ts"),c=r("./src/lib/makeExplorePageKey/index.ts"),o=r("./src/lib/makeListingKey/index.ts"),u=r("./src/lib/makePartnerSubredditConnectionPageKey/index.ts"),d=r("./src/lib/makePostCreationPageKey/index.ts"),l=r("./src/lib/makeSearchKey/index.ts"),p=r("./src/reddit/constants/postLayout.ts"),b=r("./src/reddit/helpers/makeOverviewListingKey/index.ts"),f=r("./src/reddit/constants/originalContent.ts"),O=r("./src/reddit/constants/page.ts"),m=r("./src/reddit/constants/parameters.ts"),v=r("./src/reddit/helpers/getCommentsPageSort/index.ts"),g=r("./src/reddit/models/Comment/index.ts"),j=r("./src/reddit/models/Multireddit/index.ts"),h=r("./src/reddit/models/Post/index.ts"),y=r("./src/reddit/models/User/index.ts"),_=r("./src/reddit/selectors/frontpage.ts"),E=r("./src/reddit/selectors/news.ts"),x=function(e,t,r){var n=e.route.meta.name;if(!n||!s.T.has(n)&&n!==s.lb.COINS&&n!==s.lb.COMMENTS&&n!==s.lb.POST_CREATION&&n!==s.lb.PREMIUM&&n!==s.lb.SEARCH_RESULTS&&n!==s.lb.PARTNER_SUBREDDIT_CONNECTION&&n!==s.lb.EXPLORE||!r&&n===s.lb.COMMENTS)return null;switch(n){case s.lb.POST_CREATION:return Object(d.a)(e.match.params);case s.lb.INDEX:case s.lb.LISTING:case s.lb.SUBREDDIT:case s.lb.ORIGINAL_CONTENT:return T(e,t);case s.lb.PROFILE_COMMENTS:case s.lb.PROFILE_POSTS:case s.lb.PROFILE_OVERVIEW:return I(e,t);case s.lb.MULTIREDDIT:return S(e,t);case s.lb.NEWS:return k(e,t);case s.lb.COMMENTS:return C(e,t,r);case s.lb.SEARCH_RESULTS:return w(e);case s.lb.COINS:case s.lb.PREMIUM:return n;case s.lb.SETTINGS:return R(e);case s.lb.PARTNER_SUBREDDIT_CONNECTION:return A(e);case s.lb.EXPLORE:return D(e);default:return null}},T=function(e,t){var r=e.route,n=e.match,a=r.meta.name;if(!s.T.has(a)&&a!==s.lb.POST_CREATION)return null;var i=n.queryParams;switch(a){case s.lb.INDEX:case s.lb.LISTING:var c=Object(_.a)(t),u=n.params,d=u.sort?u.sort:c;return Object(o.a)(O.b,d,i);case s.lb.PROFILE_COMMENTS:case s.lb.PROFILE_POSTS:var l=n.params.profileName,p=i.sort;return Object(o.a)("u_"+l,p,i);case s.lb.POST_CREATION:case s.lb.SUBREDDIT:var b=n.params,m=b.subredditName,v=b.sort,g=void 0===v?s.U.HOT:v;return Object(o.a)(m,g,i);case s.lb.ORIGINAL_CONTENT:var j=n.params,h=j.categoryName,y=void 0===h?f.b:h,E=j.sort,T=void 0===E?s.U.HOT:E;return Object(o.a)(O.h,T,Object.assign({},i,{category:y}));case s.lb.MULTIREDDIT:return S(e,t);case s.lb.NEWS:return k(e,t);case s.lb.SEARCH_RESULTS:return x(e,t,null);default:return null}},I=function(e,t){var r=e.route,n=e.match,a=r.meta.name;if(!s.T.has(a)&&a!==s.lb.POST_CREATION)return null;var i=n.params,c=n.queryParams,u=i.profileName,d=c.sort,l=void 0===d?s.eb:d;switch(a){case s.lb.PROFILE_OVERVIEW:var f=(t.user.prefs&&t.user.prefs.profileLayout?t.user.prefs.profileLayout:p.e.Large)===p.e.Compact?s.Oa:s.Pa;return Object(b.a)((u||"").toLowerCase(),f,l,c);case s.lb.PROFILE_COMMENTS:case s.lb.PROFILE_POSTS:return Object(o.a)("u_"+u,l,c);default:return null}},S=function(e,t){var r=e.route,n=e.match;if(r.meta.name!==s.lb.MULTIREDDIT)return null;var a=n.params,i=n.queryParams,c=a.multiredditName,u=a.sort,d=void 0===u?s.U.HOT:u,l=a.username;l||(l=t.user.account?Object(y.d)(t.user.account):"me");var p=Object(j.c)(l,c);return Object(o.a)(p,d,i)},k=function(e,t){var r=e.route,n=e.match;if(r.meta.name!==s.lb.NEWS)return null;var a=n.params,i=a.topic,c=a.subtopic;return Object(E.h)(t.user,i||"",c||"")},w=function(e){var t=e.route,r=e.match;if(t.meta.name!==s.lb.SEARCH_RESULTS)return null;var n=r.params.subredditName,i=Object(l.c)(a()(r.queryParams,m.l));return Object(l.b)(n,i)},C=function(e,t,r){var n=e.route,a=e.match,c=n.meta.name;if(!c||c!==s.lb.COMMENTS)return null;var o=a.params,u=o.partialCommentId,d=o.partialPostId,l=Object(h.d)(d),p=u&&Object(g.b)(u),b=Object(v.a)(a.queryParams,t.user,r),f=b.hasSortParam,O=b.sortToUse;return Object(i.a)(l,p,{sort:O,hasSortParam:f})},A=function(e){var t=e.route,r=e.match,n=t.meta.name;if(n&&n===s.lb.PARTNER_SUBREDDIT_CONNECTION){var a=r.queryParams;return Object(u.a)(a)}},R=function(e){return"SettingsPage-"+e.match.params.page},D=function(e){var t=e.route,r=e.match,n=t.meta.name;if(!n||n!==s.lb.EXPLORE)return null;var a=r.queryParams.categoryName;return Object(c.a)({categoryName:a})}},"./src/reddit/helpers/timeApiRoute/index.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/regenerator/index.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=r.n(s),c=r("./src/lib/constants/index.ts"),o=r("./src/telemetry/index.ts");t.a=function(){var e=i()(a.a.mark(function e(t,r){var n,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.c.start(),e.prev=1,e.next=4,r();case 4:return s=e.sent,Object(o.b)(c.o.Redesign,{page:t,type:"route",duration:o.c.end(n)}),e.abrupt("return",s);case 7:return e.prev=7,o.c.cancel(n),e.finish(7);case 10:case"end":return e.stop()}},e,this,[[1,,7,10]])}));return function(t,r){return e.apply(this,arguments)}}()},"./src/reddit/helpers/trackers/blade.ts":function(e,t,r){"use strict";r.d(t,"m",function(){return i}),r.d(t,"l",function(){return c}),r.d(t,"g",function(){return o}),r.d(t,"h",function(){return u}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return l}),r.d(t,"n",function(){return b}),r.d(t,"b",function(){return f}),r.d(t,"a",function(){return O}),r.d(t,"i",function(){return m}),r.d(t,"j",function(){return v}),r.d(t,"k",function(){return g}),r.d(t,"f",function(){return j}),r.d(t,"e",function(){return h});var n=r("./src/reddit/constants/blade.ts"),a=r("./src/reddit/selectors/telemetry.ts"),s=function(e,t){return function(r){return Object.assign({},a.defaults(r),{source:n.c.Appearance,action:"click",noun:e,actionInfo:a.actionInfo(r,{paneName:t}),subreddit:a.subreddit(r)})}},i=function(e){return s("save_style",e)},c=function(e){return s("cancel_style",e)},o=function(e){return function(t){return{source:n.c.Structure,action:"click",noun:e,screen:a.screen(t),subreddit:a.subreddit(t)}}},u=function(e){return function(t){return{source:n.c.Appearance,action:"click",noun:e,screen:a.screen(t),subreddit:a.subreddit(t)}}},d=function(e,t){return function(r){return{source:"colorpicker",action:"click",noun:e,actionInfo:a.actionInfo(r,{paneName:n.f[t]}),screen:a.screen(r),subreddit:a.subreddit(r)}}},l=function(e){return function(t){return{source:n.g[e],action:"click",noun:"colorpicker",actionInfo:a.actionInfo(t,{paneName:n.f[e]}),screen:a.screen(t),subreddit:a.subreddit(t)}}},p=function(e){return{screen:a.screen(e),subreddit:a.subreddit(e)}},b=function(){return function(e){return Object.assign({source:n.c.Appearance,action:"view",noun:"blade"},p(e))}},f=function(e){return function(t){return Object.assign({source:n.a[e],action:"click",noun:n.b[e]},p(t))}},O=function(){return function(e){return Object.assign({source:n.c.Appearance,action:"click",noun:"back"},p(e))}},m=function(e){return function(t){return Object.assign({source:n.c.PostFlairManagement,action:"click",noun:e},p(t))}},v=function(e){return function(t){return Object.assign({source:n.c.PostFlairManagement,action:"toggle",noun:"post_flair_template",actionInfo:{settingValue:e?"on":"off"}},p(t))}},g=function(e){return function(t){return Object.assign({source:n.c.UserFlairManagement,action:"click",noun:e},p(t))}},j=function(e,t){return Object.assign({},a.defaults(e),m(t)(e))},h=function(e){return function(t){return{source:"emoji",action:"click",noun:e,screen:a.screen(t),subreddit:a.subreddit(t)}}}},"./src/reddit/helpers/trackers/coins.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return c}),r.d(t,"f",function(){return o}),r.d(t,"d",function(){return u}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return p}),r.d(t,"c",function(){return b});var n=r("./src/reddit/selectors/telemetry.ts"),a=r("./node_modules/uuid/v4.js"),s=r.n(a),i=void 0,c=function(){return i},o=function(){return i=s()()},u=function(){return i=void 0},d="coins_marketing",l=function(){return function(e){return Object.assign({source:d,action:"click",noun:"get_coins",correlationId:c()},n.defaults(e))}},p=function(e){return function(t){return Object.assign({source:d,action:"click",noun:"coins_"+e,correlationId:c()},n.defaults(t))}},b=function(){return function(e){return Object.assign({source:d,action:"click",noun:"get_premium",correlationId:c()},n.defaults(e))}}},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("./src/telemetry/index.ts"),a=r("./src/reddit/selectors/telemetry.ts"),s=function(e,t){Object(n.a)(Object.assign({action:"view",source:"commentlist",noun:"bottom"},a.defaults(e),{listing:a.listing(e,t),subreddit:a.subreddit(e)}))}},"./src/reddit/helpers/trackers/commentsPage.ts":function(e,t,r){"use strict";r.d(t,"f",function(){return u}),r.d(t,"b",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"a",function(){return p}),r.d(t,"c",function(){return b}),r.d(t,"d",function(){return f});var n=r("./src/app/models/Draft.ts"),a=r("./src/lib/constants/index.ts"),s=r("./src/reddit/constants/tracking.ts"),i=r("./src/reddit/selectors/telemetry.ts"),c=r("./src/telemetry/index.ts"),o=function(e){var t=function(e){var t=e.platform.currentPage;if(t&&t.routeMatch){var r=t.routeMatch.match.params;if(r&&r.partialPostId)return a.Sa.POST+"_"+r.partialPostId}}(e);return Object.assign({source:"comment_composer",action:s.b.CLICK},i.defaults(e),{screen:i.screen(e),subreddit:i.subreddit(e),post:t?i.post(e,t):null,profile:i.profile(e)})},u=function(e,t){return Object(c.a)(Object.assign({noun:"comment"},o(e),{commentComposer:{editorMode:t}}))},d=function(e){return Object(c.a)(Object.assign({noun:"cancel"},o(e)))},l=function(e,t){t===n.a.replyToPost&&Object(c.a)(Object.assign({noun:"input"},o(e)))},p=function(e,t){return Object(c.a)(Object.assign({source:"comment",noun:"delete",action:"click"},i.defaults(t),{screen:i.screen(t),subreddit:i.subreddit(t),post:i.post(t,e)}))},b=function(e){return Object(c.a)(Object.assign({noun:"edit"},o(e)))},f=function(e){return Object(c.a)(Object.assign({noun:"save_edit"},o(e)))}},"./src/reddit/helpers/trackers/gild.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return c}),r.d(t,"k",function(){return o}),r.d(t,"h",function(){return u}),r.d(t,"i",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"j",function(){return p}),r.d(t,"d",function(){return b}),r.d(t,"g",function(){return f}),r.d(t,"b",function(){return O}),r.d(t,"f",function(){return m}),r.d(t,"a",function(){return v}),r.d(t,"l",function(){return g});var n=r("./src/reddit/selectors/telemetry.ts"),a=r("./src/reddit/helpers/correlationIdTracker.ts"),s=r("./src/reddit/helpers/isComment.ts"),i=function(e,t){return Object.assign({},n.defaults(e),{comment:n.comment(e,t),correlationId:Object(a.c)(a.a.GildingFlow),post:n.post(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})},c=function(e){return function(t){return Object.assign({},i(t,e),{source:Object(s.a)(e)?"comment":"post",action:"click",noun:"give_gold"})}},o=function(e,t,r,n){return function(a){return Object.assign({},i(a,r),{source:"give_gold",action:"view",noun:"page",goldPurchase:{defaultOption:e,defaultAnonymous:t,type:n}})}},u=function(e,t){return function(r){return Object.assign({},i(r,t),{source:"give_gold",action:"click",noun:e})}},d=function(e,t){return function(r){return Object.assign({},i(r,t),{source:"give_gold",action:e,noun:"anonymous"})}},l=function(e){return function(t){return Object.assign({},i(t,e),{source:"give_gold",action:"click",noun:"message_input"})}},p=function(e){return function(t){return Object.assign({},i(t,e),{source:"give_gold",action:"type",noun:"message_input"})}},b=function(e){return function(t){return Object.assign({},i(t,e),{source:"give_gold",action:"click",noun:"learn_more"})}},f=function(e){return function(t){return Object.assign({},i(t,e),{source:"give_gold",action:"click",noun:"question"})}},O=function(e,t){return function(r){return Object.assign({},i(r,e),{source:"give_gold",action:"click",noun:"confirm",goldPurchase:{contentType:Object(s.a)(e)?"comment":"post",type:t}})}},m=function(e){return function(t){return Object.assign({},i(t,e),{source:"give_gold",action:"click",noun:"next"})}},v=function(e){return function(t){return Object.assign({},i(t,e),{source:"give_gold",action:"click",noun:"close"})}},g=function(e,t,r){return function(n){return Object.assign({},i(n,e),{source:"give_gold",action:"view",noun:"success",goldPurchase:{contentType:Object(s.a)(e)?"comment":"post",numberCoins:t,type:r}})}}},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return u});var n=r("./src/reddit/constants/tracking.ts"),a=r("./src/telemetry/index.ts"),s=r("./src/reddit/selectors/platform.ts"),i=r("./src/reddit/selectors/telemetry.ts"),c=function(e,t,r){return function(n){return{source:Object(s.h)(n)||r?"post_lightbox":"post_detail",action:"click",noun:t,post:i.post(n,e),profile:i.profile(n),screen:i.screen(n),subreddit:i.subreddit(n)}}},o=function(e,t){return function(r){return Object(a.a)(Object.assign({},c(e,t)(r),i.defaults(r)))}},u=function(e){return function(t){return{source:"id_card",action:n.b.CLICK,noun:e,profile:i.profile(t),screen:i.screen(t),subreddit:i.subreddit(t),userSubreddit:i.userSubreddit(t)}}}},"./src/reddit/helpers/trackers/post.ts":function(e,t,r){"use strict";r.d(t,"g",function(){return s}),r.d(t,"f",function(){return i}),r.d(t,"a",function(){return c}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return l}),r.d(t,"e",function(){return p});var n=r("./src/telemetry/index.ts"),a=r("./src/reddit/selectors/telemetry.ts"),s=function(e,t){return Object(n.a)(Object.assign({source:"post",action:"view",noun:"post"},a.defaults(e),{post:a.post(e,t),profile:a.profile(e),media:a.media(e,t),screen:a.screen(e),subreddit:a.subreddit(e)}))},i=function(e,t){return Object(n.a)(Object.assign({source:"post",action:"view",noun:"ad"},a.defaults(e),{post:a.post(e,t),media:a.media(e,t),screen:a.screen(e),subreddit:a.subreddit(e)}))},c=function(e,t,r){return Object(n.a)(Object.assign({source:"post",action:"consume",noun:"post"},a.defaults(e),{post:a.post(e,t,r),media:a.media(e,t),screen:a.screen(e),subreddit:a.subreddit(e)}))},o=function(e,t){return function(r){return{source:"post",action:"click",noun:t,post:a.post(r,e),media:a.media(r,e),screen:a.screen(r),session:a.session(r),subreddit:a.subreddit(r)||a.subredditByPostOrCommentId(r,e)}}},u=function(e,t){return function(r){return Object(n.a)(Object.assign({source:"post",action:"click",noun:t},a.defaults(r),{post:a.post(r,e),media:a.media(r,e),screen:a.screen(r),session:a.session(r),subreddit:a.subreddit(r)}))}},d=function(e,t){return{post:a.post(e,t),profile:a.profile(e)}},l=function(e){return function(t){return Object.assign({action:"pin",noun:"post",source:"profile"},d(t,e),a.defaults(t))}},p=function(e){return function(t){return Object.assign({action:"unpin",noun:"post",source:"profile"},d(t,e),a.defaults(t))}}},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"t",function(){return j}),r.d(t,"s",function(){return h}),r.d(t,"o",function(){return y}),r.d(t,"v",function(){return _}),r.d(t,"n",function(){return E}),r.d(t,"i",function(){return x}),r.d(t,"q",function(){return T}),r.d(t,"p",function(){return I}),r.d(t,"l",function(){return S}),r.d(t,"k",function(){return k}),r.d(t,"u",function(){return w}),r.d(t,"d",function(){return C}),r.d(t,"m",function(){return A}),r.d(t,"x",function(){return R}),r.d(t,"y",function(){return D}),r.d(t,"z",function(){return P}),r.d(t,"w",function(){return N}),r.d(t,"j",function(){return U}),r.d(t,"h",function(){return M}),r.d(t,"e",function(){return F}),r.d(t,"f",function(){return G}),r.d(t,"b",function(){return B}),r.d(t,"r",function(){return V}),r.d(t,"g",function(){return H});var n=r("./src/reddit/constants/tracking.ts"),a=r("./src/reddit/helpers/correlationIdTracker.ts"),s=r("./src/reddit/helpers/media/index.ts"),i=r("./src/reddit/models/PostCreationForm/index.ts"),c=r("./src/reddit/models/PostDraft/index.ts"),o=r("./src/reddit/selectors/postDraft.ts"),u=r("./src/reddit/selectors/telemetry.ts"),d=r("./src/reddit/selectors/user.ts"),l=r("./src/telemetry/index.ts"),p=r("./src/telemetry/models/PostComposer.ts"),b=r("./src/telemetry/models/PostDraft.ts"),f={imageOnly:"image",linkOnly:"link",media:"media",post:"self",crosspost:"crosspost"},O=function(e){return Object.assign({source:"post_composer",action:n.b.CLICK},u.defaults(e),{screen:u.screen(e),correlationId:Object(a.c)(a.a.PostComposer)})},m=function(e,t){return"self"!==t?{}:{editorMode:e.user.prefs.editorMode===i.h.MARKDOWN?"markdown":"rte"}},v=function(e){Object(l.a)(Object.assign({noun:"cancel"},O(e)))},g=function(e){Object(l.a)(Object.assign({noun:"discard"},O(e)))},j=function(e){Object(l.a)(Object.assign({noun:"subreddit_choice",subreddit:u.subreddit(e)},O(e)))},h=function(e){Object(l.a)(Object.assign({noun:"subreddit_selector"},O(e)))},y=function(e,t){Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:f[t]}},O(e)))},_=function(e,t,r){"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},O(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:r?"on":"off"}},O(e)))},E=function(e,t){Object(l.a)(Object.assign({noun:"post",subreddit:u.subreddit(e),postComposer:Object.assign({type:t},m(e,t))},O(e)))},x=function(e,t){var r=t===i.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:r},O(e)))},T=function(e,t){Object(l.a)(Object.assign({noun:"save",subreddit:u.subreddit(e),postComposer:Object.assign({type:t},m(e,t))},O(e)))},I=function(e,t){var r=e.uploads[t];r.error&&Object(l.a)(Object.assign({},O(e),{noun:"media",action:"reject",actionInfo:Object.assign({},u.actionInfo(e),{reason:JSON.stringify(r.error)})}))},S=function(e,t){t.forEach(function(t){var r=Object(s.e)(t.type);r&&Object(l.a)(Object.assign({},O(e),{action:"drag",noun:r}))})},k=function(e,t,r){Object(l.a)(Object.assign({},O(e),{noun:"input",postComposer:{inputType:r},action:t}))},w=function(e,t,r){Object(l.a)(Object.assign({},O(e),{noun:r,action:Object(p.getToggleAction)(t)}))},C=function(e){Object(l.a)(Object.assign({},O(e),{noun:"hide_oc_description",action:"click"}))},A=function(e,t){Object(l.a)(Object.assign({},O(e),{action:"click",noun:"share_profile_post_to_category",subreddit:{categoryName:t}}))},R=function(e){Object(l.a)(Object.assign({},O(e),{action:"click",noun:"recommend_oc_community"}))},D=function(e,t){Object(l.a)(Object.assign({},O(e),{action:"click",noun:"recommended_oc_category",subreddit:{categoryName:t}}))},P=function(e,t,r){Object(l.a)(Object.assign({},O(e),{action:"click",noun:"recommended_oc_subreddit",subreddit:{id:r.id,name:r.name,categoryName:t}}))},N=function(e){Object(l.a)(Object.assign({},O(e),{noun:"recommend_oc_community",action:"close"}))},L=function(e,t){if(t){var r=u.subredditById(e,t);if(r)return{subreddit:r};var n=u.profileById(e,t);if(n)return{profile:n}}},U=function(e,t){var r=t.draftId,n=t.destSubreddit,a=Object(d.j)(e),s=Object(o.d)(e,{draftId:r}),i={authorId:a?a.id:void 0,createdTimestamp:s?s.created:void 0,id:r||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:i.type=b.DraftType.Link,i.urlLength=t.body.length;break;case c.b.Markdown:i.type=b.DraftType.Self,i.bodyTextLength=t.body.length;break;case c.b.RichText:i.type=b.DraftType.RichText,t.documentStats&&(i.bodyTextLength=t.documentStats.textLength,i.numberRteImages=t.documentStats.rteImagesCount,i.numberRteVideos=t.documentStats.rteVideosCount);break;case c.b.Image:i.type=b.DraftType.Image;break;case c.b.Video:i.type=b.DraftType.Video}return Object.assign({postDraft:i},L(e,n.id))},M=function(e,t){Object(l.a)(Object.assign({noun:"draft_load"},O(e),U(e,t)))},F=function(e,t){Object(l.a)(Object.assign({noun:t.draftId?"draft_update":"draft_create"},O(e),U(e,t)))},G=function(e,t){Object(l.a)(Object.assign({noun:"draft_delete"},O(e),function(e,t){var r=Object(d.j)(e),n={authorId:r?r.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:n.type=b.DraftType.Link,n.urlLength=(t.body||"").length;break;case c.b.Markdown:n.type=b.DraftType.Self,n.bodyTextLength=(t.body||"").length;break;case c.b.RichText:n.type=b.DraftType.RichText}return Object.assign({postDraft:n},L(e,t.subredditId))}(e,t)))},B=function(e){Object(l.a)(Object.assign({},O(e),{noun:"social_connect_link",action:n.b.CLICK}))},V=function(e,t){Object(l.a)(Object.assign({},O(e),{noun:"twitter_share_checkbox",action:Object(p.getToggleAction)(t)}))},H=function(e,t,r){Object(l.a)(Object.assign({},O(e),U(e,t),{noun:"draft_share",action:r?"enable":"disable"}))}},"./src/reddit/helpers/trackers/premium.ts":function(e,t,r){"use strict";r.d(t,"f",function(){return c}),r.d(t,"g",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return p}),r.d(t,"d",function(){return b}),r.d(t,"b",function(){return f});var n=r("./src/reddit/selectors/telemetry.ts"),a=r("./node_modules/uuid/v4.js"),s=r.n(a),i=void 0,c=function(){return i},o=function(){return i=s()()},u=function(){return i=void 0},d="premium_marketing",l=function(){return function(e){return Object.assign({source:d,action:"click",noun:"get_premium",correlationId:c()},n.defaults(e))}},p=function(){return function(e){return Object.assign({source:d,action:"click",noun:"price",correlationId:c()},n.defaults(e))}},b=function(){return function(e){return Object.assign({source:d,action:"click",noun:"redeem_code",correlationId:c()},n.defaults(e))}},f=function(){return function(e){return Object.assign({source:d,action:"click",noun:"manage",correlationId:c()},n.defaults(e))}}},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,r){"use strict";r.d(t,"f",function(){return g}),r.d(t,"c",function(){return j}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return y}),r.d(t,"i",function(){return _}),r.d(t,"b",function(){return E}),r.d(t,"g",function(){return x}),r.d(t,"d",function(){return T}),r.d(t,"e",function(){return I}),r.d(t,"a",function(){return w}),r.d(t,"h",function(){return C});var n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makePostDraftPageKey/index.ts"),s=r("./src/reddit/helpers/routeKey/index.ts"),i=r("./src/reddit/helpers/trackers/postComposer.ts"),c=r("./src/reddit/helpers/trackers/profileSettings.ts"),o=r("./src/reddit/models/Comment/index.ts"),u=r("./src/reddit/models/Post/index.ts"),d=r("./src/reddit/selectors/news.ts"),l=r("./src/reddit/selectors/profile.ts"),p=r("./src/reddit/selectors/subreddit.ts"),b=r("./src/reddit/helpers/trackers/coins.ts"),f=r("./src/reddit/helpers/trackers/premium.ts"),O=r("./src/reddit/selectors/postDraft.ts"),m=r("./src/reddit/selectors/telemetry.ts"),v=r("./src/telemetry/index.ts"),g=function(e,t,r,i){var l=e.route.meta.name;if(l)switch(l){case n.lb.COMMENTS:var p=e.match.params,b=p.partialCommentId,f=p.partialPostId,O=Object(u.d)(f),m=Object(s.a)(e,t,t.posts.models[O]);if(!m)return;var g=b&&Object(o.b)(b);Object(v.a)(E(m,O,g,r,i)(t));break;case n.lb.INDEX:case n.lb.LISTING:case n.lb.MULTIREDDIT:case n.lb.SUBREDDIT:case n.lb.ORIGINAL_CONTENT:var x=Object(s.d)(e,t);if(!x)return;var T=e.match,I=T.params,D=T.queryParams,P=I.sort,N=void 0===P?n.U.HOT:P,L=D.t;Object(v.a)(j(x,N,r,i,L)(t));break;case n.lb.PROFILE_OVERVIEW:var U=Object(s.f)(e,t);if(!U)return;var M=e.match,F=M.params,G=M.queryParams,B=F.sort,V=void 0===B?n.eb:B,H=G.t;Object(v.a)(h(U,V,r,i,H)(t));break;case n.lb.PROFILE_POSTS:var q=Object(s.f)(e,t);if(!q)return;var K=e.match.queryParams,W=K.sort,Q=void 0===W?n.eb:W,Y=K.t,J=void 0===Y?n.Lb:Y;Object(v.a)(y(q,Q,r,i,J)(t));break;case n.lb.PROFILE_COMMENTS:var z=Object(s.f)(e,t);if(!z)return;var X=e.match.queryParams,Z=X.sort,$=void 0===Z?n.eb:Z,ee=X.t,te=void 0===ee?n.Lb:ee;Object(v.a)(_(z,$,r,i,te)(t));break;case n.lb.SETTINGS:e.match.params.page===n.Fb.Profile&&Object(c.j)(t);break;case n.lb.POST_CREATION:break;case n.lb.NEWS:var re=Object(s.e)(e,t);if(!re)return;var ne=Object(d.m)(t.user);Object(v.a)(j(re,ne,r,i)(t));break;case n.lb.POST_DRAFT:var ae=e.match.params.draftId,se=Object(a.a)(e.match.params);if(!se)return;S(t,se,ae,r,i);break;case n.lb.PARTNER_SUBREDDIT_CONNECTION:Object(v.a)(k(r,i)(t));break;case n.lb.COINS:Object(v.a)(w(r,i)(t));break;case n.lb.PREMIUM:Object(v.a)(C(r,i)(t));break;case n.lb.APPEAL:Object(v.a)(A(r,i)(t));break;case n.lb.EXPLORE:var ie=Object(s.b)(e);if(!ie)return;Object(v.a)(R(ie,r,i)(t))}},j=function(e,t,r,n,a){return function(s){var i=m.listing(s,e);i&&(i.sort=t,a&&(i.sortTime=a));var c=s.listings.postOrder.api,o=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},m.defaults(s),{actionInfo:m.actionInfo(s,{success:o}),news:m.news(s),screen:m.screen(s),subreddit:m.subreddit(s),timer:m.timer(r,n),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)})}},h=function(e,t,r,n,a){return function(s){var i=m.listing(s,e);i&&(i.sort=t,a&&(i.sortTime=a));var c=s.listings.postOrder.api,o=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},m.defaults(s),{actionInfo:m.actionInfo(s,{success:o}),profile:m.profile(s),screen:m.screen(s),subreddit:m.subreddit(s),timer:m.timer(r,n),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)})}},y=function(e,t,r,n,a){return function(s){var i=m.listing(s,e);i&&(i.sort=t,a&&(i.sortTime=a));var c=s.listings.postOrder.api,o=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},m.defaults(s),{actionInfo:m.actionInfo(s,{success:o}),profile:m.profile(s),screen:m.screen(s),subreddit:m.subreddit(s),timer:m.timer(r,n),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)})}},_=function(e,t,r,n,a){return function(s){var i=m.profileComments(s,e);i&&(i.sort=t,a&&(i.sortTime=a));var c=s.profileCommentsPage.api,o=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},m.defaults(s),{actionInfo:m.actionInfo(s,{success:o}),profile:m.profile(s),screen:m.screen(s),subreddit:m.subreddit(s),timer:m.timer(r,n),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)})}},E=function(e,t,r,n,a){return function(s){var i=s.commentsPage.api,c=!i.error[e]&&!i.pending[e],o=Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(s),{actionInfo:m.actionInfo(s,{success:c}),post:m.post(s,t),profile:m.profile(s),screen:m.screen(s),subreddit:m.subreddit(s),timer:m.timer(n,a),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)});return r&&(o.comment=m.comment(s,r)),o}},x=function(e,t,r){return function(n){var a=n.creations.api.page.fetched[e],s=n.platform.currentPage?n.platform.currentPage.queryParams.source_id:void 0;return Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(n),{actionInfo:m.actionInfo(n,{success:a}),post:s?m.post(n,s):void 0,screen:m.screen(n),subreddit:m.subreddit(n),timer:m.timer(t,r),userSubreddit:m.userSubreddit(n),adblock:m.adblock(n)})}},T=function(e,t,r){Object(v.a)(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e),{actionInfo:m.actionInfo(e,{success:t}),screen:m.screen(e),subreddit:m.subredditById(e,Object(p.v)(e,r)),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}))},I=function(e,t,r,n){Object(v.a)(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e),{profile:m.profileById(e,Object(l.i)(e,n)),screen:m.screen(e),subreddit:m.subredditById(e,Object(p.v)(e,r)),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}))},S=function(e,t,r,n,a){var s=e.creations.api.page.pending[t],c=!e.creations.api.page.error[t]&&!s&&!!r,o=Object(O.h)(e,r);Object(v.a)(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e),{actionInfo:m.actionInfo(e,{success:c}),screen:m.screen(e),subreddit:m.subreddit(e),timer:m.timer(n,a),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)},o?Object(i.j)(e,o):{}))},k=function(e,t){return function(r){return Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(r),{actionInfo:m.actionInfo(r),screen:m.screen(r),timer:m.timer(e,t),userSubreddit:m.userSubreddit(r),adblock:m.adblock(r)})}},w=function(e,t){return function(r){return Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:b.e()},m.defaults(r),{timer:m.timer(e,t),adblock:m.adblock(r)})}},C=function(e,t){return function(r){return Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:f.f()},m.defaults(r),{timer:m.timer(e,t),adblock:m.adblock(r)})}},A=function(e,t){return function(r){return Object.assign({source:"appeal",action:"view",noun:"page"},m.defaults(r),{timer:m.timer(e,t)})}},R=function(e,t,r){return function(n){var a=n.listings.listingOrder.api,s=!a.error[e]&&!a.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(n),{actionInfo:m.actionInfo(n,{success:s}),screen:m.screen(n),timer:m.timer(t,r),userSubreddit:m.userSubreddit(n),adblock:m.adblock(n)})}}},"./src/reddit/helpers/trackers/submitValidation.ts":function(e,t,r){"use strict";r.d(t,"f",function(){return o}),r.d(t,"c",function(){return u}),r.d(t,"h",function(){return p}),r.d(t,"g",function(){return b}),r.d(t,"d",function(){return O}),r.d(t,"a",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"e",function(){return h}),r.d(t,"i",function(){return y}),r.d(t,"j",function(){return _});var n=r("./src/reddit/controls/FormFields/index.tsx"),a=r("./src/reddit/selectors/telemetry.ts"),s=r("./src/telemetry/index.ts"),i=function(e){return Object.assign({source:"submit_validation"},a.defaults(e),{profile:a.profile(e),subreddit:a.subreddit(e)})},c={titleRegEx:"title_regex",titleStrings:"title_required_word",titleLength:"title_length",reposts:"repost_frequency",flair:"post_flair"},o=function(e,t,r){Object(s.a)(Object.assign({},i(e),{action:r?"deselect":"select",noun:c[t]}))},u=function(e,t){return t.action===n.d.ADD?d(e):t.action===n.d.REMOVE&&t.value&&void 0!==t.index?l(e,t.value,t.index):void 0},d=function(e){Object(s.a)(Object.assign({},i(e),{action:"add",noun:"title_required_word"}))},l=function(e,t,r){Object(s.a)(Object.assign({},i(e),{action:"remove",noun:"title_required_word",actionInfo:a.actionInfo(e,{settingValue:t,position:r})}))},p=function(e,t){Object(s.a)(Object.assign({},i(e),{action:"change",noun:"title_min",actionInfo:a.actionInfo(e,{settingValue:t})}))},b=function(e,t){Object(s.a)(Object.assign({},i(e),{action:"change",noun:"title_max",actionInfo:a.actionInfo(e,{settingValue:t})}))},f={none:"optional",required:"required",notAllowed:"not_allowed"},O=function(e,t){var r=f[t];Object(s.a)(Object.assign({},i(e),{action:"toggle",noun:"post_body",actionInfo:a.actionInfo(e,{settingValue:r})}))},m=function(e,t){Object(s.a)(Object.assign({},i(e),{action:"toggle",noun:"domain",actionInfo:a.actionInfo(e,{settingValue:"none"===t?"no_filtering":t})}))},v=function(e,t,r){if(t.action===n.d.ADD)return g(e,"whitelist"===r?"add_whitelist":"add_blacklist");if(t.action===n.d.REMOVE&&t.value&&void 0!==t.index){var a="whitelist"===r?"remove_whitelist":"remove_blacklist";return j(e,t.value,t.index,a)}},g=function(e,t){Object(s.a)(Object.assign({},i(e),{action:t,noun:"domain"}))},j=function(e,t,r,n){Object(s.a)(Object.assign({},i(e),{action:n,noun:"domain",actionInfo:a.actionInfo(e,{settingValue:t,position:r})}))},h=function(e,t){Object(s.a)(Object.assign({},i(e),{action:"change",noun:"repost_days",actionInfo:a.actionInfo(e,{settingValue:t})}))},y=function(e){Object(s.a)(Object.assign({},i(e),{action:"click",noun:"save"}))},_=function(e){Object(s.a)(Object.assign({source:"global",noun:"screen",action:"view"},a.defaults(e),{profile:a.profile(e),subreddit:a.subreddit(e)}))}},"./src/reddit/icons/svgs/Close/index.tsx":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/extends.js"),a=r.n(n),s=r("./node_modules/babel-runtime/helpers/jsx.js"),i=r.n(s),c=r("./node_modules/react/index.js"),o=r.n(c);t.a=function(e){return o.a.createElement("svg",a()({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i()("polygon",{fill:"inherit",points:"11.649 9.882 18.262 3.267 16.495 1.5 9.881 8.114 3.267 1.5 1.5 3.267 8.114 9.883 1.5 16.497 3.267 18.264 9.881 11.65 16.495 18.264 18.262 16.497"}))}},"./src/reddit/icons/svgs/Plus/index.tsx":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/jsx.js"),a=r.n(n);r("./node_modules/react/index.js");t.a=function(e){return a()("svg",{className:e.className,viewBox:"0 0 20 20",version:"1.1"},void 0,a()("g",{stroke:"none"},void 0,a()("g",{transform:"translate(-34.000000, -136.000000)",fill:"inherit"},void 0,a()("path",{d:"M45.2,147.2 L48.8,147.2 C49.46272,147.2 50,146.66272 50,146 C50,145.33728 49.46272,144.8 48.8,144.8 L45.2,144.8 L45.2,141.2 C45.2,140.53728 44.66272,140 44,140 C43.33728,140 42.8,140.53728 42.8,141.2 L42.8,144.8 L39.2,144.8 C38.53728,144.8 38,145.33728 38,146 C38,146.66272 38.53728,147.2 39.2,147.2 L42.8,147.2 L42.8,150.8 C42.8,151.46272 43.33728,152 44,152 C44.66272,152 45.2,151.46272 45.2,150.8 L45.2,147.2 Z",id:"Combined-Shape"}))))}},"./src/reddit/icons/svgs/Trash2/index.tsx":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("./node_modules/babel-runtime/helpers/jsx.js"),a=r.n(n),s=(r("./node_modules/react/index.js"),r("./bundled-modules/styled-components/styled-components.min.js")),i=r.n(s),c=r("./src/reddit/models/Theme/NewColorSystem/index.ts"),o=function(e){return a()("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},void 0,a()("path",{d:"M16.5,2H12.71l-.85-.85A.5.5,0,0,0,11.5,1h-3a.5.5,0,0,0-.35.15L7.29,2H3.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h13a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,16.5,2Z"}),a()("path",{d:"M16.5,5H3.5a.5.5,0,0,0-.5.5v12A1.5,1.5,0,0,0,4.5,19h11A1.5,1.5,0,0,0,17,17.5V5.5A.5.5,0,0,0,16.5,5ZM6.75,15.5a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Z"}))};t.b=i()(o).withConfig({componentId:"s69qjd8-0"})(["fill: ",";"],function(e){return Object(c.c)(e).actionIcon})},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var n,a=r("./node_modules/uuid/v4.js"),s=r.n(a);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(n||(n={}));var i=function(){return s()()}},"./src/reddit/models/Coins/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return d});var n,a,s=r("./node_modules/babel-runtime/helpers/defineProperty.js"),i=r.n(s),c=r("./src/config.ts");!function(e){e.COINS500="coins500",e.COINS1100="coins1100",e.COINS1800="coins1800",e.COINS7200="coins7200",e.COINS40000="coins40000",e.COINSVariable="coinsVariable"}(a||(a={}));var o=(n={},i()(n,a.COINS500,{coins:500,pennies:199,assetPath:c.a.assetPath+"/img/gold/coins-package-500.png"}),i()(n,a.COINS1100,{coins:1100,pennies:399,assetPath:c.a.assetPath+"/img/gold/coins-package-1100.png"}),i()(n,a.COINS1800,{coins:1800,pennies:599,assetPath:c.a.assetPath+"/img/gold/coins-package-1800.png"}),i()(n,a.COINS7200,{coins:7200,pennies:1999,assetPath:c.a.assetPath+"/img/gold/coins-package-7200.png"}),i()(n,a.COINS40000,{coins:4e4,pennies:9999,assetPath:c.a.assetPath+"/img/gold/coins-package-40000.png"}),i()(n,a.COINSVariable,{coins:1/0,pennies:1/0,assetPath:c.a.assetPath+"/img/gold/coins-package-40000.png"}),n),u=function(e,t){for(var r in o){var n=o[r];if(t-n.coins<=e)return n}return o[a.COINS40000]},d=function(e){var t=o[a.COINS40000];if(e<=t.coins)return u(0,e);var r=t.pennies/t.coins,n=o[a.COINSVariable];return n.coins=e,n.pennies=Math.ceil(r*e),n}},"./src/reddit/models/Comment/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"a",function(){return o});var n=r("./src/reddit/constants/comments.ts"),a=r("./src/reddit/constants/things.ts"),s=r("./src/lib/constants/index.ts"),i=function(e){return""+a.a+e},c=function(e){return{id:e,type:n.b.Comment}},o=function(e){return e.author===s.B}},"./src/reddit/models/DiscoveryUnit/index.ts":function(e,t,r){"use strict";var n,a,s,i;r.d(t,"a",function(){return n}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return o}),r.d(t,"c",function(){return u}),r.d(t,"e",function(){return d}),function(e){e.Community="community",e.CommunityCategory="community_category",e.FavoriteSubreddits="favorite_subreddits",e.Listing="listing",e.RecentlyVisitedSubreddits="recently_visited_subreddits",e.SubredditListing="subreddit_listing"}(n||(n={})),function(e){e.Communities="communities",e.Explore="explore",e.Frontpage="front_page",e.Popular="popular",e.SubredditListing="subreddit_listing"}(a||(a={})),function(e){e.Large="large",e.Small="small"}(s||(s={})),function(e){e.Wide="wide",e.Description="description",e.ActionButton="action_button",e.SeeMore="see_more",e.HideItems="hide_items",e.HideUnit="hide_unit",e.ShowLess="show_less",e.PostShowSubredditHeader="post_show_subreddit_header",e.UnitShowSubredditHeader="unit_show_subreddit_header",e.PreviewMode="preview_mode"}(i||(i={}));var c="posts_in_category_rails_hero",o="posts_in_subreddit_hero",u="posts_in_category_rails_small",d="posts_in_subreddit_small"},"./src/reddit/models/Duplicates/index.ts":function(e,t,r){"use strict";function n(e,t){return e+"-sort["+t.sort+"]-crossposts_only["+t.crossposts_only+"]"}r.d(t,"a",function(){return n})},"./src/reddit/models/Emoji/index.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"e",function(){return c});var n=24,a=64e3,s=128,i=128,c=function(e,t,r){return{name:e,url:t,subredditId:r}}},"./src/reddit/models/Gild/index.tsx":function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"c",function(){return p}),r.d(t,"b",function(){return f});var n,a,s,i=r("./node_modules/babel-runtime/helpers/defineProperty.js"),c=r.n(i),o=r("./node_modules/babel-runtime/helpers/jsx.js"),u=r.n(o),d=(r("./node_modules/react/index.js"),r("./src/config.ts"));!function(e){e.Gid1="gid_1",e.Gid2="gid_2",e.Gid3="gid_3"}(s||(s={}));var l=(n={},c()(n,s.Gid1,{title:"gold.gildModal.awardSelector.silver.title",color:"#A5A4A4",cost:100,modelField:s.Gid1,benefits:["gold.gildModal.awardSelector.silver.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.silver.benefitsTitle",icon:function(e){var t=e.className;return u()("img",{className:t,src:d.a.assetPath+"/img/gold/badges/award-silver-medium.png"})},awardMessage:"gold.gildModal.awardSelector.silver.awardMessage",enabled:!0}),c()(n,s.Gid2,{title:"gold.gildModal.awardSelector.gold.title",color:"#DDBB38",cost:500,modelField:s.Gid2,benefits:["gold.gildModal.awardSelector.gold.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.gold.benefitsTitle",icon:function(e){var t=e.className;return u()("img",{className:t,src:d.a.assetPath+"/img/gold/badges/award-gold-medium.png"})},awardMessage:"gold.gildModal.awardSelector.gold.awardMessage",enabled:!0}),c()(n,s.Gid3,{title:"gold.gildModal.awardSelector.platinum.title",color:"#0DD2BA",cost:1800,modelField:s.Gid3,benefits:["gold.gildModal.awardSelector.platinum.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.platinum.benefitsTitle",icon:function(e){var t=e.className;return u()("img",{className:t,src:d.a.assetPath+"/img/gold/badges/award-platinum-medium.png"})},awardMessage:"gold.gildModal.awardSelector.platinum.awardMessage",enabled:!0}),n),p=function(e){return l[e]},b=(a={},c()(a,s.Gid1,0),c()(a,s.Gid2,0),c()(a,s.Gid3,0),a),f=function(e,t){return Object.assign({},e,{gildings:t||b})}},"./src/reddit/models/ModQueue/index.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return d}),r.d(t,"a",function(){return n}),r.d(t,"c",function(){return p}),r.d(t,"d",function(){return b});var n,a=r("./node_modules/babel-runtime/helpers/defineProperty.js"),s=r.n(a),i=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),c=r.n(i),o=r("./src/reddit/helpers/isPost.ts"),u=r("./src/reddit/models/Flair/index.ts"),d=1;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(n||(n={}));var l={},p={ignore_reports:n.UnignoreReports,lock:n.Unlock,mark_nsfw:n.UnmarkNSFW,remove:n.Approve,spam:n.Approve,spoiler:n.Unspoiler,unignore_reports:n.IgnoreReports,unlock:n.Lock,unmark_nsfw:n.MarkNSFW,unspoiler:n.Spoiler},b=function(e,t,r,a,i){switch(t){case"approve":var d={};return r.forEach(function(e){d[e]={approvedBy:a,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null}}),d;case"flair":var p={};return r.forEach(function(t){if(Object(o.a)(t)){var r=e[t].flair.filter(function(e){return e.type===u.e.Nsfw||e.type===u.e.Spoiler});i&&i.flair&&r.push(i.flair),p[t]={flair:r}}}),p;case"ignore_reports":var b={};return r.forEach(function(e){b[e]={ignoreReports:!0}}),b;case"lock":var f={};return r.forEach(function(e){f[e]={isLocked:!0}}),f;case"mark_nsfw":var O={},m={text:"nsfw",type:u.e.Nsfw};return r.forEach(function(t){if(Object(o.a)(t)){var r=e[t],n=r.isNSFW?r.flair:r.flair?[].concat(c()(r.flair),[m]):s()({},t,m);O[t]={isNSFW:!0,flair:n}}}),O;case"remove":var v={};return r.forEach(function(e){v[e]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:a}}),v;case"spam":var g={};return r.forEach(function(e){g[e]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:a}}),g;case"spoiler":var j={},h={text:"spoiler",type:u.e.Spoiler};return r.forEach(function(t){if(Object(o.a)(t)){var r=e[t],n=r.isSpoiler?r.flair:r.flair?[].concat(c()(r.flair),[h]):s()({},t,h);j[t]={isSpoiler:!0,flair:n}}}),j;case"unignore_reports":var y={};return r.forEach(function(e){y[e]={ignoreReports:!1}}),y;case"unlock":var _={};return r.forEach(function(e){_[e]={isLocked:!1}}),_;case"unmark_nsfw":var E={};return r.forEach(function(t){if(Object(o.a)(t)){var r=e[t],n=r.flair?r.flair.filter(function(e){return e.type!==u.e.Nsfw}):null;E[t]={isNSFW:!1,flair:n}}}),E;case"unspoiler":var x={};return r.forEach(function(t){if(Object(o.a)(t)){var r=e[t],n=r.flair?r.flair.filter(function(e){return e.type!==u.e.Spoiler}):null;x[t]={isSpoiler:!1,flair:n}}}),x;case n.RemovalReason:var T={};return r.forEach(function(e){T[e]={modNote:i&&i.modNote,modReasonBy:a,modRemovalReason:i&&i.removalReason}}),T;default:return l}}},"./src/reddit/models/Poll/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return s}),r.d(t,"b",function(){return i});var n,a=r("./node_modules/bignumber.js/bignumber.js");function s(e,t){var r=!!e.options.filter(function(e){return t.options[e.id].userSelected}).length,n=new Date(e.endsAt).getTime()<Date.now();return r||n}function i(e,t){var r=e.options[0],n=new a.BigNumber(t.options[r.id].votes),s=!0,i=!1,c=void 0;try{for(var o,u=e.options[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var d=o.value,l=new a.BigNumber(t.options[d.id].votes);l.isGreaterThan(n)&&(r=d,n=l)}}catch(e){i=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(i)throw c}}return r}!function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower"}(n||(n={}))},"./src/reddit/models/PostRequirements/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"c",function(){return o});var n=r("./node_modules/lodash/isEqual.js"),a=r.n(n),s=function(e){return"number"==typeof e&&e<2?null:e},i=function(e){var t={},r=e.titleRegEx,n=e.titleStrings,a=e.titleLength,i=e.postLength,c=e.linkDomain,o=e.linkListPermission,u=e.postBodyRequirement,d=e.postingGuidelines,l=e.reposts,p=e.flair;return n.isToggled?t.ruleTitleStrings=n.strings.filter(function(e){return!!e}):t.ruleTitleStrings=[],r.isToggled?t.ruleTitleRegex=r.regex.filter(function(e){return!!e}):t.ruleTitleRegex=[],a.isToggled?(t.ruleTitleTextMaxLength=a.max,t.ruleTitleTextMinLength=s(a.min)):(t.ruleTitleTextMaxLength=null,t.ruleTitleTextMinLength=null),i.isToggled?(t.ruleBodyTextMaxLength=i.max,t.ruleBodyTextMinLength=s(i.min)):(t.ruleBodyTextMaxLength=null,t.ruleBodyTextMinLength=null),t.ruleLinkListPermission=o,"none"!==o&&("whitelist"===o?t.ruleLinkWhitelist=c.whitelist.filter(function(e){return!!e}):t.ruleLinkBlacklist=c.blacklist.filter(function(e){return!!e})),t.noopGuidelinesRequirement=d.requirement,"none"!==d.requirement&&(t.noopGuidelines=d.guidelines),l.isToggled?t.ruleLinkRepostAge=l.days:t.ruleLinkRepostAge=null,t.ruleBodyRequirement=u,t.ruleFlairRequired=p.isToggled,t},c=function(e,t){var r=Object.assign({},e);return r.isLoading=!1,r.titleStrings.isToggled=!!t.ruleTitleStrings.length,r.titleStrings.strings=t.ruleTitleStrings,r.titleRegEx.isToggled=!!t.ruleTitleRegex.length,r.titleRegEx.regex=t.ruleTitleRegex,r.titleLength.isToggled=null!==t.ruleTitleTextMinLength||null!==t.ruleTitleTextMaxLength,r.titleLength.min=t.ruleTitleTextMinLength,r.titleLength.max=t.ruleTitleTextMaxLength,r.postLength.isToggled=null!==t.ruleBodyTextMinLength||null!==t.ruleBodyTextMaxLength,r.postLength.min=t.ruleBodyTextMinLength,r.postLength.max=t.ruleBodyTextMaxLength,r.postingGuidelines.requirement=t.noopGuidelinesRequirement,r.postingGuidelines.guidelines=t.noopGuidelines,r.postBodyRequirement=t.ruleBodyRequirement,r.linkListPermission=t.ruleLinkListPermission,r.linkDomain.whitelist=t.ruleLinkWhitelist,r.linkDomain.blacklist=t.ruleLinkBlacklist,r.reposts.isToggled=null!==t.ruleLinkRepostAge,r.reposts.days=t.ruleLinkRepostAge,r.flair.isToggled=t.ruleFlairRequired,r},o=function(e,t){var r={};for(var n in e){var s=e[n];Array.isArray(s)?a()(s,t[n])||(r[n]=s):s!==t[n]&&(r[n]=s)}return r}},"./src/reddit/models/RemovalReason/index.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"d",function(){return u}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return l}),r.d(t,"f",function(){return n}),r.d(t,"e",function(){return a}),r.d(t,"g",function(){return p}),r.d(t,"h",function(){return b});var n,a,s=r("./node_modules/babel-runtime/helpers/defineProperty.js"),i=r.n(s),c=r("./src/reddit/helpers/isPost.ts"),o=20,u=50,d=1e4,l=100;!function(e){e.Private="private",e.PrivateExposed="private_exposed",e.Public="public"}(n||(n={})),function(e){e.Bulk="bulk",e.Comment="comment",e.Post="link"}(a||(a={}));var p=function(e){return 1===e.length?Object(c.a)(e[0])?a.Post:a.Comment:a.Bulk},b=function(e,t){var r,n=t===a.Bulk?"item_ids":"item_id";return r={},i()(r,n,e.itemId),i()(r,"message",e.message),i()(r,"title",e.title),i()(r,"type",e.type),r}},"./src/reddit/models/RichTextJson/nodeMakers.ts":function(e,t,r){"use strict";r.d(t,"r",function(){return a}),r.d(t,"l",function(){return s}),r.d(t,"h",function(){return i}),r.d(t,"m",function(){return c}),r.d(t,"n",function(){return o}),r.d(t,"s",function(){return u}),r.d(t,"k",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"c",function(){return p}),r.d(t,"d",function(){return b}),r.d(t,"i",function(){return f}),r.d(t,"j",function(){return O}),r.d(t,"p",function(){return m}),r.d(t,"o",function(){return v}),r.d(t,"q",function(){return g}),r.d(t,"f",function(){return j}),r.d(t,"b",function(){return h}),r.d(t,"t",function(){return y}),r.d(t,"g",function(){return _}),r.d(t,"a",function(){return E});var n=r("./src/reddit/models/RichTextJson/index.ts"),a=function(e,t){return Object.assign({e:n.A,t:e},t?{f:t}:null)},s=function(e){return{e:n.w,t:e}},i=function(e,t,r){return Object.assign({e:n.o,t:e,u:t},r?{f:r}:null)},c=function(e){return{e:n.x,c:[a(e,null)]}},o=function(e,t){return{e:n.y,t:e,l:t}},u=function(e,t){return{e:n.B,t:e,l:t}},d=function(e){return{e:n.u,c:e}},l=function(e,t){return{e:n.k,l:e,c:t}},p=function(e){return{e:n.b,c:e}},b=function(e){return{e:"code",c:e}},f=function(e){return{e:n.q,c:e}},O=function(e,t){return{e:n.p,c:e,o:t}},m=function(e,t){return Object.assign({c:e},t?{a:t}:{})},v=function(e){return{c:e}},g=function(e,t){return{e:n.z,h:e,c:t}},j=function(e,t){return{e:n.m,id:e,c:t}},h=function(e,t){return{e:n.a,id:e,c:t}},y=function(e,t,r,a){return Object.assign({e:n.C,id:e,c:t,gifify:a},r?{p:j(r)}:{})},_=function(){return{e:n.n}},E={e:n.u,c:[{e:n.A,t:""}]}},"./src/reddit/models/SubredditChannel/index.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return o});var n,a,s=r("./src/chat/models/Channel/utils/removeSendbirdPrefix.ts");!function(e){e.Public="public",e.Private="private"}(n||(n={})),function(e){e.Joined="joined",e.Invited="invited",e.Unsorted="none"}(a||(a={}));var i={channelId:"",channelSendbirdUrl:"",subredditId:"",name:"",description:"",membersCount:0,type:n.Public,channelState:a.Unsorted,minimumAcctAge:0,newMemberAge:0},c=function(e){var t={};return e.length&&e.forEach(function(e){var r=function(e){return{channelId:Object(s.a)(e.url),channelSendbirdUrl:e.url,channelState:e.member_state,subredditId:e.subreddit.id,name:e.name,type:e.type,description:e.description,membersCount:e.member_count,minimumAcctAge:e.automute_account_age_threshold||0,newMemberAge:e.automute_on_join_duration||0}}(e);t[r.channelId]=r}),t},o=function(e){return{channelId:Object(s.a)(e.channel_url),channelSendbirdUrl:e.channel_url,subredditId:e.subreddit_id,channelState:a.Joined,name:e.room,type:e.roomType,description:e.description,membersCount:1,minimumAcctAge:e.automute_account_age_threshold,newMemberAge:e.automute_on_join_duration}}},"./src/reddit/models/Vote/index.ts":function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"d",function(){return s}),r.d(t,"c",function(){return i}),function(e){e[e.downvoted=-1]="downvoted",e[e.notVoted=0]="notVoted",e[e.upvoted=1]="upvoted"}(n||(n={}));var a=function(e,t){return e.voteState===t?n.notVoted:t},s=function(e){switch(e){case!0:return n.upvoted;case!1:return n.downvoted;default:return n.notVoted}},i=function(e,t){var r=e.voteState===t,n=r?0:t,a=r?e.score-t:e.score-e.voteState+t;return Object.assign({},e,{voteState:n,score:a})}},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(n||(n={}))},"./src/reddit/reducers/comments/visitHighlightingFilter/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n,a=r("./src/reddit/actions/comment.ts"),s=r("./src/reddit/actions/platform.ts");!function(e){e.First="First",e.Last="Last",e.None="None"}(n||(n={}));var i=n.Last;t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case s.a:return i;case a.a:return t.payload.sort;default:return e}}},"./src/reddit/reducers/index.ts":function(e,t,r){"use strict";var n=r("./node_modules/redux/es/index.js"),a=r("./src/app/reducers/meta/index.ts"),s=r("./src/app/reducers/tooltipId/index.ts"),i=r("./src/reddit/actions/modal.ts"),c={},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case i.d:return t.payload||c;case i.b:case i.a:case i.c:return c;default:return e}},u=r("./src/reddit/actions/authorFlair.ts"),d=r("./src/reddit/actions/badge.ts"),l=r("./src/reddit/actions/governance.ts"),p=r("./src/reddit/actions/platform.ts"),b=r("./src/reddit/actions/postCreation/index.ts"),f=r("./src/reddit/actions/product.ts"),O=r("./src/reddit/actions/reportFlow.ts"),m=r("./src/reddit/actions/structuredStyles.ts"),v=r("./src/reddit/constants/modals.ts"),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case i.b:var r=t.payload;return e===r?null:r;case i.a:case b.u:case i.c:case p.a:case O.e:return null;case m.f:return e===v.a.BLADE_UNSAVED_CHANGES?null:e;case m.e:return e===v.a.BLADE_NIGHTMODE?null:e;case u.a:return e===v.a.USER_FLAIR_MODAL_ID?null:v.a.USER_FLAIR_MODAL_ID;case d.c:return v.a.BADGE_PICKER;case f.b:return v.a.BADGE_PURCHASE;case l.b:return v.a.GOVERNANCE_OPT_OUT;case l.j:return v.a.TRANSFER_POINTS;case l.g:return v.a.GOVERNANCE_RELEASE_NOTES;default:return e}},j=r("./src/reddit/actions/post.ts"),h=r("./src/reddit/actions/video.ts"),y={},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments[1];switch(t.type){case j.a:var r=t.payload.postId,n=Object.assign({},e);return n[r]||(n[r]={}),n[r].adImpression=Date.now(),n;case j.b:var a=t.payload.postId,s=Object.assign({},e);return s[a]||(s[a]={}),s[a].adViewableImpression=Date.now(),s;case h.d:var i=t.payload.postId,c=Object.assign({},e);return c[i]||(c[i]={}),c[i].adVideoViewable=Date.now(),c;case h.a:var o=t.payload.postId,u=Object.assign({},e);return u[o]||(u[o]={}),u[o].adVideoFullyViewable=Date.now(),u;case h.c:var d=t.payload.postId,l=Object.assign({},e);return l[d]||(l[d]={}),l[d].adVideoStarted=Date.now(),l;case h.b:var p=t.payload.postId,b=Object.assign({},e);return b[p]||(b[p]={}),b[p].adVideoPlayedWithSound=Date.now(),b;case h.q:var f=t.payload.postId,O=Object.assign({},e);return O[f]||(O[f]={}),O[f].adVideoPlayedExpanded=Date.now(),O;case h.e:var m=t.payload,v=m.postId,g=m.percentage,_=Object.assign({},e);_[v]||(_[v]={});var E="adVideoWatchedPercent"+g;return _[v].adVideoWatchedPercent||(_[v][E]={}),_[v][E]=Date.now(),_;case h.f:var x=t.payload,T=x.postId,I=x.seconds,S=Object.assign({},e);S[T]||(S[T]={});var k="adVideoWatchedSeconds"+I;return S[T].adVideoWatchedSeconds||(S[T][k]={}),S[T][k]=Date.now(),S;default:return e}},E=r("./src/reddit/actions/alpha.ts"),x={notFound:{users:[],subreddits:[]},error:null,pending:!1,showOptoutBanner:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments[1];switch(t.type){case E.e:case E.a:var r=t.paylod.error;return Object.assign({},e,{error:r,pending:!1});case E.f:case E.b:return Object.assign({},e,{error:null,pending:!0});case E.c:var n=t.payload.notFound;return Object.assign({},e,{error:null,pending:!1,notFound:n});case E.g:var a=t.payload.notFound;return Object.assign({},e,{error:null,pending:!1,notFound:a});case E.d:return Object.assign({},e,{showOptoutBanner:!!t.payload});default:return e}},I=r("./node_modules/babel-runtime/helpers/defineProperty.js"),S=r.n(I),k=r("./src/reddit/actions/apiRequestState.ts"),w={},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case k.d:case k.a:case k.b:var r=t.payload;return Object.assign({},e,S()({},r.apiRequestId,r));case k.c:var n=t.payload;if(!(n in e))return e;if(1===Object.keys(e).length)return w;var a=Object.assign({},e);return delete a[n],a;default:return e}},A=r("./src/reddit/actions/appeal.ts"),R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case A.e:case A.b:return!1;case A.a:return!0;case A.d:return!1;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case A.e:return!0;case A.b:case A.a:case A.d:return!1;default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case A.b:return!0;case A.e:case A.a:case A.d:return!1;default:return e}},N=Object(n.c)({error:R,pending:D,success:P}),L=Object(n.c)({api:N}),U=r("./src/reddit/actions/subredditModeration.ts"),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.e:case U.d:return null;case U.c:return t.payload;default:return e}},F=r("./src/reddit/models/SubredditModeration/index.ts"),G={},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments[1];switch(t.type){case U.e:var r=t.payload,n=r.subredditId,a=r.fetchedToken,s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,!0));case U.d:case U.c:var i=t.payload,c=i.subredditId,o=i.fetchedToken,u=Object(F.c)(c,o);return Object.assign({},e,S()({},u,!1));default:return e}},V=Object(n.c)({error:M,pending:B}),H={},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments[1];switch(t.type){case U.d:var r=t.payload,n=r.fetchedToken,a=r.subredditId,s=Object(F.c)(a,n);return Object.assign({},e,S()({},s,!0));default:return e}},K={},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments[1];switch(t.type){case U.d:var r=t.payload,n=r.subredditId,a=r.after;return S()({},n,a);default:return e}},Q=r("./node_modules/lodash/merge.js"),Y=r.n(Q),J={},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments[1];switch(t.type){case U.b:case U.d:var r=t.payload,n=r.subredditId,a=r.approvedSubmitters,s=S()({},n,a);return Y()(Object.assign({},e),s);case U.i:var i=t.payload,c=i.subredditId,o=i.userId,u=Object.assign({},e);return delete u[c][o],u;default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.h:case U.g:return null;case U.f:return t.payload;default:return e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case U.h:return!0;case U.g:case U.f:return!1;default:return e}},$=Object(n.c)({error:X,pending:Z}),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.h:return null;case U.g:var r=t.payload.approvedSubmitterIds[0];return r?t.payload.approvedSubmitters[r]:null;default:return e}},te=Object(n.c)({api:$,result:ee}),re=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),ne=r.n(re),ae={},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments[1];switch(t.type){case U.d:var r=t.payload,n=r.subredditId,a=r.approvedSubmitterIds;return e[n]?Object.assign({},e,S()({},n,[].concat(ne()(e[n]),ne()(a)))):Object.assign({},e,S()({},n,a));case U.i:var s=t.payload,i=s.subredditId,c=s.userId,o=e[i].filter(function(e){return e!==c});return S()({},i,o);case U.b:var u=t.payload,d=u.subredditId,l=u.approvedSubmitterIds[0];return l&&e[d]&&-1===e[d].indexOf(l)?S()({},d,[l].concat(ne()(e[d]))):e;default:return e}},ie=Object(n.c)({api:V,fetchedTokens:q,loadMore:W,models:z,search:te,userOrder:se}),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case u.a:return t.payload;default:return e}},oe=r("./src/reddit/actions/comment.ts"),ue=r("./src/reddit/actions/modQueue.ts"),de=r("./src/reddit/actions/page.ts"),le=r("./src/reddit/actions/pages/profileComments.ts"),pe=r("./src/reddit/actions/pages/profilePosts.ts"),be=r("./src/reddit/actions/profileConversations.ts"),fe=r("./src/reddit/actions/subreddit.ts"),Oe=r("./src/reddit/actions/userFlair.ts"),me=r("./src/reddit/models/User/index.ts"),ve={},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments[1];switch(t.type){case de.q:var r=t.payload.authorFlair;return r?Y()(Object.assign({},e),r):e;case oe.t:case de.s:case de.b:case le.b:case le.e:case pe.e:case pe.b:case be.e:case fe.l:var n=t.payload,a=n.account,s=n.authorFlair,i=n.userFlair,c=Y()(Object.assign({},e),s);if(!i||!a)return c;var o=Object.keys(i)[0];return o&&Object(me.d)(a)?(c[o]||(c[o]={}),c):c;case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:var u=t.payload.response,d=u.account,l=u.authorFlair,p=u.userFlair,b=Y()(Object.assign({},e),l);if(!p||!d)return b;var f=Object.keys(p)[0];return f&&Object(me.d)(d)?(b[f]||(b[f]={}),b):b;case Oe.i:var O=t.payload,m=O.subredditId,v=O.userName,g=O.applied,j=O.displaySettings.isUserEnabled;return Object.assign({},e,S()({},m,Object.assign({},e[m],S()({},v,j?g:null))));case Oe.a:var h=t.payload,y=h.subredditId,_=h.userName,E=h.applied,x=h.displaySettings.isEnabled;return Object.assign({},e,S()({},y,Object.assign({},e[y],S()({},_,x?E:null))));default:return e}},je=Object(n.c)({inContext:ce,models:ge}),he={},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments[1];switch(t.type){case d.e:case d.f:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,void 0));case d.d:var n=t.payload,a=n.subredditId,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},_e={},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments[1];switch(t.type){case d.e:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,!0));case d.f:case d.d:var n=t.payload.subredditId;return Object.assign({},e,S()({},n,!1));default:return e}},xe=Object(n.c)({error:ye,pending:Ee}),Te={},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments[1];switch(t.type){case d.h:case d.i:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,void 0));case d.g:var n=t.payload,a=n.subredditId,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Se={},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments[1];switch(t.type){case d.h:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,!0));case d.i:case d.g:var n=t.payload.subredditId;return Object.assign({},e,S()({},n,!1));default:return e}},we=Object(n.c)({error:Ie,pending:ke}),Ce=Object(n.c)({subreddit:xe,user:we}),Ae={},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments[1];switch(t.type){case d.f:case d.i:case f.d:var r=t.payload.badges;return Object.assign({},e,r);default:return e}},De=Object(n.c)({api:Ce,models:Re}),Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.m:case U.l:return null;case U.k:return t.payload;default:return e}},Ne={},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments[1];switch(t.type){case U.m:var r=t.payload,n=r.subredditId,a=r.fetchedToken,s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,!0));case U.l:case U.k:var i=t.payload,c=i.subredditId,o=i.fetchedToken,u=Object(F.c)(c,o);return Object.assign({},e,S()({},u,!1));default:return e}},Ue=Object(n.c)({error:Pe,pending:Le}),Me={},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments[1];switch(t.type){case U.l:var r=t.payload,n=r.fetchedToken,a=r.subredditId,s=Object(F.c)(a,n);return Object.assign({},e,S()({},s,!0));default:return e}},Ge=r("./src/reddit/actions/inContextModeration.ts"),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Ge.a:return t.payload;default:return e}},Ve={},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments[1];switch(t.type){case U.l:var r=t.payload,n=r.subredditId,a=r.after;return S()({},n,a);default:return e}},qe={},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments[1];switch(t.type){case U.j:case U.l:var r=t.payload,n=r.subredditId,a=r.bannedUsers,s=S()({},n,a);return Y()(Object.assign({},e),s);case U.q:var i=t.payload,c=i.subredditId,o=i.userId,u=Object.assign({},e);return delete u[c][o],u;default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.p:case U.o:return null;case U.n:return t.payload;default:return e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case U.p:return!0;case U.o:case U.n:return!1;default:return e}},Ye=Object(n.c)({error:We,pending:Qe}),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.p:case U.n:return null;case U.o:var r=t.payload.bannedUserIds[0];return r?t.payload.bannedUsers[r]:null;default:return e}},ze=Object(n.c)({api:Ye,result:Je}),Xe={},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments[1];switch(t.type){case U.l:var r=t.payload,n=r.subredditId,a=r.bannedUserIds;return e[n]?Object.assign({},e,S()({},n,[].concat(ne()(e[n]),ne()(a)))):Object.assign({},e,S()({},n,a));case U.q:var s=t.payload,i=s.subredditId,c=s.userId,o=e[i].filter(function(e){return e!==c});return S()({},i,o);case U.j:var u=t.payload,d=u.subredditId,l=u.bannedUserIds[0];return l&&e[d]&&-1===e[d].indexOf(l)?S()({},d,[l].concat(ne()(e[d]))):e;default:return e}},$e=Object(n.c)({api:Ue,fetchedTokens:Fe,inContext:Be,loadMore:He,models:Ke,search:ze,userOrder:Ze}),et=r("./src/reddit/actions/userBlocks.ts"),tt={},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments[1];switch(t.type){case et.f:case et.e:var r=t.payload.userId;return Object.assign({},e,S()({},r,null));case et.d:var n=t.payload,a=n.userId,s=n.type;return Object.assign({},e,S()({},a,s));default:return e}},nt={},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments[1];switch(t.type){case et.f:var r=t.payload.userId;return Object.assign({},e,S()({},r,!0));case et.e:case et.d:var n=t.payload.userId;return Object.assign({},e,S()({},n,!1));default:return e}},st=Object(n.c)({error:rt,pending:at}),it=Object(n.c)({api:st}),ct=r("./src/reddit/actions/ad.ts"),ot={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments[1];switch(t.type){case ct.a:return Object.assign({},e,{isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0});case de.t:case de.m:case de.h:return Object.assign({},e,{hasBrandSafetyBeenAssessed:!1});default:return e}},dt=r("./src/reddit/actions/category.ts"),lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case dt.b:case dt.c:return null;case dt.a:return t.payload.error||null;default:return e}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case dt.c:return!1;case dt.b:return!0;default:return e}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case dt.c:return!0;case dt.b:case dt.a:return!1;default:return e}},ft=Object(n.c)({error:lt,loaded:pt,pending:bt}),Ot={},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments[1];switch(t.type){case dt.f:case dt.e:var r=t.payload.categoryId,n=Object.assign({},e);return delete n[r],n;case dt.d:var a=t.payload,s=a.categoryId,i=a.error;return Object.assign({},e,S()({},s,i));default:return e}},vt={},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments[1];switch(t.type){case dt.f:var r=t.payload.categoryId;return Object.assign({},e,S()({},r,!1));case dt.e:var n=t.payload.categoryId;return Object.assign({},e,S()({},n,!0));default:return e}},jt={},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments[1];switch(t.type){case dt.f:var r=t.payload.categoryId;return Object.assign({},e,S()({},r,!0));case dt.e:case dt.d:var n=t.payload.categoryId;return Object.assign({},e,S()({},n,!1));default:return e}},yt=Object(n.c)({error:mt,loaded:gt,pending:ht}),_t=Object(n.c)({list:ft,subreddits:yt}),Et=r("./node_modules/lodash/isEmpty.js"),xt=r.n(Et),Tt=[],It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments[1];switch(t.type){case dt.b:var r=t.payload.categoryIds;return xt()(r)?e:r;default:return e}},St={},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments[1];switch(t.type){case dt.b:var r=t.payload.categories;return xt()(r)?e:Object.assign({},e,r);default:return e}},wt=r("./node_modules/lodash/forOwn.js"),Ct=r.n(wt),At=r("./src/reddit/helpers/name/index.ts"),Rt={},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments[1];switch(t.type){case dt.b:var r=t.payload.categories;if(xt()(r))return e;var n={};return Ct()(r,function(e){n[Object(At.f)(e.name)]=e.id}),Object.assign({},e,n);default:return e}},Pt=Object(n.c)({api:_t,ids:It,models:kt,nameToId:Dt}),Nt=r("./src/reddit/actions/chat/init.ts"),Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Nt.a:return!0;default:return e}},Ut=r("./src/reddit/actions/chat/sendbirdProxy.ts"),Mt=r("./src/reddit/actions/chat/subredditChannel.ts"),Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case Mt.b:case Mt.a:return!!t.payload.isUserSubredditChatEnabled;case Ut.a:return t.payload.user_subreddit_chat_enabled;default:return e}},Gt=r("./src/chat/actions/promo/constants.ts"),Bt={displaySubredditChatFtux:!1},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments[1];switch(t.type){case Gt.a:var r=t.payload;return Object.assign({},e,S()({},r,!0));case Gt.b:var n=t.payload;return Object.assign({},e,S()({},n,!1));default:return e}},Ht=r("./src/reddit/actions/chat/subredditSettings.ts"),qt={subredditId:null,bannedWords:"",domains:"",rateLimit:-1,regexes:[]},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments[1];switch(t.type){case Ht.a:return Object.assign({},t.payload);default:return e}},Wt=r("./src/reddit/actions/chat/unreadCount.ts"),Qt={apiError:null},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments[1];switch(t.type){case Wt.a.REQUEST_FAILED:var r=t.payload;return Object.assign({},Qt,{apiError:r});case Wt.a.REQUEST_SUCCESS:case Wt.a.REQUEST_PENDING:return Qt;default:return e}},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Wt.a.REQUEST_PENDING:return!0;case Wt.a.REQUEST_FAILED:case Wt.a.REQUEST_SUCCESS:return!1;default:return e}},zt=Object(n.c)({error:Yt,pending:Jt}),Xt={basicChannelCount:0,subredditChannelCount:0},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments[1];switch(t.type){case Wt.a.SYNC:case Wt.a.REQUEST_SUCCESS:var r=t.payload;return Object.assign({},r);default:return e}},$t=Object(n.c)({api:zt,count:Zt}),er=Object(n.c)({isInited:Lt,isUserSubredditChatEnabled:Ft,subredditSettings:Kt,promos:Vt,unread:$t}),tr=r("./src/reddit/actions/claimgold.ts"),rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case tr.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case tr.d:case tr.e:case tr.c:return null;default:return e}},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case tr.d:case tr.c:case tr.a:return!1;case tr.b:return!0;default:return e}},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case tr.b:case tr.d:case tr.c:case tr.a:return!1;case tr.f:return!0;default:return e}},sr=Object(n.c)({error:rr,pending:nr,showLoader:ar}),ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case tr.g:return t.payload;case tr.e:return"";default:return e}},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case tr.e:return!0;case tr.c:case tr.d:return!1;default:return e}},or=Object(n.c)({api:sr,code:ir,showModal:cr}),ur=r("./node_modules/lodash/get.js"),dr=r.n(ur),lr=r("./src/reddit/actions/pages/collectionCommentsPage.ts"),pr={},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=arguments[1];switch(t.type){case oe.d:var r=t.payload,n=r.commentsPageKey,a=r.commentId;return Object.assign({},e,S()({},n,Object.assign({},e[n],S()({},a,!dr()(e,[n,a],!1)))));case oe.e:var s=t.payload,i=s.commentsPageKey,c=s.commentId;return Object.assign({},e,S()({},i,Object.assign({},e[i],S()({},c,!1))));case oe.t:case lr.b:case de.b:var o=t.payload,u=o.key,d=o.shouldCollapse;if(!d)return e;var l=d.reduce(function(e,t){return Object.assign({},e,S()({},t,!0))},{});return Object.assign({},e,S()({},u,Object.assign({},e[u],l)));default:return e}},fr=r("./src/app/models/Draft.ts"),Or=r("./src/lib/makeDraftKey/index.ts"),mr=r("./src/reddit/models/PostCreationForm/index.ts"),vr={},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments[1];switch(t.type){case oe.p:var r=t.payload.draftKey;return Object.assign({},e,S()({},r,Object.assign({},e[r],{autofocusDisabled:!0})));case oe.j:var n=t.payload,a=n.draftKey,s=n.hasFocus;return e[a]?Object.assign({},e,S()({},a,Object.assign({},e[a],{hasFocus:s}))):e;case de.e:var i=t.payload.draftKey;return Object.assign({},e,S()({},i,{rteState:null,draftType:fr.a.replyToPost}));case lr.b:case lr.c:case de.d:var c=t.payload,o=c.postId,u=c.commentMode,d=Object(Or.a)(fr.a.replyToPost,o);return Object.assign({},e,S()({},d,{rteState:null,hasFocus:!1,commentMode:u,draftType:fr.a.replyToPost}));case oe.l:var l=t.payload,p=l.draftKey,b=l.content,f=l.editorMode;return e[p]?Object.assign({},e,S()({},p,Object.assign({},e[p],{commentMode:f,rteState:null,text:f===mr.h.MARKDOWN?b:null,rtJson:f===mr.h.RICH_TEXT?b:null}))):e;case oe.q:case oe.o:var O=t.payload,m=O.draftKey,v=O.formData;return Object.assign({},e,S()({},m,Object.assign({},v,{hasFocus:!0})));case oe.k:var g=t.payload,j=g.draftKey,h=g.formData;return null===e[j]?e:Object.assign({},e,S()({},j,Object.assign({},e[j],h)));case oe.f:var y=t.payload.draftKey,_=e[y];return _&&_.draftType===fr.a.replyToPost?Object.assign({},e,S()({},y,Object.assign({},_,{rteState:null,text:""}))):Object.assign({},e,S()({},y,null));case oe.F:var E=t.payload.draftKey,x=e[E];return Object.assign({},e,S()({},E,Object.assign({},x,{rteState:null,text:""})));case oe.E:case oe.A:var T=t.payload.draftKey;return Object.assign({},e,S()({},T,null));case oe.D:var I=t.payload,k=I.draftKey,w=I.draft;return Object.assign({},e,S()({},k,w));default:return e}},jr={},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments[1];switch(t.type){case oe.h:var r=t.payload.commentListNodeId;return Object.assign({},e,S()({},r,!0));case oe.i:var n=t.payload.commentListNodeId;return Object.assign({},e,S()({},n,!e[n]));default:return e}},yr={},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments[1];switch(t.type){case oe.c:var r=t.payload,n=r.commentListNodeIds,a=r.commentsPageKey,s=n.reduce(function(t,r){return t[r]=!dr()(e,[a,r],!1),t},{});return Object.assign({},e,S()({},a,Object.assign({},e[a],s)));case oe.b:var i=t.payload,c=i.commentListNodeIds,o=i.commentsPageKey,u=c.reduce(function(e,t){return e[t]=!0,e},{});return Object.assign({},e,S()({},o,Object.assign({},e[o],u)));case oe.t:case lr.b:case de.b:var d=t.payload,l=d.key,p=d.shouldHide;if(!p)return e;var b=p.reduce(function(e,t){return e[t]=!0,e},{});return Object.assign({},e,S()({},l,Object.assign({},e[l],b)));default:return e}},Er={},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,t=arguments[1];switch(t.type){case oe.q:var r=t.payload,n=r.commentId,a=r.commentsPageKey;return Object.assign({},e,S()({},a,Object.assign({},e[a],S()({},n,!0))));case oe.g:case oe.y:case oe.A:var s=t.payload,i=s.commentId,c=s.commentsPageKey;return Object.assign({},e,S()({},c,Object.assign({},e[c],S()({},i,!1))));default:return e}},Tr=r("./node_modules/lodash/isEqual.js"),Ir=r.n(Tr),Sr=r("./node_modules/lodash/mergeWith.js"),kr=r.n(Sr),wr=r("./node_modules/lodash/omit.js"),Cr=r.n(wr),Ar=r("./src/reddit/actions/gild.ts"),Rr=r("./src/reddit/actions/pages/profileOverview.ts"),Dr=r("./src/reddit/actions/profileOverviewChrono.ts"),Pr=r("./src/reddit/actions/vote.ts"),Nr=r("./src/reddit/helpers/isComment.ts"),Lr=r("./src/reddit/models/Gild/index.tsx"),Ur=r("./src/reddit/models/ModQueue/index.ts"),Mr=r("./src/reddit/models/Vote/index.ts"),Fr={},Gr=["next","prev","depth"],Br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,t=arguments[1];switch(t.type){case oe.E:case oe.F:var r=t.payload.comment;return Object.assign({},e,S()({},r.id,r));case oe.t:case lr.b:case de.b:case le.b:case le.e:case Rr.b:case Rr.e:case be.b:case be.e:case Dr.b:var n=Object.assign({},e);for(var a in t.payload.comments){var s=e[a],i=t.payload.comments[a];s?Ir()(s,i)||(i.postAuthor||(i.postAuthor=s.postAuthor),i.postTitle||(i.postTitle=s.postTitle),n[a]=Cr()(i,Gr)):n[a]=Cr()(i,Gr)}return n;case oe.x:var c=t.payload.id;return Object.assign({},e,S()({},c,Object.assign({},e[c],{isDeleted:!0})));case oe.m:var o=t.payload;return kr()(Object.assign({},e),o,function(e,t){return Object.assign({},e,t)});case Pr.a:var u=t.payload,d=u.id,l=u.vote,p=e[d];return p?Object.assign({},e,S()({},d,Object(Mr.c)(p,l))):e;case Ar.d:var b=t.payload,f=b.gildings,O=b.id,m=e[O];return m?Object.assign({},e,S()({},O,Object(Lr.b)(m,f))):e;case U.l:var v=t.payload.comments;return Object.assign({},e,v);case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:var g=t.payload.response.comments;return Object.assign({},e,g);case ue.c:case ue.s:var j=t.payload,h=j.operation,y=j.ids,_=j.username,E=j.options,x=y.filter(function(e){return Object(Nr.a)(e)}),T=Object(Ur.d)(e,h,x,_,E);return kr()(Object.assign({},e),T,function(e,t){return Object.assign({},e,t)});default:return e}},Vr={},Hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments[1];switch(t.type){case oe.o:var r=t.payload,n=r.parentCommentId,a=r.commentsPageKey;return Object.assign({},e,S()({},a,Object.assign({},e[a],S()({},n,!0))));case oe.n:case oe.E:var s=t.payload,i=s.parentCommentId,c=s.commentsPageKey;return Object.assign({},e,S()({},c,Object.assign({},e[c],S()({},i,!1))));default:return e}},qr={},Kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments[1];switch(t.type){case oe.n:case oe.D:case oe.z:case oe.F:case oe.E:case oe.A:var r=t.payload.draftKey;return Object.assign({},e,S()({},r,null));case oe.C:case oe.y:var n=t.payload,a=n.draftKey,s=n.error;return Object.assign({},e,S()({},a,s));case oe.v:var i=t.payload,c=i.id,o=i.error;return Object.assign({},e,S()({},c,o));case oe.w:case oe.x:var u=t.payload.id;return Object.assign({},e,S()({},u,null));default:return e}},Wr={},Qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr,t=arguments[1];switch(t.type){case oe.D:case oe.z:var r=t.payload.draftKey;return Object.assign({},e,S()({},r,!0));case oe.E:case oe.F:case oe.A:case oe.C:case oe.y:var n=t.payload.draftKey;return Object.assign({},e,S()({},n,!1));case oe.w:var a=t.payload.id;return Object.assign({},e,S()({},a,!0));case oe.x:case oe.v:var s=t.payload.id;return Object.assign({},e,S()({},s,!1));default:return e}},Yr=Object(n.c)({error:Kr,pending:Qr}),Jr=r("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),zr=Object(n.c)({collapsed:br,drafts:gr,focused:hr,hidden:_r,isEditing:xr,models:Br,replyFormOpen:Hr,submit:Yr,visitHighlightFilter:Jr.b}),Xr={},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=arguments[1];switch(t.type){case lr.d:case lr.b:case de.d:case de.b:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case lr.a:case de.a:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s||{}));default:return e}},$r={},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r,t=arguments[1];switch(t.type){case lr.c:case de.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));default:return e}},tn={},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments[1];switch(t.type){case lr.d:case de.d:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case lr.b:case lr.a:case de.b:case de.a:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},nn=Object(n.c)({error:Zr,fullyLoaded:en,pending:rn}),an=r("./node_modules/lodash/mapValues.js"),sn=r.n(an),cn=r("./src/reddit/helpers/commentList/index.ts"),on=r("./src/reddit/models/Comment/index.ts"),un={};function dn(e){var t=e;return sn()(t,function(e){return{depth:e.depth,next:e.next,prev:e.prev}})}var ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments[1];switch(t.type){case oe.t:var r=t.payload,n=r.comments,a=r.commentLists,s=r.continueThreads,i=r.key,c=r.moreCommentsItem,o=r.moreComments,u=a[c.postId],d=e[i],l={},p=d[c.id];if(p.prev){var b=p.prev.id;l[b]=Object.assign({},d[b],{next:u.head||p.next})}if(p.next){var f=p.next.id;l[f]=Object.assign({},d[f],{prev:u.tail||p.prev})}if(u.head&&u.tail){var O=Object(cn.c)({commentLink:u.head,commentsDict:n,moreCommentsDict:o,continueThreadDict:s}),m=Object(cn.c)({commentLink:u.tail,commentsDict:n,moreCommentsDict:o,continueThreadDict:s});O.prev=p.prev,m.next=p.next}return Object.assign({},e,S()({},i,Object.assign({},e[i],dn(n),dn(s),dn(o),l)));case lr.b:case de.b:var v=t.payload,g=v.comments,j=v.continueThreads,h=v.key,y=v.moreComments;return Object.assign({},e,S()({},h,Object.assign({},e[h],dn(g),dn(j),dn(y))));case oe.F:var _=t.payload,E=_.comment,x=_.commentsPageKey,T=_.headCommentId,I=e[x],k={},w=null;return T&&(k[T]=Object.assign({},I[T],{prev:Object(on.c)(E.id)}),w=Object(on.c)(T)),Object.assign({},e,S()({},x,Object.assign({},e[x],k,S()({},E.id,{depth:0,next:w,prev:null}))));case oe.E:var C=t.payload,A=C.comment,R=C.commentsPageKey,D=C.parentCommentId,P=C.depth,N=e[R],L={},U=null,M=N[D].next;return M&&(L[M.id]=Object.assign({},N[M.id],{prev:Object(on.c)(A.id)}),U=Object(on.c)(M.id)),L[D]=Object.assign({},N[D],{next:Object(on.c)(A.id)}),Object.assign({},e,S()({},R,Object.assign({},e[R],L,S()({},A.id,{depth:P,next:U,prev:Object(on.c)(D)}))));default:return e}},pn={},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments[1];switch(t.type){case oe.F:var r=t.payload,n=r.comment,a=r.commentsPageKey;return Object.assign({},e,S()({},a,n.id));case lr.b:case de.b:var s=t.payload,i=s.commentLists,c=s.key,o=s.postId;return Object.assign({},e,S()({},c,i[o]&&i[o].head?i[o].head.id:null));default:return e}},fn={},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments[1];switch(t.type){case lr.d:case lr.b:case lr.c:case de.d:var r=t.payload,n=r.key,a=r.postId;return Object.assign({},e,S()({},n,a));case oe.F:var s=t.payload,i=s.parentId,c=s.commentsPageKey;return e[c]?e:Object.assign({},e,S()({},c,i));default:return e}},mn=Object(n.c)({api:nn,keyToCommentThreadLinkSets:ln,keyToHeadCommentId:bn,keyToPostId:On}),vn=r("./src/reddit/actions/contentGate.ts"),gn={},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments[1];switch(t.type){case vn.a:var r=t.payload.subredditName;if(r){if(e[r]){var n=S()({},r,{goldSubreddit:!0});return kr()(Object.assign({},e),Object.assign({},n))}return Object.assign({},e,S()({},r,{goldSubreddit:!0}))}return e;case vn.b:var a=t.payload,s=a.subredditDescription,i=a.subredditName;if(i){if(e[i]){var c=S()({},i,{privateSubreddit:!0,subredditDescription:s});return kr()(Object.assign({},e),Object.assign({},c))}return Object.assign({},e,S()({},i,{privateSubreddit:!0,subredditDescription:s}))}return e;case vn.c:var o=t.payload,u=o.subredditName,d=o.quarantineRequiresEmail,l=o.quarantineMessage;if(u){if(e[u]){var p=S()({},u,{quarantinedSubreddit:!0,quarantineRequiresEmail:d});return kr()(Object.assign({},e),Object.assign({},p))}return Object.assign({},e,S()({},u,{quarantinedSubreddit:!0,quarantineRequiresEmail:d,quarantineMessage:l}))}return e;case vn.e:var b=t.payload,f=b.subredditName,O=b.banMessage;if(f){if(e[f]){var m=S()({},f,{subredditBanned:!0,subredditBanMessage:O});return kr()(Object.assign({},e),Object.assign({},m))}return Object.assign({},e,S()({},f,{subredditBanned:!0,subredditBanMessage:O}))}return e;case vn.f:var v=t.payload.subredditName;if(v){if(e[v]){var g=S()({},v,{subredditDoesNotExist:!0});return kr()(Object.assign({},e),Object.assign({},g))}return Object.assign({},e,S()({},v,{subredditDoesNotExist:!0}))}return e;default:return e}},hn={},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments[1];switch(t.type){case oe.t:case lr.b:case de.b:return Object.assign({},e,t.payload.continueThreads);default:return e}},_n=Object(n.c)({models:yn}),En=r("./src/reddit/actions/postCollection.ts"),xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case i.b:case En.d:case En.c:case En.j:case En.i:return null;case En.b:case En.h:return t.payload;default:return e}},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case En.c:case En.i:return!0;case En.d:case En.b:case En.j:case En.h:return!1;default:return e}},In=Object(n.c)({error:xn,pending:Tn}),Sn=Object(n.c)({createOrUpdate:In}),kn=r("./src/reddit/actions/postDraft.ts"),wn={},Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments[1];switch(t.type){case kn.c:case kn.b:var r=t.payload.draftId;return Object.assign({},e,S()({},r,null));case kn.a:var n=t.payload,a=n.apiError,s=n.draftId;return Object.assign({},e,S()({},s,a));default:return e}},An={},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments[1];switch(t.type){case kn.b:var r=t.payload.draftId;return Object.assign({},e,S()({},r,!0));case kn.c:case kn.a:var n=t.payload.draftId;return Object.assign({},e,S()({},n,!1));default:return e}},Dn=Object(n.c)({error:Cn,pending:Rn}),Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case kn.d:return t.payload;case kn.f:case kn.e:return null;default:return e}},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case kn.f:return!0;case kn.e:case kn.d:return!1;default:return e}},Ln=Object(n.c)({error:Pn,pending:Nn}),Un={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments[1];switch(t.type){case kn.l:case kn.j:return Un;case kn.i:var r=t.payload;return Object.assign({},Un,{apiError:r});case kn.m:var n=t.payload;return Object.assign({},Un,{validationError:n});case kn.k:var a=t.payload;return Object.assign({},Un,{submitValidationError:a});case kn.h:return Object.assign({},Un,{needsCaptcha:!0});default:return e}},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case kn.j:return!0;case kn.l:case kn.i:case kn.m:case kn.k:case kn.h:return!1;default:return e}},Gn=Object(n.c)({error:Mn,pending:Fn}),Bn=Object(n.c)({deleteDraft:Dn,listing:Ln,save:Gn}),Vn=r("./src/reddit/actions/postCreation/editorContent.ts"),Hn={},qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments[1];switch(t.type){case Vn.c:var r=t.payload;return Object.assign({},e,S()({},r,!0));case Vn.b:var n=t.payload;return Object.assign({},e,S()({},n,!1));default:return e}},Kn=Object(n.c)({pending:qn}),Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.s:case b.t:case b.d:case b.e:case b.f:case b.j:case b.k:case b.n:case b.H:return null;case b.r:return t.payload;default:return e}},Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case b.s:return!0;case b.t:case b.r:return!1;default:return e}},Yn=Object(n.c)({error:Wn,pending:Qn}),Jn=Object(n.c)({converting:Kn,mediaUpload:Yn}),zn=r("./src/reddit/actions/pages/postCreation.ts"),Xn={},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments[1];switch(t.type){case zn.b:case zn.c:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case zn.a:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},$n={},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments[1];switch(t.type){case zn.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!1));case zn.b:var n=t.payload.key;return Object.assign({},e,S()({},n,!0));default:return e}},ta={},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments[1];switch(t.type){case zn.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case zn.b:case zn.a:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},na=Object(n.c)({error:Zn,fetched:ea,pending:ra}),aa={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments[1];switch(t.type){case b.I:case b.w:case b.d:case b.e:case b.f:case b.j:case b.k:case b.n:case b.H:case b.A:return aa;case b.i:return t.payload.isContentChanged?aa:e;case b.o:var r=t.payload;return Object.assign({},aa,{apiError:r});case b.R:var n=t.payload;return Object.assign({},aa,{validationError:n});case b.E:var a=t.payload;return Object.assign({},aa,{submitValidationError:a});case b.a:return Object.assign({},aa,{needsCaptcha:!0});case b.y:return Object.assign({},aa,{pollError:t.payload});default:return e}},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case b.w:return!0;case b.I:case b.o:case b.R:case b.E:case b.y:case b.a:return!1;default:return e}},ca=Object(n.c)({error:sa,pending:ia}),oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.x:case b.C:return null;case b.m:return t.payload;default:return e}},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case b.x:return!0;case b.m:case b.l:return!1;default:return e}},da=Object(n.c)({error:oa,pending:ua}),la=Object(n.c)({submit:ca,update:da}),pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case b.H:case b.F:case b.G:return null;default:return e}},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case b.G:return!0;case b.F:case b.H:return!1;default:return e}},fa=Object(n.c)({error:pa,pending:ba}),Oa=Object(n.c)({change:fa}),ma=Object(n.c)({collection:Sn,draft:Bn,editor:Jn,page:na,post:la,subreddit:Oa}),va=r("./src/reddit/actions/pages/postDraft.ts"),ga={},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments[1];switch(t.type){case kn.e:return t.payload.postDrafts||ga;case kn.c:var r=e,n=t.payload.draftId;return Cr()(r,n);case b.I:var a=t.payload.draftId;return a?Cr()(e,a):e;case va.a:return t.payload.drafts;default:return e}},ha=r("./src/lib/constants/index.ts"),ya=function(e){if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},_a=function(e){if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams},Ea=r("./src/reddit/models/PostDraft/index.ts"),xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case b.d:return t.payload||"";case b.A:return"";case p.a:if(ya(t)!==ha.lb.POST_CREATION)return"";var r=_a(t);return r&&r.url?r.url||"":e;case kn.g:var n=t.payload;return n.kind===Ea.b.Link&&n.body||"";default:return e}},Ta=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments[1];switch(r.type){case b.e:return r.payload||"";case b.A:case b.D:return"";case b.J:return r.payload.editorMode===mr.h.MARKDOWN?r.payload.content||"":t;case p.a:if(ya(r)!==ha.lb.POST_CREATION)return"";var n=_a(r);return n&&n.text?(e=n.text)?e.replace(/\+/g," "):"":t;case kn.g:var a=r.payload;return a.kind===Ea.b.Markdown&&a.body||"";default:return t}},Ia=r("./src/reddit/actions/upload.ts"),Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.f:return t.payload||null;case b.A:return null;case p.a:return ya(t)!==ha.lb.POST_CREATION?null:e;case kn.g:return null;case Ia.a:case Ia.f:return t.payload.key===mr.l?null:e;default:return e}},ka=r("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),wa=ka.a.createInitial,Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa(),t=arguments[1];switch(t.type){case b.i:return t.payload.rteState;case b.A:return ka.a.createInitial();case b.J:var r=t.payload;return r.editorMode===mr.h.RICH_TEXT&&r.editorKey===mr.g.POST_CREATION?ka.a.createInitial(r.content):e;case p.a:return ya(t)!==ha.lb.POST_CREATION?ka.a.createInitial():e;case kn.g:var n=t.payload;return n.kind===Ea.b.RichText?ka.a.createInitial(n.body):ka.a.createInitial();default:return e}},Aa=Object(n.c)({link:xa,markdown:Ta,media:Sa,rte:Ca}),Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.b:return t.payload||null;case b.A:case kn.g:case b.H:return null;case p.a:return ya(t)===ha.lb.POST_CREATION?e:null;default:return e}},Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.c:return t.payload||null;case b.A:return null;case p.a:return ya(t)===ha.lb.POST_CREATION?e:null;case kn.g:return t.payload.flair||null;default:return e}},Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case b.L:return t.payload||!1;case b.A:return!1;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;default:return e}},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case b.M:return t.payload||!1;case b.A:return!1;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;case kn.g:return t.payload.isNSFW||!1;default:return e}},La=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case b.N:return t.payload||!1;case b.A:return!1;case b.H:return!!t.payload.name&&e;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;case kn.g:return t.payload.isOriginalContent||!1;default:return e}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case b.A:return!1;case kn.n:return t.payload;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;case kn.g:return t.payload.isPublicLink;default:return e}},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case b.O:return t.payload||!1;case b.A:return!1;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;case kn.g:return t.payload.isSpoiler||!1;default:return e}},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.G:case b.H:return t.payload;case b.F:case p.a:return null;default:return e}},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.g:return t.payload||null;case b.A:return null;case p.a:return ya(t)===ha.lb.POST_CREATION?e:null;case kn.g:return t.payload.contentCategory||null;default:return e}},Ba=r("./src/reddit/actions/polls.ts"),Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Ba.a:return Object.assign({},t.payload);case l.c:case b.A:return null;default:return e}},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1],r=t.type,n=t.payload;switch(r){case b.P:return n||!1;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;case kn.g:return!1;default:return e}},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case b.h:return t.payload||"";case p.a:return ya(t)!==ha.lb.POST_CREATION?"":e;default:return e}},Ka=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case b.A:return!0;case b.Q:return t.payload;case p.a:return ya(t)!==ha.lb.POST_CREATION||e;case kn.g:return t.payload.sendReplies;default:return e}},Wa=ha.Bb.POST,Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments[1];switch(t.type){case b.A:return Wa;case b.p:return ha.Bb.CROSSPOST;case b.j:return t.payload||Wa;case p.a:if(ya(t)!==ha.lb.POST_CREATION)return Wa;var r=_a(t);if(!r)return e;var n=r.title,a=void 0===n?"":n,s=r.url,i=void 0===s?"":s,c=r.text,o=void 0===c?"":c,u=r.media,d=void 0!==u&&u,l=r.selftext,f=void 0!==l&&l,O=a&&!o&&!f;return d?ha.Bb.MEDIA:i||O?ha.Bb.LINK_ONLY:o||f?ha.Bb.POST:e;case kn.g:var m=t.payload;return Ea.a[m.kind];default:return e}},Ya=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments[1];switch(r.type){case b.p:return r.payload.postTitle||"";case b.k:return r.payload||"";case b.z:var n=r.payload.title;return t||n||"";case b.A:return"";case p.a:if(ya(r)!==ha.lb.POST_CREATION)return"";var a=_a(r);return a&&a.title?(e=a.title)?e.replace(/\+/g," "):"":t;case kn.g:return r.payload.title;default:return t}},Ja=Object(n.c)({body:Aa,eventSchedule:Ra,flair:Da,isGov:Pa,isNSFW:Na,isOC:La,isPublicLink:Ua,isSpoiler:Ma,nextSubreddit:Fa,ocCategory:Ga,postToTwitter:Ha,polls:Va,recaptcha:qa,sendReplies:Ka,submissionType:Qa,title:Ya}),za=r("./src/reddit/actions/postCreation/submitValidation.ts"),Xa={title:null,body:null,link:null,flair:null},Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments[1];switch(t.type){case b.c:case b.d:case b.e:return e[ha.Ra.BODY]?Object.assign({},e,S()({},ha.Ra.BODY,null)):e;case b.i:var r=t.payload.isContentChanged;return e[ha.Ra.BODY]&&r?Object.assign({},e,S()({},ha.Ra.BODY,null)):e;case b.k:return e[ha.Ra.TITLE]?Object.assign({},e,S()({},ha.Ra.TITLE,null)):e;case za.a:var n=t.payload,a=n.field,s=n.msg;return Object.assign({},e,S()({},a,s));case za.b:var i=t.payload;return Object.assign({},e,S()({},i,null));case b.n:var c=t.payload;return c?Object.assign({},e,S()({},c,null)):Xa;case b.E:var o=t.payload;if(o&&o.fields&&o.fields.length){var u=o.fields[0],d=u.field,l=u.msg;return Object.assign({},e,S()({},d,l))}return e;case p.a:return ya(t)!==ha.lb.POST_CREATION?Xa:e;default:return e}},$a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case b.b:case b.c:case b.d:case b.e:case b.f:case b.g:case b.k:case b.j:case b.M:case b.N:case b.O:case kn.n:case b.Q:return!0;case b.i:return!!t.payload.isContentChanged||e;case b.I:return!1;case b.K:return t.payload;case p.a:return ya(t)===ha.lb.POST_CREATION&&e;case b.A:case kn.l:case kn.g:return!1;default:return e}},es=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.u:return e===t.payload?null:t.payload||null;case i.b:return t.payload?null:e;case p.a:return ya(t)!==ha.lb.POST_CREATION?null:e;default:return e}},ts=r("./src/reddit/routes/postCreation/index.ts"),rs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1],r=t.type,n=t.payload;switch(r){case b.v:return n;case b.G:return"";case p.a:return ya(t)===ha.lb.POST_CREATION&&Object(ts.d)(t.payload.routeMatch.route.path)?e:null;default:return e}},ns=mr.p.Post,as=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns,t=arguments[1];switch(t.type){case b.w:return mr.p.Post;case b.B:return t.payload;case kn.j:return mr.p.Draft;case p.a:return ya(t)!==ha.lb.POST_CREATION?ns:e;default:return e}},ss=Object(n.c)({fieldValidation:Za,isChanged:$a,modalId:es,ocCategory:rs,submitMode:as}),is=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case b.C:return t.payload.editorMode===mr.h.MARKDOWN?t.payload.postContent||"":e;case b.D:return"";case b.J:return t.payload.editorMode===mr.h.MARKDOWN?t.payload.content||"":e;default:return e}},cs=r("./node_modules/babel-runtime/helpers/typeof.js"),os=r.n(cs),us=ka.a.createInitial,ds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:us(),t=arguments[1];switch(t.type){case b.D:return ka.a.createInitial();case b.C:var r=t.payload;return r.editorMode===mr.h.RICH_TEXT&&"object"===os()(r.postContent)?ka.a.createInitial(r.postContent,r.mediaMetadata):e;case b.J:var n=t.payload;return n.editorMode===mr.h.RICH_TEXT&&n.editorKey===mr.g.POST_EDITING?ka.a.createInitial(n.content):e;default:return e}},ls=Object(n.c)({markdown:is,rte:ds}),ps=mr.h.RICH_TEXT,bs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps,t=arguments[1];switch(t.type){case b.C:return t.payload.editorMode;case b.D:return ps;case b.J:return t.payload.editorMode;default:return e}},fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case b.C:return t.payload.postId;case b.D:return null;default:return e}},Os=Object(n.c)({draft:ls,editorMode:bs,postId:fs}),ms=Object(n.c)({api:ma,drafts:ja,formData:Ja,formState:ss,postEditing:Os}),vs=r("./src/reddit/actions/dashboard.ts"),gs={selectedComponent:null,subredditPending:!1,subredditLoaded:{}},js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gs,t=arguments[1];switch(t.type){case vs.a:return Object.assign({},e,{selectedComponent:t.payload});case vs.c:var r=t.payload,n=e.subredditLoaded[r];return Object.assign({},e,{subredditPending:!n,subredditLoaded:Object.assign({},e.subredditLoaded,S()({},r,n||!1))});case vs.b:var a=t.payload;return Object.assign({},e,{subredditPending:!1,subredditLoaded:Object.assign({},e.subredditLoaded,S()({},a,!0))});default:return e}},hs=r("./src/reddit/actions/discoveryUnit.ts"),ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case hs.b:case hs.c:return null;case hs.a:return t.payload.error||null;default:return e}},_s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case hs.c:return!1;case hs.b:return!0;default:return e}},Es=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case hs.c:return!0;case hs.b:case hs.a:return!1;default:return e}},xs=Object(n.c)({error:ys,loaded:_s,pending:Es}),Ts=Object(n.c)({list:xs}),Is={},Ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Is,t=arguments[1];switch(t.type){case hs.b:var r=t.payload.discoveryUnits;return xt()(r)?e:Object.assign({},e,r);default:return e}},ks={},ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ks,t=arguments[1];switch(t.type){case hs.b:var r=t.payload.discoveryUnits;if(xt()(r))return e;var n={};return Ct()(r,function(e){n[Object(At.f)(e.unitName)]=e.id}),Object.assign({},e,n);default:return e}},Cs=Object(n.c)({api:Ts,models:Ss,nameToId:ws}),As=r("./src/reddit/actions/emoji.ts"),Rs=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Ds={},Ps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds,t=arguments[1];switch(t.type){case As.e:case As.c:return e;case As.f:return t.payload;case As.d:var r=t.payload,n=r.emojiName,a=r.subredditId,s=e[a],i=n,c=(s[i],Rs(s,["symbol"===(void 0===i?"undefined":os()(i))?i:i+""]));return Object.assign({},e,S()({},a,c));case As.g:var o=t.payload,u=e[o.subredditId],d={url:o.url,name:o.name},l=Object.assign({},u,S()({},o.name,d));return Object.assign({},e,S()({},o.subredditId,l));default:return e}},Ns=r("./src/reddit/actions/externalAccount.ts"),Ls={},Us=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ls,t=arguments[1];switch(t.type){case Ns.e:case Ns.f:var r=t.payload.provider;return Object.assign({},e,S()({},r,null));case Ns.d:var n=t.payload,a=n.provider,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Ms={},Fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms,t=arguments[1];switch(t.type){case Ns.e:var r=t.payload.provider;return Object.assign({},e,S()({},r,!0));case Ns.f:case Ns.d:var n=t.payload.provider;return Object.assign({},e,S()({},n,!1));default:return e}},Gs=Object(n.c)({error:Us,pending:Fs}),Bs={},Vs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs,t=arguments[1];switch(t.type){case Ns.l:case Ns.k:var r=t.payload.provider;return Object.assign({},e,S()({},r,null));case Ns.j:var n=t.payload,a=n.provider,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Hs={},qs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs,t=arguments[1];switch(t.type){case Ns.b:var r=t.payload.provider;return Object.assign({},e,S()({},r,!0));case Ns.c:case Ns.a:var n=t.payload.provider;return Object.assign({},e,S()({},n,!1));default:return e}},Ks=Object(n.c)({error:Vs,pending:qs}),Ws={},Qs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws,t=arguments[1];switch(t.type){case Ns.i:case Ns.h:var r=t.payload.subredditName;return Object.assign({},e,S()({},r,null));case Ns.g:var n=t.payload,a=n.subredditName,s=n.apiError;return Object.assign({},e,S()({},a,s));default:return e}},Ys={},Js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys,t=arguments[1];switch(t.type){case Ns.i:var r=t.payload.subredditName;return Object.assign({},e,S()({},r,!0));case Ns.h:case Ns.g:var n=t.payload.subredditName;return Object.assign({},e,S()({},n,!1));default:return e}},zs=Object(n.c)({error:Qs,pending:Js}),Xs={},Zs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs,t=arguments[1];switch(t.type){case Ns.l:case Ns.k:var r=t.payload.username;return Object.assign({},e,S()({},r,null));case Ns.j:var n=t.payload,a=n.username,s=n.apiError;return Object.assign({},e,S()({},a,s));default:return e}},$s={},ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$s,t=arguments[1];switch(t.type){case Ns.l:var r=t.payload.username;return Object.assign({},e,S()({},r,!0));case Ns.k:case Ns.j:var n=t.payload.username;return Object.assign({},e,S()({},n,!1));default:return e}},ti=Object(n.c)({error:Zs,pending:ei}),ri=Object(n.c)({connect:Gs,disconnect:Ks,user:ti,subreddit:zs}),ni={},ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni,t=arguments[1];switch(t.type){case Ns.h:var r=t.payload,n=r.subredditName,a=r.accountsData;return Object.assign({},e,S()({},n,a));default:return e}},si={},ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=arguments[1];switch(t.type){case Ns.k:var r=t.payload,n=r.username,a=r.accountsData;return Object.assign({},e,S()({},n,a));case Ns.c:var s=t.payload,i=s.username,c=s.provider,o=e[i];return o&&o[c]?Object.assign({},e,S()({},i,Cr()(o,c))):e;default:return e}},ci=Object(n.c)({api:ri,user:ii,subreddit:ai}),oi=r("./src/reddit/featureFlags/index.ts"),ui=r("./src/lib/truthyString/index.ts"),di=oi.a.reduce(function(e,t){return e[t.toLowerCase()]=t,e},{}),li=oi.a.reduce(function(e,t){return e[t]=null,e},{}),pi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=arguments[1];switch(t.type){case p.a:var r=_a(t);if(void 0!==r){var n={};for(var a in r){var s=Object(oi.g)(a);if(s){var i=di[s.toLowerCase()];if(i){var c=r[a],o="string"!=typeof c||Object(ui.a)(c);n[i]=o}}}if(Object.keys(n).length>0)return Object.assign({},e,n)}return e;case oi.b:var u=t.payload,d=u.featureName,l=u.currentValue;return l===e[d]?e:Object.assign({},e,S()({},d,l));case oi.c:var b=t.payload,f=b.featureName,O=b.currentValue;return Object.assign({},e,S()({},f,!O));default:return e}},bi=Object(n.c)({overrides:pi}),fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Ar.b:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case Ar.a:case p.a:case Ar.f:case Ar.d:return null;default:return e}},Oi=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Ar.a:case p.a:case Ar.d:case Ar.b:return!1;case Ar.c:return!0;default:return e}},mi=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Ar.c:case Ar.a:case p.a:case Ar.d:case Ar.b:return!1;case Ar.j:return!0;default:return e}},vi=Object(n.c)({error:fi,pending:Oi,showLoader:mi}),gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Ar.e:case Ar.f:return t.payload;case Ar.d:case p.a:case Ar.a:return null;default:return e}},ji=Lr.a.Gid2,hi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji,t=arguments[1];switch(t.type){case Ar.g:return t.payload;case Ar.f:return ji;default:return e}},yi=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case Ar.h:return t.payload;case Ar.f:return!1;default:return e}},_i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case Ar.i:return t.payload;case Ar.f:return!0;default:return e}},Ei=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Ar.e:return!0;default:return e}},xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Ar.k:return t.payload;case Ar.f:return"";default:return e}},Ti=Object(n.c)({api:vi,gildModalThingId:gi,gildType:hi,includeMessage:yi,isAnonymous:_i,isIframed:Ei,message:xi}),Ii=r("./src/reddit/actions/goldClickTest.ts"),Si=r("./src/reddit/models/GoldClickTest/index.ts"),ki=Si.b.Poll,wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki;switch(arguments[1].type){case Ii.c:return Si.b.EmailSubmit;case Ii.d:return Si.b.FeedbackSubmit;case Ii.b:case Ii.e:case Ii.f:return null;default:return e}},Ci={},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci,t=arguments[1];switch(t.type){case Ii.a:var r=t.payload;if(!r)return Ci;var n=Si.a.getTestsById();for(var a in n){var s=n[a],i=r[s.name];if(i&&"experiment_id"in i&&i.experiment_id.toString()===a){var c=Si.a.getTestVariant(i.experiment_id,i.variant);return c?{id:i.experiment_id,name:s.name,variant:c}:Ci}}return Ci;default:return e}},Ri=Object(n.c)({testConfig:Ai,modalScreen:wi}),Di=r("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),Pi=r("./src/reddit/actions/goldPurchaseModals/payment.ts"),Ni=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment";switch(arguments[1].type){case Di.b:return"selectPayment";case Pi.c:return"paymentCompleted";default:return e}},Li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Di.a:case Ar.a:case Ar.d:return null;case Di.c:return t.payload&&t.payload.thingId?t.payload.thingId:e;default:return e}},Ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Di.b:return t.payload.coinPackage;case Pi.c:case Di.a:return null;default:return e}},Mi=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Di.b:return!0;case Ar.f:case p.a:case Di.a:return!1;default:return e}},Fi=Object(n.c)({activePage:Ni,gildThingId:Li,purchasePackage:Ui,showModal:Mi}),Gi=r("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),Bi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Pi.b:return t.payload.cardName;case Pi.e:return t.payload!==ha.gb?"":e;case Di.a:case Gi.a:case p.a:return"";default:return e}},Vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Pi.g:var r=t.payload,n=r.error;return"cardCvc"===r.elementType?n&&n.message||"":e;case Pi.e:return t.payload!==ha.gb?"":e;case Di.a:case Gi.a:case p.a:return"";default:return e}},Hi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Pi.g:var r=t.payload,n=r.error;return"cardExpiry"===r.elementType?n&&n.message||"":e;case Pi.e:return t.payload!==ha.gb?"":e;case Di.a:case Gi.a:case p.a:return"";default:return e}},qi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Pi.g:var r=t.payload,n=r.error;return"cardNumber"===r.elementType?n&&n.message||"":e;case Pi.e:return t.payload!==ha.gb?"":e;case Di.a:case Gi.a:case p.a:return"";default:return e}},Ki=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Pi.a:return t.payload.message||e;case Pi.b:return"";case Pi.e:return t.payload!==ha.gb?"":e;case Di.a:case Gi.a:case p.a:return"";default:return e}},Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Pi.g:var r=t.payload,n=r.error;return"postalCode"===r.elementType?n&&n.message||"":e;case Pi.e:return t.payload!==ha.gb?"":e;case Di.a:case Gi.a:case p.a:return"";default:return e}},Qi=Object(n.c)({cardCvc:Vi,cardExpiry:Hi,cardNumber:qi,nameOnCard:Ki,postalCode:Wi}),Yi=ha.hb,Ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi,t=arguments[1];switch(t.type){case Di.b:case Gi.b:return Yi;case Pi.e:return t.payload;default:return e}},zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Pi.d:return t.payload||e;case Pi.e:return t.payload.method===ha.hb?null:e;case Di.b:case Gi.b:case Ar.f:return null;default:return e}},Xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Di.b:case Gi.b:return"";case Di.d:case Gi.c:var r=t.payload;return r.body&&r.body.passthrough?r.body.passthrough:"";default:return e}},Zi=Object(n.c)({errorMessage:zi,passthrough:Xi}),$i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Pi.a:case Pi.h:return t.payload.message||e;case Pi.f:return t.payload;case Pi.g:case Pi.b:case Pi.i:return null;case Pi.e:return t.payload===ha.gb?null:e;default:return e}},ec=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case Pi.a:case Pi.f:case Pi.h:return!1;case Pi.e:return t.payload!==ha.gb&&e;case Pi.i:return!0;default:return e}},tc=Object(n.c)({errorMessage:$i,pending:ec}),rc=Object(n.c)({cardName:Bi,cardValidation:Qi,paymentMethod:Ji,paypal:Zi,stripeToken:tc}),nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment";switch(arguments[1].type){case Gi.b:return"selectPayment";case Pi.c:return"paymentCompleted";default:return e}},ac=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Gi.b:return!0;case p.a:case Gi.a:return!1;default:return e}},sc=Object(n.c)({activePage:nc,showModal:ac}),ic=Object(n.c)({coinPurchaseModal:Fi,payment:rc,premiumPurchaseModal:sc}),cc=r("./src/app/actions/overlayEvents.ts"),oc=r("./src/reddit/actions/header.ts"),uc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case oc.a:return!1;case oc.b:return!0;case oc.c:return!e;case cc.b:return!1;default:return e}},dc=Object(n.c)({isSubscriptionsDropdownOpen:uc}),lc=r("./src/reddit/actions/imageUploads.ts"),pc={},bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc,t=arguments[1];switch(t.type){case lc.d:var r=t.payload;return Object.assign({},e,S()({},r.id,r));case lc.c:case lc.e:case lc.b:var n=t.payload;return e[n.id]?Object.assign({},e,S()({},n.id,n)):e;case lc.a:var a=t.payload;if(!e[a.id])return e;var s=Object.assign({},e);return delete s[a.id],s;default:return e}},fc=r("./src/reddit/actions/moderatingSubreddits.ts"),Oc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case fc.a:if(e)return e;var r=t.payload;return Object.keys(r).some(function(e){return!0===r[e].posts});case de.s:case lr.b:case de.b:case zn.b:if(e)return e;var n=t.payload;return n.subredditPermissions&&n.subreddits?n.subredditPermissions.posts:e;case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:if(e)return e;var a=t.payload.response,s=a.moderatingSubreddits,i=a.moderatingProfiles,c=Object.keys(s).some(function(e){return!0===s[e].posts});return c||(c=Object.keys(i).some(function(e){return!0===s[e].posts})),c;default:return e}},mc=r("./src/reddit/actions/jsApi.ts"),vc=[],gc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc,t=arguments[1];switch(t.type){case mc.a:var r=t.payload;return-1===e.indexOf(r)&&(e=[].concat(ne()(e),[r])).sort(),e;default:return e}},jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case p.a:return t.payload.listingKey||e;default:return e}},hc=r("./src/reddit/actions/pages/explore.ts"),yc=r("./src/reddit/actions/search.ts"),_c={},Ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments[1];switch(t.type){case yc.b:case yc.c:case de.p:case de.q:var r=t.payload,n=r.key,a=r.type;return-1===a.indexOf(ha.Eb.Subreddits)&&-1===a.indexOf(ha.Eb.Users)?e:Object.assign({},e,S()({},n,null));case yc.a:case de.o:var s=t.payload,i=s.key,c=s.error,o=s.type;return-1===o.indexOf(ha.Eb.Subreddits)&&-1===o.indexOf(ha.Eb.Users)?e:Object.assign({},e,S()({},i,c));case hs.f:case hs.e:case hc.c:case hc.b:case fe.o:case fe.p:var u=t.payload.key;return Object.assign({},e,S()({},u,null));case hs.d:case hc.a:case fe.n:var d=t.payload,l=d.key,p=d.error;return Object.assign({},e,S()({},l,p));default:return e}},xc={},Tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments[1];switch(t.type){case yc.b:case de.p:var r=t.payload,n=r.key,a=r.type;return-1===a.indexOf(ha.Eb.Subreddits)&&-1===a.indexOf(ha.Eb.Users)?e:Object.assign({},e,S()({},n,!0));case yc.c:case yc.a:case de.q:case de.o:var s=t.payload,i=s.key,c=s.type;return-1===c.indexOf(ha.Eb.Subreddits)&&-1===c.indexOf(ha.Eb.Users)?e:Object.assign({},e,S()({},i,!1));case hs.f:case hc.c:case fe.o:var o=t.payload.key;return Object.assign({},e,S()({},o,!0));case hs.e:case hs.d:case hc.b:case hc.a:case fe.p:case fe.n:var u=t.payload.key;return Object.assign({},e,S()({},u,!1));default:return e}},Ic=Object(n.c)({error:Ec,pending:Tc}),Sc={},kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments[1];switch(t.type){case yc.c:var r=t.payload,n=r.fetchedToken,a=r.key,s=r.type;if(-1===s.indexOf(ha.Eb.Subreddits)&&-1===s.indexOf(ha.Eb.Users))return e;var i=e[a];return Object.assign({},e,S()({},a,Object.assign({},i,S()({},n,!0))));case hs.e:case hc.b:case fe.p:var c=t.payload,o=c.fetchedToken,u=c.key;return Object.assign({},e,S()({},u,Object.assign({},e[u],S()({},o,!0))));default:return e}},wc={},Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments[1];switch(t.type){case yc.c:var r=t.payload,n=r.key,a=r.listingOrder,s=r.type;return-1===s.indexOf(ha.Eb.Subreddits)&&-1===s.indexOf(ha.Eb.Users)?e:Object.assign({},e,S()({},n,e[n].concat(a)));case de.q:var i=t.payload,c=i.key,o=i.listingOrder,u=i.type;return-1===u.indexOf(ha.Eb.Subreddits)&&-1===u.indexOf(ha.Eb.Users)?e:Object.assign({},e,S()({},c,o));default:return e}},Ac={},Rc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments[1];switch(t.type){case hc.b:var r=t.payload,n=r.key,a=r.ids;return a&&0!==a.length?Object.assign({},e,S()({},n,[].concat(ne()(e[n]||[]),ne()(a)))):e;default:return e}},Dc=r("./src/lib/omitKey/index.ts"),Pc={},Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=arguments[1];switch(t.type){case yc.c:case de.q:var r=t.payload,n=r.key,a=r.tokens,s=r.type;return-1===s.indexOf(ha.Eb.Subreddits)&&-1===s.indexOf(ha.Eb.Users)?e:a.listings?Object.assign({},e,S()({},n,{token:a.listings})):Object(Dc.a)(e,n);case hs.e:case hc.b:case fe.p:var i=t.payload,c=i.key,o=i.token;return Object.assign({},e,S()({},c,{token:o}));default:return e}},Lc=Object(n.c)({api:Ic,identifiers:Cc,ids:Rc,fetchedTokens:kc,loadMore:Nc}),Uc=r("./src/reddit/actions/frontpage.ts"),Mc=r("./src/reddit/actions/hero.ts"),Fc=r("./src/reddit/actions/multireddit.ts"),Gc=r("./src/reddit/actions/originalContent.ts"),Bc=r("./src/reddit/actions/pages/news/index.ts"),Vc=r("./src/reddit/actions/pages/originalContent.ts"),Hc={},qc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hc,t=arguments[1];switch(t.type){case Mc.b:case Mc.c:case Bc.b:case Bc.c:case Vc.c:case Vc.b:case de.h:case de.g:case de.m:case de.l:case de.t:case de.s:case Uc.c:case Uc.b:case Fc.c:case Fc.b:case Gc.f:case Gc.e:case pe.f:case pe.e:case pe.c:case pe.b:case be.f:case be.e:case Rr.f:case Rr.e:case fe.m:case fe.l:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case de.p:case de.q:case yc.b:case yc.c:var n=t.payload,a=n.key;return-1===n.type.indexOf(ha.Eb.Posts)?e:Object.assign({},e,S()({},a,null));case Mc.a:case Bc.a:case de.f:case de.k:case de.r:case Uc.a:case Fc.a:case Gc.d:case fe.k:case be.d:case Rr.d:case pe.d:case pe.a:var s=t.payload,i=s.key,c=s.error;return Object.assign({},e,S()({},i,c));case de.o:case yc.a:var o=t.payload,u=o.error,d=o.key;return-1===o.type.indexOf(ha.Eb.Posts)?e:Object.assign({},e,S()({},d,u));default:return e}},Kc={},Wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,t=arguments[1];switch(t.type){case Bc.c:case Vc.c:case de.h:case de.m:case pe.f:case Rr.f:case de.t:case Uc.c:case Fc.c:case Gc.f:case be.f:case pe.c:case fe.m:case Mc.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case de.p:case yc.b:var n=t.payload,a=n.key;return-1===n.type.indexOf(ha.Eb.Posts)?e:Object.assign({},e,S()({},a,!0));case Vc.b:case de.g:case de.f:case de.k:case de.l:case Rr.d:case Rr.e:case pe.d:case pe.e:case de.s:case de.r:case Uc.b:case Uc.a:case Fc.b:case Fc.a:case Bc.b:case Bc.a:case Gc.e:case Gc.d:case be.d:case be.e:case pe.a:case pe.b:case fe.l:case fe.k:case Mc.b:case Mc.a:var s=t.payload.key;return Object.assign({},e,S()({},s,!1));case de.q:case de.o:case yc.c:case yc.a:var i=t.payload,c=i.key;return-1===i.type.indexOf(ha.Eb.Posts)?e:Object.assign({},e,S()({},c,!1));default:return e}},Qc=Object(n.c)({error:qc,pending:Wc}),Yc=r("./src/reddit/actions/postList.ts"),Jc={},zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jc,t=arguments[1];switch(t.type){case Yc.a:var r=t.payload,n=r.listingKey,a=r.listingName;return Object.assign({},e,S()({},n,a));case Yc.b:var s=t.payload.listingKey;return s in e?Cr()(e,[s]):e;default:return e}},Xc={},Zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xc,t=arguments[1];switch(t.type){case Bc.b:case de.g:case de.l:case de.s:case pe.e:case Vc.b:case Mc.b:var r=t.payload.key;return Object.assign({},e,S()({},r,{}));case Uc.b:case Fc.b:case Gc.e:case be.e:case pe.b:case fe.l:var n=t.payload,a=n.key,s=n.fetchedToken,i=e[a];return Object.assign({},e,S()({},a,Object.assign({},i,S()({},s,!0))));case yc.c:var c=t.payload,o=c.fetchedToken,u=c.key;if(c.type.indexOf(ha.Eb.Posts)>-1){var d=e[u];return Object.assign({},e,S()({},u,Object.assign({},d,S()({},o,!0))))}return e;default:return e}},$c=r("./src/reddit/actions/recommendations.ts"),eo={},to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo,t=arguments[1];switch(t.type){case de.h:case de.m:case pe.f:case de.t:case Rr.f:case pe.f:var r=t.payload.key;return Object.assign({},e,S()({},r,[]));case hs.e:case Bc.b:case Vc.b:case de.g:case de.l:case de.s:case Rr.e:case pe.e:case $c.b:case Mc.b:var n=t.payload,a=n.key,s=n.postIds;return Object.assign({},e,S()({},a,s));case Uc.b:case Fc.b:case Gc.e:case pe.b:case be.e:case fe.l:var i=t.payload,c=i.key,o=i.postIds;return Object.assign({},e,S()({},c,e[c].concat(o)));case de.q:var u=t.payload,d=u.key,l=u.postOrder;return-1===u.type.indexOf(ha.Eb.Posts)?e:Object.assign({},e,S()({},d,l));case yc.c:var p=t.payload,b=p.key,f=p.postOrder;return-1===p.type.indexOf(ha.Eb.Posts)?e:Object.assign({},e,S()({},b,e[b].concat(f)));case j.h:var O=t.payload,m=O.newStickiedPostList,v=O.listingKey;if(!e[v])return e;var g=[].concat(ne()(e[v])).filter(function(e){return!m.includes(e)});return g.unshift.apply(g,ne()(m)),Object.assign({},e,S()({},v,g));default:return e}},ro={},no=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=arguments[1];switch(t.type){case de.g:case de.l:case de.s:case Rr.e:case pe.e:case Vc.b:case Uc.b:case Fc.b:case Gc.e:case be.e:case pe.b:case fe.l:var r=t.payload,n=r.key,a=r.token,s=r.dist;return a?Object.assign({},e,S()({},n,{token:a,dist:s})):Object(Dc.a)(e,n);case yc.c:case de.q:var i=t.payload,c=i.key,o=i.tokens;return-1===i.type.indexOf(ha.Eb.Posts)?e:o.posts?Object.assign({},e,S()({},c,{token:o.posts})):Object(Dc.a)(e,c);default:return e}},ao=Object(n.c)({api:Qc,endMarkers:zc,fetchedTokens:Zc,ids:to,loadMore:no}),so=Object(n.c)({activeKey:jc,listingOrder:Lc,postOrder:ao}),io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case de.g:return xt()(t.payload.featuredLiveThread)?e:t.payload.featuredLiveThread;default:return e}},co=Object(n.c)({featured:io}),oo=r("./src/reddit/reducers/mediaPlayback/index.ts"),uo={},lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo,t=arguments[1];switch(t.type){case de.s:case lr.b:case de.b:case zn.b:var r=t.payload;if(!r.subredditPermissions||!r.subreddits)return e;var n=Object.keys(r.subredditAboutInfo||{});if(1!==n.length)return e;var a=n[0];return Object.assign({},e,S()({},a,r.subredditPermissions));case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:var s=t.payload.response,i=s.moderatingSubreddits,c=s.moderatingProfiles;return Object.assign({},e,i,c);case fe.i:case ue.l:var o=t.payload,u=o.moderatingSubreddits,d=o.moderatingProfiles;return Object.assign({},e,u,d);case U.R:var l=t.payload.subredditId;return Object(Dc.a)(e,l);case U.O:var p=t.payload;return Object.assign({},e,p);default:return e}},po=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.C:case U.B:return null;case U.A:return t.payload;default:return e}},bo={editableList:!1,moderatorsList:!1},fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo;switch(arguments[1].type){case U.C:return Object.assign({},e,{moderatorsList:!0});case U.t:return Object.assign({},e,{editableList:!0});case U.B:case U.A:case U.s:case U.r:return bo;default:return e}},Oo=Object(n.c)({error:po,pending:fo}),mo={},vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo,t=arguments[1];switch(t.type){case U.s:var r=t.payload.response,n=S()({},r.subredditId,r.moderators);return Y()(Object.assign({},e),n);case U.u:var a=t.payload,s=a.subredditId,i=a.userId,c=a.permissions,o=Object.assign({},e);return o[s][i].modPermissions=c,Y()(Object.assign({},e),Object.assign({},o));case U.Q:var u=t.payload,d=u.subredditId,l=u.userId,p=Object.assign({},e);return delete p[d][l],p;case U.E:var b=t.payload,f=b.moderators,O=b.subredditId,m=O in e?e[O]:{};return Object.assign({},e,S()({},O,Object.assign({},m,f)));default:return e}},go={},jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go,t=arguments[1];switch(t.type){case U.t:case U.s:var r=t.payload,n=r.subredditId,a=r.after;if(!n)return e;var s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,null));case U.r:var i=t.payload,c=i.error,o=i.subredditId,u=i.after;if(!o)return e;var d=Object(F.c)(o,u);return Object.assign({},e,S()({},d,c));default:return e}},ho={},yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho,t=arguments[1];switch(t.type){case U.r:case U.s:var r=t.payload,n=r.subredditId,a=r.after;if(!n)return e;var s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,!1));case U.t:var i=t.payload,c=i.subredditId,o=i.after;if(!c)return e;var u=Object(F.c)(c,o);return Object.assign({},e,S()({},u,!0));default:return e}},_o=Object(n.c)({error:jo,pending:yo}),Eo={},xo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,t=arguments[1];switch(t.type){case U.s:var r=t.payload,n=r.subredditId,a=r.response,s=r.after,i=r.before,c=a.moderatorIds,o=Object(F.c)(n,s,i);return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},S()({},o,c))));case U.Q:var u=t.payload,d=u.subredditId,l=u.userId,p=u.key,b=e[d][p].filter(function(e){return e!==l});return Object.assign({},e,S()({},d,Object.assign({},e[d]||{},S()({},p,b))));default:return e}},To=Object(n.c)({data:xo,api:_o}),Io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.x:case U.w:return null;case U.v:return t.payload;default:return e}},So=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case U.w:case U.v:return!1;case U.x:return!0;default:return e}},ko=Object(n.c)({error:Io,pending:So}),wo={},Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments[1];switch(t.type){case U.w:var r=t.payload,n=r.subredditId,a=r.moderators;return Object.assign({},e,S()({},n,a));case U.P:var s=t.payload,i=s.subredditId,c=s.userId,o=Object.assign({},e);return delete o[i][c],o;case U.a:var u=t.payload,d=u.subredditId,l=u.moderators,p=S()({},d,l);return Y()(Object.assign({},e),p);default:return e}},Ao={},Ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao,t=arguments[1];switch(t.type){case U.w:var r=t.payload,n=r.subredditId,a=r.moderatorIds;return Object.assign({},e,S()({},n,a));case U.P:var s=t.payload,i=s.subredditId,c=s.userId,o=e[i].filter(function(e){return e!==c});return Object.assign({},e,S()({},i,o));case U.a:var u=t.payload,d=u.subredditId,l=u.moderatorIds,p=[].concat(ne()(e[d]||[]),ne()(l));return Object.assign({},e,S()({},d,p));default:return e}},Do=Object(n.c)({api:ko,models:Co,userOrder:Ro}),Po=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},No={},Lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:No,t=arguments[1];switch(t.type){case U.B:var r=t.payload,n=r.subredditId,a=r.response.invitePending,s=S()({},n,a);return Y()(Object.assign({},e),s);case U.y:case U.z:var i=t.payload.subredditId;return e[i],Po(e,["symbol"===(void 0===i?"undefined":os()(i))?i:i+""]);default:return e}},Uo={},Mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,t=arguments[1];switch(t.type){case U.s:var r=t.payload.response;return S()({},r.subredditId,{after:r.after,before:r.before});default:return e}},Fo={},Go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo,t=arguments[1];switch(t.type){case U.B:var r=t.payload.response;return S()({},r.subredditId,{after:r.after,before:r.before});default:return e}},Bo={},Vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bo,t=arguments[1];switch(t.type){case U.B:var r=t.payload.response,n=S()({},r.subredditId,r.moderators);return Y()(Object.assign({},e),n);case U.u:var a=t.payload,s=a.subredditId,i=a.userId,c=a.permissions;if(e[s]&&e[s][i]){var o=Object.assign({},e);return o[s][i].modPermissions=c,o}return e;default:return e}},Ho=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.F:case U.E:return null;case U.D:return t.payload;default:return e}},qo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case U.F:return!0;case U.E:case U.D:return!1;default:return e}},Ko=Object(n.c)({error:Ho,pending:qo}),Wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.F:case U.D:case U.Q:return null;case U.E:var r=t.payload.moderatorIds[0];return r?t.payload.moderators[r]:null;case U.u:var n=t.payload,a=n.userId,s=n.permissions;return e&&e.id===a&&!Ir()(e.modPermissions,s)?Object.assign({},e,{modPermissions:s}):e;default:return e}},Qo=Object(n.c)({api:Ko,result:Wo}),Yo={},Jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo,t=arguments[1];switch(t.type){case U.C:case U.B:var r=t.payload,n=r.subredditId,a=r.after;if(!n)return e;var s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,null));case U.A:var i=t.payload,c=i.error,o=i.subredditId,u=i.after;if(!o)return e;var d=Object(F.c)(o,u);return Object.assign({},e,S()({},d,c));default:return e}},zo={},Xo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo,t=arguments[1];switch(t.type){case U.A:case U.B:var r=t.payload,n=r.subredditId,a=r.after;if(!n)return e;var s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,!1));case U.C:var i=t.payload,c=i.subredditId,o=i.after;if(!c)return e;var u=Object(F.c)(c,o);return Object.assign({},e,S()({},u,!0));default:return e}},Zo=Object(n.c)({error:Jo,pending:Xo}),$o={},eu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o,t=arguments[1];switch(t.type){case U.B:var r=t.payload,n=r.response,a=r.after,s=r.before,i=r.subredditId,c=n.moderatorIds,o=Object(F.c)(i,a,s);return Object.assign({},e,S()({},i,Object.assign({},e[i]||{},S()({},o,c))));case U.Q:var u=t.payload,d=u.subredditId,l=u.userId,p=Object.assign({},e[d]);return Object.keys(e[d]).forEach(function(t){var r=e[d][t].filter(function(e){return e!==l});p[t]=r}),Object.assign({},e,S()({},d,p));default:return e}},tu=Object(n.c)({data:eu,api:Zo}),ru=Object(n.c)({api:Oo,editableModerators:vo,editableUserOrder:To,invitedModerators:Do,invitePending:Lo,loadMoreModerators:Go,loadMoreEditableModerators:Mo,models:Vo,search:Qo,userOrder:tu}),nu=r("./src/reddit/actions/modMode.ts"),au=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case nu.a:return t.payload.enabled;default:return e}},su=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case ue.h:case ue.g:return null;case ue.f:return t.payload;default:return e}},iu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.h:return!0;case ue.g:case ue.f:return!1;default:return e}},cu=Object(n.c)({error:su,pending:iu}),ou={},uu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou,t=arguments[1];switch(t.type){case ue.g:var r=t.payload,n=r.listingKey,a=r.page,s=r.response.modqueue;return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},S()({},a,s))));default:return e}},du={},lu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du,t=arguments[1];switch(t.type){case ue.g:var r=t.payload,n=r.listingKey,a=r.response.modqueue,s=a[a.length-1]||null;return S()({},n,s);default:return e}},pu=Object(n.c)({api:cu,itemOrder:uu,loadMore:lu}),bu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:return t.payload.response.moderatedAfter;case ue.l:return t.payload.moderatedAfter;default:return e}},fu=[],Ou=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fu,t=arguments[1];switch(t.type){case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:return t.payload.response.listingOrder;case ue.l:var r=t.payload.listingOrder;return[].concat(ne()(e),ne()(r));default:return e}},mu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.b:return!0;default:return e}},vu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.l:return!0;case ue.b:return!1;default:return e}},gu=Object(n.c)({after:bu,data:Ou,loaded:mu,pending:vu}),ju=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case ue.k:case ue.j:return null;case ue.i:return t.payload;default:return e}},hu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.k:return!0;case ue.j:case ue.i:return!1;default:return e}},yu=Object(n.c)({error:ju,pending:hu}),_u={},Eu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u,t=arguments[1];switch(t.type){case ue.j:var r=t.payload,n=r.listingKey,a=r.page,s=r.response.modqueue;return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},S()({},a,s))));default:return e}},xu={},Tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu,t=arguments[1];switch(t.type){case ue.j:var r=t.payload,n=r.listingKey,a=r.response.modqueue,s=a[a.length-1]||null;return S()({},n,s);default:return e}},Iu=Object(n.c)({api:yu,itemOrder:Eu,loadMore:Tu}),Su=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case ue.o:case ue.n:return null;case ue.m:return t.payload;default:return e}},ku=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.o:return!0;case ue.n:case ue.m:return!1;default:return e}},wu=Object(n.c)({error:Su,pending:ku}),Cu={},Au=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu,t=arguments[1];switch(t.type){case ue.n:var r=t.payload,n=r.listingKey,a=r.page,s=r.response.modqueue;return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},S()({},a,s))));default:return e}},Ru={},Du=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru,t=arguments[1];switch(t.type){case ue.n:var r=t.payload,n=r.listingKey,a=r.response.modqueue,s=a[a.length-1]||null;return S()({},n,s);default:return e}},Pu=Object(n.c)({api:wu,itemOrder:Au,loadMore:Du}),Nu={},Lu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu,t=arguments[1];switch(t.type){case ue.a:var r={};return t.payload.ids.forEach(function(e){return r[e]=!0}),Object.assign({},e,r);case ue.e:var n=t.payload.ids;return Cr()(e,n);case ue.d:var a={};return t.payload.ids.forEach(function(e){return a[e]=!0}),a;default:return e}},Uu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case ue.r:case ue.q:return null;case ue.p:return t.payload;default:return e}},Mu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.r:return!0;case ue.q:case ue.p:return!1;default:return e}},Fu=Object(n.c)({error:Uu,pending:Mu}),Gu={},Bu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gu,t=arguments[1];switch(t.type){case ue.q:var r=t.payload,n=r.listingKey,a=r.page,s=r.response.modqueue;return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},S()({},a,s))));default:return e}},Vu={},Hu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu,t=arguments[1];switch(t.type){case ue.q:var r=t.payload,n=r.listingKey,a=r.response.modqueue,s=a[a.length-1]||null;return S()({},n,s);default:return e}},qu=Object(n.c)({api:Fu,itemOrder:Bu,loadMore:Hu}),Ku={},Wu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku,t=arguments[1];switch(t.type){case ue.c:var r=t.payload,n=r.operation,a=r.ids;if("approve"===n)return Ku;var s=Ur.c[n];return S()({},s,a);default:return e}},Qu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case ue.v:case ue.u:return null;case ue.t:return t.payload;default:return e}},Yu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case ue.v:return!0;case ue.u:case ue.t:return!1;default:return e}},Ju=Object(n.c)({error:Qu,pending:Yu}),zu={},Xu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zu,t=arguments[1];switch(t.type){case ue.u:var r=t.payload,n=r.listingKey,a=r.page,s=r.response.modqueue;return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},S()({},a,s))));default:return e}},Zu={},$u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu,t=arguments[1];switch(t.type){case ue.u:var r=t.payload,n=r.listingKey,a=r.response.modqueue,s=a[a.length-1]||null;return S()({},n,s);default:return e}},ed=Object(n.c)({api:Ju,itemOrder:Xu,loadMore:$u}),td=Object(n.c)({edited:pu,moderatedCommunitiesOrder:gu,modqueue:Iu,reports:Pu,selectedItems:Lu,spam:qu,undoLastAction:Wu,unmoderated:ed}),rd=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},nd={},ad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nd,t=arguments[1];switch(t.type){case oe.u:var r=t.payload.moreCommentsId;return Object.assign({},e,S()({},r,null));case oe.t:var n=t.payload.moreCommentsItem;return Object.assign({},e,S()({},n.id,null));case oe.s:var a=t.payload,s=a.moreCommentsItem,i=rd(a,["moreCommentsItem"]);return Object.assign({},e,S()({},s.id,i||{}));default:return e}},sd={},id=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sd,t=arguments[1];switch(t.type){case oe.u:var r=t.payload.moreCommentsId;return Object.assign({},e,S()({},r,!0));case oe.s:case oe.t:var n=t.payload.moreCommentsItem;return Object.assign({},e,S()({},n.id,!1));default:return e}},cd=Object(n.c)({error:ad,pending:id}),od={},ud=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:od,t=arguments[1];switch(t.type){case oe.t:case lr.b:case de.b:return Object.assign({},e,t.payload.moreComments);default:return e}},dd=Object(n.c)({api:cd,models:ud}),ld=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Fc.d:return!1;case Fc.e:return!0;default:return e}},pd=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Fc.d:return!0;case Fc.e:return!1;default:return e}},bd=Object(n.c)({fetched:ld,pending:pd}),fd=r("./node_modules/lodash/union.js"),Od=r.n(fd),md={},vd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:md,t=arguments[1];switch(t.type){case de.l:case Fc.b:for(var r in t.payload.multiredditsByUser){var n=e[r],a=t.payload.multiredditsByUser[r];if(n){var s=Od()(n,a);return Ir()(n,s)?e:Object.assign({},e,S()({},r,s))}return Object.assign({},e,S()({},r,a))}return md;case Fc.e:for(var i in t.payload.multiredditsByUser){var c=t.payload.multiredditsByUser[i];return e[i]&&Ir()(c,e[i])?e:Object.assign({},e,S()({},i,c))}return md;default:return e}},gd={},jd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gd,t=arguments[1];switch(t.type){case de.l:case Fc.b:case Fc.e:var r={};for(var n in t.payload.multireddits){var a=t.payload.multireddits[n];n in e&&Ir()(e[a.url],a)||(r=Object.assign({},r,S()({},n,a)))}return xt()(r)?e:Object.assign({},e,r);default:return e}},hd=Object(n.c)({api:bd,byUserId:vd,models:jd}),yd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.J:case U.H:return null;case U.G:return t.payload;default:return e}},_d={},Ed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d,t=arguments[1];switch(t.type){case U.J:var r=t.payload,n=r.subredditId,a=r.fetchedToken,s=Object(F.c)(n,a);return Object.assign({},e,S()({},s,!0));case U.H:case U.G:var i=t.payload,c=i.subredditId,o=i.fetchedToken,u=Object(F.c)(c,o);return Object.assign({},e,S()({},u,!1));default:return e}},xd=Object(n.c)({error:yd,pending:Ed}),Td={},Id=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Td,t=arguments[1];switch(t.type){case U.H:var r=t.payload,n=r.fetchedToken,a=r.subredditId,s=Object(F.c)(a,n);return Object.assign({},e,S()({},s,!0));default:return e}},Sd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Ge.b:return t.payload;default:return e}},kd={},wd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kd,t=arguments[1];switch(t.type){case U.H:var r=t.payload,n=r.subredditId,a=r.after;return S()({},n,a);default:return e}},Cd={},Ad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cd,t=arguments[1];switch(t.type){case U.I:case U.H:var r=t.payload,n=r.subredditId,a=r.mutedUsers,s=S()({},n,a);return Y()(Object.assign({},e),s);case U.N:var i=t.payload,c=i.subredditId,o=i.userId,u=Object.assign({},e);return delete u[c][o],u;default:return e}},Rd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.M:case U.L:return null;case U.K:return t.payload;default:return e}},Dd=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case U.M:return!0;case U.L:case U.K:return!1;default:return e}},Pd=Object(n.c)({error:Rd,pending:Dd}),Nd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case U.M:case U.K:return null;case U.L:var r=t.payload.mutedUserIds[0];return r?t.payload.mutedUsers[r]:null;default:return e}},Ld=Object(n.c)({api:Pd,result:Nd}),Ud={},Md=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud,t=arguments[1];switch(t.type){case U.H:var r=t.payload,n=r.subredditId,a=r.mutedUserIds;return e[n]?Object.assign({},e,S()({},n,[].concat(ne()(e[n]),ne()(a)))):Object.assign({},e,S()({},n,a));case U.N:var s=t.payload,i=s.subredditId,c=s.userId,o=e[i].filter(function(e){return e!==c});return S()({},i,o);case U.I:var u=t.payload,d=u.subredditId,l=u.mutedUserIds[0];return l&&e[d]&&-1===e[d].indexOf(l)?S()({},d,[l].concat(ne()(e[d]))):e;default:return e}},Fd=Object(n.c)({api:xd,fetchedTokens:Id,inContext:Sd,loadMore:wd,models:Ad,search:Ld,userOrder:Md}),Gd={},Bd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gd,t=arguments[1];switch(t.type){case Bc.b:var r=t.payload,n=r.key,a=r.activeCommunityIds;return Object.assign({},e,S()({},n,a));default:return e}},Vd=Object(n.c)({activeCommunityIds:Bd}),Hd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Mc.b:case Mc.c:case Bc.b:case Bc.c:return null;case Bc.a:case Mc.a:return t.payload;default:return e}},qd=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Mc.c:case Bc.c:return!0;case Mc.a:case Mc.b:case Bc.a:case Bc.b:return!1;default:return e}},Kd=Object(n.c)({error:Hd,pending:qd}),Wd=r("./node_modules/lodash/values.js"),Qd=r.n(Wd),Yd=r("./src/reddit/models/News/index.ts"),Jd={},zd=function(e,t){return e.reduce(function(e,r){var n=Object.assign({belongsTo:r.belongsTo,heroSource:r.preview||{},id:r.id,status:Yd.b.Latest,thumbnailUrl:r.preview&&r.preview.url||""},Xd(t,r));return e[n.id]=n,e},{})},Xd=function(e,t){var r=void 0,n=void 0;return e.find(function(e){return!(!e.subtopics||!e.subtopics.length)&&!!e.subtopics.find(function(a){if(a.subreddits&&a.subreddits.length){var s=t&&t.belongsTo&&t.belongsTo.id||"";if(s&&a.subreddits.includes(s))return r=a,n=e,!0}return!1})}),{topic:n,subtopic:r}},Zd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jd,t=arguments[1];switch(t.type){case Bc.b:case Mc.b:var r=t.payload,n=r.availableTopics,a=r.posts,s=zd(Qd()(a),n);return Object.assign({},e,s);default:return e}},$d=Object(n.c)({api:Kd,models:Zd}),el=r("./src/reddit/actions/news.ts"),tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case el.c:case el.b:return null;case el.a:return t.payload;default:return e}},rl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case el.c:return!0;case el.a:case el.b:return!1;default:return e}},nl=Object(n.c)({error:tl,pending:rl}),al={availableTopics:[],selectedSubtopic:null,selectedTopic:null},sl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al,t=arguments[1];switch(t.type){case el.d:var r=t.payload,n=r.selectedTopic,a=r.selectedSubtopic;return Object.assign({},e,{selectedTopic:n,selectedSubtopic:a});case el.b:var s=t.payload;return Object.assign({},e,{selectedTopic:e.selectedTopic||s[0]||null,availableTopics:s});default:return e}},il=Object(n.c)({api:nl,models:sl}),cl=Object(n.c)({topics:il,stories:$d,communityInfo:Vd}),ol=r("./src/reddit/actions/nps.ts"),ul={pending:!1,success:!1,dest:void 0},dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul,t=arguments[1];switch(t.type){case ol.c:return Object.assign({},ul,{pending:!0});case ol.a:return ul;case ol.b:var r=t.payload.dest;return Object.assign({},ul,{success:!0,dest:r});default:return e}},ll={},pl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ll,t=arguments[1];switch(t.type){case Gc.i:case Gc.h:var r=t.payload.category;return Object.assign({},e,S()({},r,null));case Gc.g:var n=t.payload,a=n.category,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},bl={},fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,t=arguments[1];switch(t.type){case Gc.i:var r=t.payload.category;return Object.assign({},e,S()({},r,!0));case Gc.h:case Gc.g:var n=t.payload.category;return Object.assign({},e,S()({},n,!1));default:return e}},Ol=Object(n.c)({error:pl,pending:fl}),ml=Object(n.c)({api:Ol}),vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Gc.c:case Gc.b:return null;case Gc.a:return t.payload;default:return e}},gl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Gc.c:return!0;case Gc.b:case Gc.a:return!1;default:return e}},jl=Object(n.c)({error:vl,pending:gl}),hl={},yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments[1];switch(t.type){case Gc.b:return 0===t.payload.length?hl:t.payload.reduce(function(e,t){return e[t.name]=t,e},{});default:return e}},_l=Object(n.c)({api:jl,models:yl}),El={},xl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El,t=arguments[1];switch(t.type){case Gc.l:case Gc.k:var r=t.payload.category;return Object.assign({},e,S()({},r,null));case Gc.j:var n=t.payload,a=n.category,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Tl={},Il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl,t=arguments[1];switch(t.type){case Gc.l:var r=t.payload.category;return Object.assign({},e,S()({},r,!0));case Gc.k:case Gc.j:var n=t.payload.category;return Object.assign({},e,S()({},n,!1));default:return e}},Sl=Object(n.c)({error:xl,pending:Il}),kl=Object(n.c)({api:Sl}),wl={},Cl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl,t=arguments[1];switch(t.type){case Gc.o:case Gc.n:var r=t.payload.category;return Object.assign({},e,S()({},r,null));case Gc.m:var n=t.payload,a=n.category,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Al={},Rl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al,t=arguments[1];switch(t.type){case Gc.l:var r=t.payload.category;return Object.assign({},e,S()({},r,!0));case Gc.k:case Gc.j:var n=t.payload.category;return Object.assign({},e,S()({},n,!1));default:return e}},Dl=Object(n.c)({error:Cl,pending:Rl}),Pl=Object(n.c)({api:Dl}),Nl=Object(n.c)({bestPosts:ml,categories:_l,topCommunities:kl,topCreators:Pl}),Ll=r("./src/reddit/actions/pages/partnerSubredditConnection.ts"),Ul={},Ml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul,t=arguments[1];switch(t.type){case Ll.b:case Ll.c:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case Ll.a:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Fl={},Gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fl,t=arguments[1];switch(t.type){case Ll.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!1));case Ll.b:var n=t.payload.key;return Object.assign({},e,S()({},n,!0));default:return e}},Bl={},Vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bl,t=arguments[1];switch(t.type){case Ll.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case Ll.b:case Ll.a:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},Hl=Object(n.c)({error:Ml,fetched:Gl,pending:Vl}),ql=Object(n.c)({page:Hl}),Kl=Object(n.c)({api:ql}),Wl=r("./node_modules/history/index.js"),Ql=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Yl={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}},Jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments[1];switch(t.type){case p.a:var r=e.currentPage,n=t.payload,a=n.routeMatch,s=n.location,i=s.key,c=Object(Wl.createPath)(s),o=a?function(e,t,r,n){var a=r.route,s=(a.action,Ql(a,["action"]));return{key:e,locationState:n.state,meta:r.route.meta,queryParams:r.match.queryParams,routeMatch:Object.assign({},r,{route:s}),status:200,url:t,urlParams:r.match.params}}(i,c,a,s):function(e,t){return{key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}}(i,c),u=e.referrers;if("PUSH"===n.action){var d=r&&r.url||"";u=Object.assign({},u,S()({},i,d))}else if("REPLACE"===n.action&&r&&u[r.key]){var l=r.key,b=u[l],f=Ql(u,["symbol"===(void 0===l?"undefined":os()(l))?l:l+""]);u=Object.assign({},f,S()({},i,b))}return Object.assign({},e,{referrers:u,currentPage:o,lastPage:r});case p.d:var O=t.payload,m=O.key,v=O.meta;return Object.assign({},e,{metas:Object.assign({},e.metas,S()({},m,v))});case p.e:if(!e.currentPage)return e;var g=t.payload,j=Object.assign({},e.currentPage,{status:g});return Object.assign({},e,{currentPage:j});case lr.b:case de.b:return!e.currentPage||t.payload.postMeta,e;case p.b:return e;case p.c:var h=t.payload.allowNavigationCallback;return Object.assign({},e,{allowNavigationCallback:h});default:return e}},zl=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Xl={},Zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xl,t=arguments[1];switch(t.type){case l.f:var r=t.payload.pollResults.pollId;return e[r],zl(e,["symbol"===(void 0===r?"undefined":os()(r))?r:r+""]);case l.e:var n=t.payload.pollId;return e[n],zl(e,["symbol"===(void 0===n?"undefined":os()(n))?n:n+""]);case l.d:var a=t.payload,s=a.pollId,i=a.error;return Object.assign({},e,S()({},s,i));default:return e}},$l={},ep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments[1];switch(t.type){case l.f:var r=t.payload.pollResults.pollId;return Object.assign({},e,S()({},r,!1));case l.d:var n=t.payload.pollId;return Object.assign({},e,S()({},n,!1));case l.e:var a=t.payload.pollId;return Object.assign({},e,S()({},a,!0));default:return e}},tp=Object(n.c)({error:Zl,pending:ep}),rp=Object(n.c)({voting:tp}),np={},ap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:np,t=arguments[1];switch(t.type){case l.c:var r=t.payload.poll;return Object.assign({},e,S()({},r.id,r));case de.g:case de.s:case fe.l:case Uc.b:case lr.b:case de.b:var n=t.payload.governance;if(n){var a=Object.keys(n).reduce(function(e,t){var r=n[t].poll;return e[r.id]=r,e},{});return Object.assign({},e,a)}return e;default:return e}},sp=r("./src/reddit/models/Poll/index.ts"),ip={},cp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip,t=arguments[1];switch(t.type){case l.f:var r=t.payload.pollResults,n=r[sp.a.ByVoters],a=r.pollId;return Object.assign({},e,S()({},a,n));case de.g:case de.s:case fe.l:case Uc.b:case lr.b:case de.b:var s=t.payload.governance;if(s){var i=Object.keys(s).reduce(function(e,t){var r=s[t].pollResults,n=r[sp.a.ByVoters];return e[r.pollId]=n,e},{});return Object.assign({},e,i)}return e;default:return e}},op={},up=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op,t=arguments[1];switch(t.type){case l.f:var r=t.payload.pollResults,n=r[sp.a.ByVotingPower],a=r.pollId;return Object.assign({},e,S()({},a,n));case de.g:case de.s:case fe.l:case Uc.b:case lr.b:case de.b:var s=t.payload.governance;if(s){var i=Object.keys(s).reduce(function(e,t){var r=s[t].pollResults,n=r[sp.a.ByVotingPower];return e[r.pollId]=n,e},{});return Object.assign({},e,i)}return e;default:return e}},dp=Object(n.c)({byVoters:cp,byVotingPower:up}),lp=Object(n.c)({api:rp,models:ap,results:dp}),pp={},bp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pp,t=arguments[1];switch(t.type){case zn.b:case Bc.b:case le.b:case le.e:case Rr.e:case Rr.b:case pe.e:case pe.b:case de.s:case de.g:case de.l:case de.s:case lr.b:case de.b:case j.e:case Vc.b:case Fc.b:case Gc.e:case Gc.h:case Uc.b:case be.e:case $c.b:case fe.l:case yc.c:case Dr.b:case de.q:case En.f:var r=t.payload.collections;return r?Object.assign({},e,r):e;case En.d:var n=t.payload;return Object.assign({},e,S()({},n.id,n));case En.g:var a=t.payload,s=a.collectionId,i=a.postId,c=e[s];return c?Object.assign({},e,S()({},s,Object.assign({},c,{postIds:c.postIds.filter(function(e){return e!==i})}))):e;case En.a:var o=t.payload,u=o.collectionId,d=o.postId,l=e[u];return l&&d?Object.assign({},e,S()({},u,Object.assign({},l,{postIds:l.postIds.push(d)}))):e;case En.e:var p=t.payload.collectionId,b=Object.assign({},e);return delete b[p],b;case En.j:var f=t.payload,O=f.collectionId,m=f.newTitle,v=e[O];return v?Object.assign({},e,S()({},O,Object.assign({},v,{title:m}))):e;default:return e}},fp={},Op=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp,t=arguments[1];switch(t.type){case zn.b:case En.f:var r=t.payload.collections;if(!r)return e;var n=Object.keys(r);if(!n.length)return e;var a=r[n[0]].subredditId;return Object.assign({},e,S()({},a,n));case En.d:var s=t.payload,i=s.subredditId,c=e[i]||[];return Object.assign({},e,S()({},i,[].concat(ne()(c),[s.id])));case En.e:var o=t.payload,u=o.collectionId,d=o.collection;if(!d)return e;var l=d&&e[d.subredditId];return l?Object.assign({},e,S()({},d.subredditId,l.filter(function(e){return e!==u}))):e;default:return e}},mp=Object(n.c)({models:bp,subredditToIds:Op}),vp=r("./src/reddit/actions/postFlair.ts"),gp={},jp={displaySettings:{isEnabled:!1,position:r("./src/reddit/models/Flair/index.ts").a.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},hp=function(e,t){if(!t)return e;var r=Object.keys(t);return 0===r.length?e:r.reduce(function(e,r){return e[r]=Object.assign({},jp,e[r],t[r]),e},Object.assign({},e))},yp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gp,t=arguments[1];switch(t.type){case zn.b:case Uc.b:case Fc.b:case Gc.e:case Vc.b:case lr.b:case de.b:case de.g:case de.l:case de.q:case de.s:case le.b:case le.e:case be.e:case Dr.b:case Dr.b:case Rr.b:case Rr.e:case pe.b:case pe.e:case $c.b:case yc.c:case yc.c:case fe.l:return hp(e,t.payload.postFlair);case vp.c:var r=t.payload,n=r.subredditId,a=r.isEnabled,s=e[n].displaySettings,i=Object.assign({},s,{isEnabled:a});return Object.assign({},e,S()({},n,Object.assign({},e[n],{displaySettings:i})));case vp.a:var c=t.payload,o=c.subredditId,u=c.canAssignOwn,d=e[o].permissions,l=Object.assign({},d,{canAssignOwn:u});return Object.assign({},e,S()({},o,Object.assign({},e[o],{permissions:l})));case vp.f:var p=t.payload,b=p.subredditId,f=p.template,O=e[b],m=O.templates,v=O.templateIds,g=Object.assign({},m,S()({},f.id,f)),j=[].concat(ne()(v));return j.includes(f.id)||j.push(f.id),Object.assign({},e,S()({},b,Object.assign({},O,{templates:g,templateIds:j})));case vp.b:var h=t.payload,y=h.subredditId,_=h.templateId,E=e[y],x=E.templates,T=E.templateIds,I=Cr()(x,_),k=T.filter(function(e){return e!==_});return Object.assign({},e,S()({},y,Object.assign({},E,{templates:I,templateIds:k})));case vp.e:case vp.d:var w=t.payload,C=e[w.subredditId];return Object.assign({},e,S()({},w.subredditId,Object.assign({},C,{templateIds:w.templateIds})));case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:var A=t.payload.response;return hp(e,A.postFlair);default:return e}},_p={},Ep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p,t=arguments[1];switch(t.type){case Gc.h:var r=t.payload,n=r.category,a=r.posts;return e[n]?e:Object.assign({},e,S()({},n,Object.keys(a)));default:return e}},xp=r("./src/reddit/actions/embedAndImage.ts"),Tp={},Ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tp,t=arguments[1];switch(t.type){case xp.b:var r=t.payload.postId;return e[r]?Object.assign({},e,S()({},r,!1)):e;case xp.a:var n=t.payload.postId;return Object.assign({},e,S()({},n,!0))}return e},Sp=Object(n.c)({loadable:Ip}),kp={},wp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kp,t=arguments[1];switch(t.type){case j.c:var r=t.payload.postId;return Object.assign({},e,S()({},r,!e[r]));default:return e}},Cp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case j.d:return t.payload.postId;default:return e}},Ap={},Rp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ap,t=arguments[1];switch(t.type){case de.g:case de.s:case Vc.b:case Gc.e:case Gc.h:case Uc.b:case be.e:case $c.b:case fe.l:case yc.c:case de.q:return kr()(Object.assign({},e),t.payload.postInstances,function(e,t){if(e)return e.concat(t)});default:return e}},Dp={},Pp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dp,t=arguments[1];switch(t.type){case l.c:var r=t.payload.poll;return Object.assign({},e,S()({},r.postId,r.id));case de.g:case de.s:case fe.l:case Uc.b:case lr.b:case de.b:var n=t.payload.governance;if(n){var a=Object.keys(n).reduce(function(e,t){var r=n[t];return e[t]=r.poll.id,e},{});return Object.assign({},e,a)}return e;default:return e}},Np=r("./src/reddit/actions/monthsToMinutes.ts"),Lp=r("./src/reddit/helpers/isPost.ts"),Up=r("./src/reddit/helpers/path/index.ts"),Mp=r("./node_modules/lodash/pickBy.js"),Fp=r.n(Mp);function Gp(e,t){var r=Fp()(t,function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!e[r]||!Ir()(e[r],t)});return Object.keys(r).length>0?Object.assign({},e,r):e}var Bp=r("./src/reddit/models/Post/index.ts"),Vp=r("./src/reddit/actions/subredditDuplicates.ts"),Hp={},qp=function(e){var t=e.protocol,r=e.domain;return function(e){var n=Object(Up.b)(e.permalink);return Object.assign({},e,{permalink:t+"://"+r+n})}},Kp=function(e){var t=e.source;return t&&t.outboundUrlCreated&&(t=Object.assign({},t,{outboundUrlReceived:Date.now()}),e.source=t),e},Wp=function(e){return function(t){for(var r=0;r<e.length;r++)t=e[r](t);return t}},Qp=function(e,t){var r={},n=t.posts;return Object.keys(n).length?(Object.keys(n).map(function(t){var a=n[t],s=e[t];s&&(r[t]=s.voteState===Mr.a.notVoted?Object(Mr.c)(s,a):s)}),Object.assign({},e,r)):e},Yp=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hp,a=arguments[1];switch(a.type){case p.a:if(ya(a)===ha.lb.COMMENTS){var s=_a(a),i=function(e){if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params}(a);if(s&&s.instanceId&&i&&i.partialPostId){var c=s.instanceId,o=Object(Bp.d)(i.partialPostId);if(n[o]&&n[c])return Object.assign({},n,S()({},o,(t=n[o],r=n[c],Object.assign({},t,{events:r.events,source:r.source}))))}}return n;case lr.b:case de.b:var u=qp(a.payload.meta);return Object.assign({},n,sn()(a.payload.posts,Wp([u,Kp,(e=n,function(t){var r=e[t.id];return r&&r.events&&(t.events=r.events,t.source=r.source),t}),function(e){return function(t){var r=e[t.id];return r&&r.isSponsored&&(t.isSponsored=r.isSponsored),t}}(n)])));case j.e:return Gp(n,a.payload);case Vp.a:return Gp(n,a.payload.posts);case zn.b:case hs.e:case Bc.b:case le.b:case le.e:case Rr.e:case Rr.b:case pe.e:case pe.b:case de.s:case de.g:case de.l:case de.s:case Vc.b:case Fc.b:case Gc.e:case Gc.h:case Uc.b:case be.e:case $c.b:case fe.l:case yc.c:case Dr.b:case de.q:case Mc.b:var d=qp(a.payload.meta);return Object.assign({},n,sn()(a.payload.posts,Wp([d,Kp])));case j.f:var l=a.payload;return kr()(Object.assign({},n),l,function(e,t){return Object.assign({},e,t)});case Pr.a:var b=a.payload,f=b.id,O=b.vote,m=n[f];return m?Object.assign({},n,S()({},f,Object(Mr.c)(m,O))):n;case oe.F:var v=a.payload.comment.postId,g=n[v];return g?Object.assign({},n,S()({},v,Object.assign({},g,{numComments:g.numComments+1}))):n;case oe.x:var h=a.payload.postId,y=n[h];return y?Object.assign({},n,S()({},h,Object.assign({},y,{numComments:y.numComments-1}))):n;case Ar.d:var _=a.payload,E=_.id,x=_.gildings,T=n[E];return T?Object.assign({},n,S()({},E,Object(Lr.b)(T,x))):n;case U.l:var I=a.payload.posts;return Object.assign({},n,I);case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:var k=a.payload.response.posts;return Object.assign({},n,k);case ue.c:case ue.s:var w=a.payload,C=w.operation,A=w.ids,R=w.username,D=w.options,P=A.filter(function(e){return Object(Lp.a)(e)}),N=Object(Ur.d)(n,C,P,R,D);return kr()(Object.assign({},n),N,function(e,t){return Object.assign({},e,t)});case Np.c:return Qp(n,a.payload);case Np.i:var L=a.payload;return Qp(n,L.votes);case En.k:var M=a.payload,F=M.postId,G=M.collectionId,B=n[F];if(B&&G){var V=B.collectionIds||[];return V.push(G),Object.assign({},n,S()({},F,Object.assign({},B,{collectionIds:[].concat(ne()(V))})))}return n;default:return n}},Jp=[],zp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jp,t=arguments[1];switch(t.type){case j.g:return t.payload.postIds;case Vc.b:case de.g:case de.s:var r=t.payload.recentPostIds;return r&&r.length?r:e;default:return e}},Xp=r("./src/reddit/reducers/posts/video/index.ts"),Zp=Object(n.c)({bestOCPosts:Ep,embedAndImage:Sp,expanded:wp,focus:Cp,instances:Rp,metaMap:Pp,models:Yp,recent:zp,video:Xp.a}),$p=r("./src/lib/reducers/addAuthentication/index.ts"),eb={},tb=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eb,t=arguments[1];switch(t.type){case lr.b:case de.b:var r=t.payload,n=r.postId,a=r.commentLists,s=r.comments,i=a[n]&&a[n].head;return i&&s[i.id]&&s[i.id].isStickied?Object.assign({},e,S()({},n,i.id)):e;case oe.B:var c=t.payload,o=c.id,u=c.postId;return S()({},u,o);default:return e}},eb),rb=Object(n.c)({data:tb}),nb={},ab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb,t=arguments[1];switch(t.type){case f.f:case f.g:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,void 0));case f.e:var n=t.payload,a=n.subredditId,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},sb={},ib=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sb,t=arguments[1];switch(t.type){case f.f:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,!0));case f.g:case f.e:var n=t.payload.subredditId;return Object.assign({},e,S()({},n,!1));default:return e}},cb=Object(n.c)({error:ab,pending:ib}),ob={},ub=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ob,t=arguments[1];switch(t.type){case f.d:var r=t.payload.product;return Object.assign({},e,S()({},r.id,void 0));case f.c:var n=t.payload.productId;return Object.assign({},e,S()({},n,void 0));case f.a:var a=t.payload,s=a.productId,i=a.error;return Object.assign({},e,S()({},s,i));default:return e}},db={},lb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:db,t=arguments[1];switch(t.type){case f.c:var r=t.payload.productId;return Object.assign({},e,S()({},r,!0));case f.d:var n=t.payload.product;return Object.assign({},e,S()({},n.id,!1));case f.a:var a=t.payload.productId;return Object.assign({},e,S()({},a,!1));default:return e}},pb=Object(n.c)({error:ub,pending:lb}),bb=Object(n.c)({fetch:cb,purchase:pb}),fb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case f.b:return t.payload.productId;case i.a:return null;default:return e}},Ob={},mb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ob,t=arguments[1];switch(t.type){case f.g:var r=t.payload.products;return Object.assign({},e,r);default:return e}},vb=Object(n.c)({api:bb,currentlyPurchasing:fb,models:mb}),gb={},jb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gb,t=arguments[1];switch(t.type){case le.f:case le.e:case le.c:case le.b:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case le.d:case le.a:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},hb={},yb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hb,t=arguments[1];switch(t.type){case le.f:case le.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case le.e:case le.d:case le.b:case le.a:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},_b=Object(n.c)({error:jb,pending:yb}),Eb={},xb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eb,t=arguments[1];switch(t.type){case le.e:var r=t.payload,n=r.key,a=r.commentIds;return Object.assign({},e,S()({},n,a));case le.b:var s=t.payload,i=s.key,c=s.commentIds,o=e[i]||[];return Object.assign({},e,S()({},i,o.concat(c)));default:return e}},Tb=r("./src/reddit/actions/commentList.ts"),Ib={},Sb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ib,t=arguments[1];switch(t.type){case Tb.a:var r=t.payload,n=r.listingKey,a=r.listingName;return Object.assign({},e,S()({},n,a));case Tb.b:var s=t.payload.listingKey;return s in e?Cr()(e,s):e;default:return e}},kb={},wb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kb,t=arguments[1];switch(t.type){case le.e:var r=t.payload.key;return Object.assign({},e,S()({},r,{}));case le.b:var n=t.payload,a=n.key,s=n.fetchedToken,i=e[a];return Object.assign({},e,S()({},a,Object.assign({},i,S()({},s,!0))));default:return e}},Cb={},Ab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cb,t=arguments[1];switch(t.type){case le.e:case le.b:var r=t.payload,n=r.key,a=r.dist,s=r.token;return s?Object.assign({},e,S()({},n,{dist:a,token:s})):Object(Dc.a)(e,n);default:return e}},Rb=Object(n.c)({api:_b,endMarkers:Sb,fetchedTokens:wb,commentIds:xb,loadMore:Ab}),Db=r("./src/reddit/actions/pages/profileModSettings.ts"),Pb=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(arguments[1].type){case Db.a:return!1;default:return e}},Nb=Object(n.c)({pending:Pb}),Lb=Object(n.c)({api:Nb}),Ub={},Mb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ub,t=arguments[1];switch(t.type){case Rr.c:case Rr.b:case Dr.c:case Dr.b:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case Rr.a:case Dr.a:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},Fb={},Gb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fb,t=arguments[1];switch(t.type){case Rr.c:case Dr.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case Rr.b:case Rr.a:case Dr.b:case Dr.a:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},Bb=Object(n.c)({error:Mb,pending:Gb}),Vb={},Hb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vb,t=arguments[1];switch(t.type){case Rr.b:var r=t.payload.key;return Object.assign({},e,S()({},r,{}));case Dr.b:var n=t.payload,a=n.key,s=n.fetchedToken,i=e[a];return Object.assign({},e,S()({},a,Object.assign({},i,S()({},s,!0))));default:return e}},qb={},Kb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qb,t=arguments[1];switch(t.type){case Rr.b:case Dr.b:var r=t.payload,n=r.key,a=r.overviewIds,s=e[n]||[];return Object.assign({},e,S()({},n,[].concat(ne()(s),ne()(a))));default:return e}},Wb={},Qb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb,t=arguments[1];switch(t.type){case Rr.b:case Dr.b:var r=t.payload,n=r.key,a=r.dist,s=r.token;return s?Object.assign({},e,S()({},n,{dist:a,token:s})):Object(Dc.a)(e,n);default:return e}},Yb=Object(n.c)({api:Bb,fetchedTokens:Hb,ids:Kb,loadMore:Qb}),Jb={},zb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jb,t=arguments[1];switch(t.type){case Rr.f:case Rr.e:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case Rr.d:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s||{}));default:return e}},Xb={},Zb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xb,t=arguments[1];switch(t.type){case Rr.f:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case Rr.e:case Rr.d:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},$b=Object(n.c)({error:zb,pending:Zb}),ef={},tf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ef,t=arguments[1];switch(t.type){case be.c:case be.b:var r=t.payload.extraCommentsId;return Object.assign({},e,S()({},r,null));case be.a:var n=t.payload,a=n.extraCommentsId,s=n.error;return Object.assign({},e,S()({},a,s||{}));default:return e}},rf={},nf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf,t=arguments[1];switch(t.type){case be.c:var r=t.payload.extraCommentsId;return Object.assign({},e,S()({},r,!0));case be.b:case be.a:var n=t.payload.extraCommentsId;return Object.assign({},e,S()({},n,!1));default:return e}},af=Object(n.c)({error:tf,pending:nf}),sf={},cf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sf,t=arguments[1];switch(t.type){case Rr.e:case be.b:case be.e:return Object.assign({},e,t.payload.extraComments);default:return e}},of=Object(n.c)({api:af,models:cf}),uf=r("./src/lib/makeOverviewConversationsItemKey/index.ts"),df={};function lf(e){var t=e;return sn()(t,function(e){return{depth:e.depth,next:e.next,prev:e.prev}})}var pf=function(e,t,r){var n={};for(var a in t){var s=t[a],i=s.postId;n.hasOwnProperty(i)?n[i]=Object.assign({},n[i],S()({},a,s)):n[i]=S()({},a,s)}for(var c in r){var o=r[c],u=o.postId;n.hasOwnProperty(u)?n[u]=Object.assign({},n[u],S()({},c,o)):n[u]=S()({},u,o)}return n},bf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:df,t=arguments[1];switch(t.type){case Rr.e:case be.e:var r=t.payload,n=r.comments,a=r.extraComments,s=r.postIds,i=r.profileName,c=pf(s,n,a),o={},u=!0,d=!1,l=void 0;try{for(var p,b=s[Symbol.iterator]();!(u=(p=b.next()).done);u=!0){var f=p.value;o[Object(uf.a)(f,i)]=c.hasOwnProperty(f)?lf(c[f]):{}}}catch(e){d=!0,l=e}finally{try{!u&&b.return&&b.return()}finally{if(d)throw l}}return Object.assign({},e,o);case be.b:var O=t.payload,m=O.comments,v=O.commentLists,g=O.extraComments,j=O.extraCommentsId,h=O.postIds,y=O.profileName;if(0===h.length){var _=Object.keys(e).find(function(t){return void 0!==e[t][j]});if(!_)return e;var E=Object.assign({},e[_])[j].prev,x=E&&E.id||"";return Object.assign({},e,S()({},_,Object.assign({},e[_],S()({},x,Object.assign({},e[_][x],{next:null})))))}var T=h[0],I=lf(pf(h,m,g)[T]),k=Object(uf.a)(T,y),w=Object.assign({},e[k]),C=w[j].prev,A=C&&C.id||"",R=v[T].head,D=R&&R.id||"",P={id:D,type:"comment"},N=Object.assign({},w,S()({},A,Object.assign({},w[A],{next:P})),I,S()({},D,Object.assign({},I[D],{prev:C})));return Object.assign({},e,S()({},k,N));default:return e}},ff={},Of=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ff,t=arguments[1];switch(t.type){case Rr.e:case be.e:var r=t.payload,n=r.commentLists,a=r.postIds,s=r.profileName,i={},c=!0,o=!1,u=void 0;try{for(var d,l=a[Symbol.iterator]();!(c=(d=l.next()).done);c=!0){var p=d.value;i[Object(uf.a)(p,s)]=n[p]&&n[p].head?n[p].head.id:null}}catch(e){o=!0,u=e}finally{try{!c&&l.return&&l.return()}finally{if(o)throw u}}return Object.assign({},e,i);default:return e}},mf={},vf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mf,t=arguments[1];switch(t.type){case Rr.e:case be.e:var r=t.payload,n=r.postIds,a=r.profileName,s={},i=!0,c=!1,o=void 0;try{for(var u,d=n[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var l=u.value;s[Object(uf.a)(l,a)]=l}}catch(e){c=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(c)throw o}}return Object.assign({},e,s);default:return e}},gf=Object(n.c)({api:$b,extraComments:of,keyToCommentThreadLinkSets:bf,keyToHeadCommentId:Of,keyToPostId:vf}),jf=Object(n.c)({chrono:Yb,conversations:gf}),hf={},yf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hf;return arguments[1].type,e},_f=r("./src/reddit/actions/preferences.ts"),Ef=r("./src/reddit/actions/profile.ts"),xf=r("./src/reddit/actions/subscription.ts"),Tf={},If=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tf,t=arguments[1];switch(t.type){case de.q:case yc.c:return Object.assign({},e,t.payload.profileAboutInfo);case Ef.d:var r=t.payload;return r.profile?Object.assign({},e,S()({},r.profile.id,r.about)):e;case xf.e:var n=t.payload,a=n.identifier,s=n.userIsSubscriber;if("profile"!==a.type)return e;var i=a.id;return Object.assign({},e,S()({},i,Object.assign({},e[i],{userIsSubscriber:s})));case Gc.n:var c=t.payload.profilesAboutInfo;return c?0===Object.keys(c).length?e:Object.assign({},e,c):e;case _f.l:var o=t.payload,u=e[o.subredditId];if(!u)return e;if(u.publicDescription===o.settings.publicDescription)return e;var d=Object.assign({},u,{publicDescription:o.settings.publicDescription});return Object.assign({},e,S()({},o.subredditId,d));default:return e}},Sf={},kf=function(e,t){if(!t)return e;var r=Object.keys(t);if(!r.length)return e;var n={};return r.forEach(function(r){var a=e[r],s=Object.assign({},t[r]);a&&Ir()(a,s)||(n[r]=s)}),Object.keys(n).length?Object.assign({},e,n):e},wf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sf,t=arguments[1];switch(t.type){case Uc.b:case lr.b:case de.b:case de.g:case le.b:case le.e:case Rr.b:case Rr.e:case pe.e:case Dr.b:case Uc.b:case Gc.e:case Gc.n:case yc.c:case fe.l:case Ef.e:case be.b:case be.e:case de.q:case Vc.b:case zn.b:case kn.e:case va.a:case de.s:case de.l:case $c.b:case xf.d:return kf(e,t.payload.profiles);case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:case ue.l:var r=t.payload.response.profiles;return kf(e,r);case Ef.d:var n=t.payload.profile;return n?kf(e,S()({},n.id,n)):e;case _f.l:var a=t.payload,s=a.settings,i=s.title,c=s.over18,o=e[a.subredditId];return!o||o.title===i&&o.isNSFW===c?e:Object.assign({},e,S()({},a.subredditId,Object.assign({},o,{id:a.subredditId,title:i,isNSFW:c})));default:return e}},Cf={},Af=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cf,t=arguments[1];switch(t.type){case Ef.c:var r=t.payload.profileName;return Object.assign({},e,S()({},(r||"").toLowerCase(),!0));case Ef.a:case Ef.b:var n=t.payload.profileName;return Object.assign({},e,S()({},(n||"").toLowerCase(),!1));default:return e}},Rf=Object(n.c)({pending:Af}),Df={},Pf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df,t=arguments[1];switch(t.type){case Ef.b:var r=t.payload,n=r.profileName,a=r.data.map(function(e){return e.id});return Object.assign({},e,S()({},(n||"").toLowerCase(),a));default:return e}},Nf=Object(n.c)({api:Rf,models:Pf}),Lf=r("./src/reddit/actions/pinnedPost.ts"),Uf={},Mf=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uf,t=arguments[1];switch(t.type){case Lf.a:var r=t.payload,n=r.pinned,a=r.profileId;return Object.assign({},e,S()({},a,n));case Lf.d:var s=t.payload,i=s.postId,c=s.profileId,o=e[c]||[];return Object.assign({},e,S()({},c,[].concat(ne()(o),[i]).slice(-ha.Z)));case Lf.g:var u=t.payload,d=u.postId,l=u.profileId,p=e[l]||[];return Object.assign({},e,S()({},l,p.filter(function(e){return e!==d})));default:return e}},Uf),Ff={},Gf=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ff,t=arguments[1];switch(t.type){case Lf.a:var r=t.payload,n=r.pinned,a=r.profileId;return Object.assign({},e,S()({},a,n));default:return e}},Ff),Bf={},Vf=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bf,t=arguments[1];switch(t.type){case Lf.c:case Lf.f:var r=t.payload,n=r.postId,a=r.profileId,s=e[a]||[];return Object.assign({},e,S()({},a,[].concat(ne()(s),[n])));case Lf.b:case Lf.e:case Lf.d:case Lf.g:var i=t.payload,c=i.postId,o=i.profileId,u=e[o]||[];return Object.assign({},e,S()({},o,u.filter(function(e){return e!==c})));default:return e}},Bf),Hf=Object(n.c)({data:Mf,initialData:Gf,pending:Vf}),qf=r("./src/reddit/actions/trophyCase.ts"),Kf={},Wf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kf,t=arguments[1];switch(t.type){case qf.a:var r=t.payload,n=r.profileId,a=r.trophyIds;return Object.assign({},e,S()({},n,a));default:return e}},Qf=Object(n.c)({about:If,models:wf,moderated:Nf,pinnedPosts:Hf,trophyCases:Wf}),Yf=r("./src/reddit/actions/promo.ts"),Jf={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null},zf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf,t=arguments[1];switch(t.type){case Yf.b:var r=t.payload.promoType;return Object.assign({},e,S()({},r,!0));case Yf.a:var n=t.payload.promoType;return Object.assign({},e,S()({},n,!1));default:return e}},Xf={},Zf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xf,t=arguments[1];switch(t.type){case lr.b:case de.b:case le.b:case oe.t:case pe.b:case be.e:case be.b:case Dr.b:case fe.l:case de.s:case Rr.e:case Rr.b:case le.e:case pe.e:var r=t.payload.providerFlair;return r?Y()(r,e):e;default:return e}},$f=Object(n.c)({models:Zf}),eO={},tO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eO,t=arguments[1];switch(t.type){case $c.b:return Object.assign({},e,t.payload);case $c.a:default:return e}},rO=r("./src/reddit/actions/removalReasons.ts"),nO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case rO.k:case rO.l:case rO.b:case rO.c:case rO.h:case rO.i:case rO.e:case rO.f:return null;case rO.j:case rO.a:case rO.g:case rO.d:return t.payload;default:return e}},aO=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case rO.k:case rO.b:case rO.h:case rO.e:return!0;case rO.l:case rO.j:case rO.c:case rO.a:case rO.i:case rO.g:case rO.f:case rO.d:return!1;default:return e}},sO=Object(n.c)({error:nO,pending:aO}),iO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},cO={},oO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cO,t=arguments[1];switch(t.type){case rO.l:var r=t.payload.response.data;return Object.assign({},e,r);case rO.c:case rO.i:var n=t.payload.reason;return Object.assign({},e,S()({},n.id,n));case rO.f:var a=t.payload.reasonId;return e[a],iO(e,["symbol"===(void 0===a?"undefined":os()(a))?a:a+""]);default:return e}},uO={},dO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uO,t=arguments[1];switch(t.type){case rO.l:var r=t.payload,n=r.subredditId,a=r.response.order;return Object.assign({},e,S()({},n,a));case rO.c:var s=t.payload,i=s.subredditId,c=s.reason;return Object.assign({},e,S()({},i,[].concat(ne()(e[i]),[c.id])));case rO.f:var o=t.payload,u=o.subredditId,d=o.reasonId,l=[].concat(ne()(e[u])).filter(function(e){return e!==d});return Object.assign({},e,S()({},u,l));default:return e}},lO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case rO.m:var r=t.payload,n=r.subredditId;return{itemIds:r.itemIds,subredditId:n};default:return e}},pO=Object(n.c)({api:sO,models:oO,reasonOrder:dO,removedItemIds:lO}),bO={},fO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bO,t=arguments[1];switch(t.type){case O.d:case O.c:var r=t.payload.id;return Object.assign({},e,S()({},r,!1));case O.b:var n=t.payload.id;return Object.assign({},e,S()({},n,!0));case O.e:var a=t.payload;return a?Object.assign({},e,S()({},a,!1)):e;default:return e}},OO={},mO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OO,t=arguments[1];switch(t.type){case O.d:var r=t.payload.id;return Object.assign({},e,S()({},r,!0));case O.c:case O.b:var n=t.payload.id;return Object.assign({},e,S()({},n,!1));case O.e:var a=t.payload;return a?Object.assign({},e,S()({},a,!1)):e;default:return e}},vO={},gO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vO,t=arguments[1];switch(t.type){case O.c:var r=t.payload.id;return Object.assign({},e,S()({},r,!0));case O.d:case O.b:var n=t.payload.id;return Object.assign({},e,S()({},n,!1));case O.e:var a=t.payload;return a?Object.assign({},e,S()({},a,!1)):e;default:return e}},jO=Object(n.c)({error:fO,pending:mO,success:gO}),hO=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case O.a:return t.payload;case i.b:return!t.payload&&e;case p.a:return!1;case O.e:return!!t.payload&&e;default:return e}},yO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case O.e:return t.payload;case i.b:return t.payload?null:e;case p.a:return null;default:return e}},_O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case O.f:return t.payload;case O.e:return!1;default:return e}},EO=Object(n.c)({api:jO,openedFromModalPage:hO,postOrCommentId:yO,userIsMod:_O}),xO=r("./src/lib/makeActionCreator/index.ts"),TO=(Object(xO.a)("REQUEST_HOST_SET"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}}),IO=(Object(xO.a)("RUN_TIME_ENV_VARS__IS_STAGING"),{staging:!1,startTimeInMillis:(new Date).getTime()}),SO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IO;switch(arguments[1].type){case"RUN_TIME_ENV_VARS__IS_STAGING":return Object.assign({},e,{staging:!0});default:return e}},kO=r("./src/reddit/actions/shortcuts.ts"),wO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case kO.a:return t.payload;case p.a:return null;default:return e}},CO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case kO.b:return t.payload||null;default:return e}},AO=r("./src/reddit/constants/history.ts"),RO=r("./src/reddit/constants/shortcuts.ts"),DO=r("./src/reddit/helpers/history/index.ts"),PO=RO.d.Global,NO=function(e){switch(e.name){case"comments":return Object(DO.b)(AO.a.IsOverlay),RO.d.Lightbox;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return RO.d.Listing;case"modQueuePages":return RO.d.Modqueue;default:return PO}},LO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PO,t=arguments[1];switch(t.type){case p.a:var r=t.payload;if(r.routeMatch){var n=r.routeMatch.route.meta;return NO(n)}return PO;default:return e}},UO=Object(n.c)({activeCommentId:wO,activePostId:CO,namespace:LO}),MO=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(e)return e;switch(t.type){case ct.b:case ct.c:return!0;default:return e}},FO=r("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),GO=Object(n.c)({firstFetch:MO,models:FO.b}),BO=r("./src/reddit/actions/sitewideRules.ts"),VO=[],HO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VO,t=arguments[1];switch(t.type){case BO.a:return t.payload;default:return e}},qO=r("./src/reddit/models/StructuredStyles/index.ts"),KO={},WO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KO,t=arguments[1];switch(t.type){case m.h:case m.b:case m.e:return t.payload.styles;case m.f:return KO;case m.c:var r=t.payload;return Object.assign({},e,r);case m.i:var n=t.payload;return Object(qO.d)(n.styles);default:return e}},QO=r("./src/reddit/actions/exportImportStyles.ts"),YO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case QO.c:case QO.b:return null;case QO.a:return t.payload;default:return e}},JO=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case QO.c:return!0;case QO.b:case QO.a:return!1;default:return e}},zO=Object(n.c)({error:YO,pending:JO}),XO=r("./src/reddit/actions/postFlairStyleTemplate.ts"),ZO={},$O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZO,t=arguments[1];switch(t.type){case m.d:case XO.b:var r=t.payload,n=r.flairId,a=r.template;return S()({},n,a);case m.k:return ZO;case XO.a:case vp.b:case m.i:return ZO;default:return e}},em={},tm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:em,t=arguments[1];switch(t.type){case de.s:case lr.b:case de.b:case de.q:case yc.c:case zn.b:case va.a:var r=t.payload;if(!r.structuredStyles||!r.structuredStyles.data)return e;var n=r.structuredStyles.data.flairTemplate;return Object.assign({},e,n);case XO.c:var a=t.payload,s=a.flairId,i=a.template;return Object.assign({},e,S()({},s,i));case XO.a:var c=t.payload.flairId;return Object(Dc.a)(e,c);case vp.b:var o=t.payload.templateId;return Object(Dc.a)(e,o);case m.i:return em;default:return e}},rm=Object(n.c)({draft:$O,models:tm}),nm={},am=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nm,t=arguments[1];switch(t.type){case m.g:var r=t.payload;return Object.assign({},e,S()({},r.imageKey,r.uploadId));case m.i:case m.f:return nm;default:return e}},sm=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case m.k:case m.f:return!1;case m.a:return!0;default:return e}},im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case m.e:return t.payload.subredditId;case m.f:case p.a:case _f.c:return null;default:return e}},cm={},om=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cm,t=arguments[1];switch(t.type){case de.s:case lr.b:case de.b:case zn.b:case va.a:var r=t.payload;if(!r.structuredStyles||!r.structuredStyles.data)return e;var n=Object.keys(r.subredditAboutInfo||{});if(1!==n.length)return e;var a=n[0],s=r.structuredStyles.data.style;return Object.assign({},e,S()({},a,s));case yc.c:case de.q:var i=t.payload;if(!i.structuredStyles||!i.structuredStyles.data)return e;if(!i.subredditName)return e;var c=void 0;if(Ct()(i.subreddits,function(e,t){if(e.name.toLowerCase()===i.subredditName.toLowerCase())return c=t,!1}),!c)return e;var o=i.structuredStyles.data.style;return Object.assign({},e,S()({},c,o));case m.j:var u=t.payload,d=e[u.subredditId];return Object.assign({},e,S()({},u.subredditId,Object.assign({},d,u.styles)));case m.h:var l=t.payload;return Object.assign({},e,S()({},l.subredditId,l.styles));case m.i:var p=t.payload,b=Object(qO.d)(p.styles);return Object.assign({},e,S()({},p.subredditId,b));case Ef.d:var f=t.payload,O=f.banner,v=f.profile;if(!O||!v)return e;var g=e[v.id];return Object.assign({},e,S()({},v.id,Object.assign({},g,{bannerBackgroundImage:O.url})));case _f.j:var j=t.payload;return"profileBanner"===j.key?Gp(e,S()({},j.subredditId,{bannerBackgroundImage:j.imageUrl})):e;case _f.i:var h=t.payload;return"profileBanner"===h.key?Gp(e,S()({},h.subredditId,{bannerBackgroundImage:void 0})):e;default:return e}},um=Object(n.c)({draft:WO,exportStyles:zO,flairTemplate:rm,imagePreviews:am,isBladeEditorDirty:sm,isEditing:im,models:om}),dm=(Object(xO.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}}),lm=r("./src/reddit/actions/subredditAutocomplete.ts"),pm={},bm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pm,t=arguments[1];switch(t.type){case lm.c:case lm.b:var r=t.payload.key;return Object.assign({},e,S()({},r,null));case lm.a:var n=t.payload,a=n.key,s=n.error;return Object.assign({},e,S()({},a,s));default:return e}},fm={},Om=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fm,t=arguments[1];switch(t.type){case lm.c:var r=t.payload.key;return Object.assign({},e,S()({},r,!0));case lm.b:case lm.a:var n=t.payload.key;return Object.assign({},e,S()({},n,!1));default:return e}},mm=Object(n.c)({error:bm,pending:Om}),vm={},gm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vm,t=arguments[1];switch(t.type){case lm.b:var r=t.payload.key;return Object.assign({},e,S()({},r,t.payload));default:return e}},jm=Object(n.c)({api:mm,models:gm}),hm={},ym=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hm,t=arguments[1];switch(t.type){case Mt.c:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,!0));case Mt.a:case Mt.d:var n=t.payload.subredditId;return Object.assign({},e,S()({},n,!1));default:return e}},_m={},Em=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m,t=arguments[1];switch(t.type){case Mt.d:var r=t.payload.subredditId;return Object.assign({},e,S()({},r,!0));case Mt.a:case Mt.c:var n=t.payload.subredditId;return Object.assign({},e,S()({},n,!1));default:return e}},xm={},Tm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm,t=arguments[1];switch(t.type){case Mt.d:var r=t.payload.subredditId;return e[r]?e:Object.assign({},e,S()({},r,!1));case Mt.a:var n=t.payload,a=n.subredditId,s=n.isSubredditWhitelisted;return Object.assign({},e,S()({},a,s));case Mt.c:var i=t.payload.subredditId;return Object.assign({},e,S()({},i,!1));default:return e}},Im=Object(n.c)({error:ym,pending:Em,whitelist:Tm}),Sm=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},km={},wm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:km,t=arguments[1];switch(t.type){case Mt.a:return Object.assign({},e,t.payload.collection);case Mt.e:var r=t.payload.channel;return Object.assign({},e,S()({},r.channelId,Object.assign({},r)));case Mt.f:var n=t.payload,a=n.channel,s=n.editedSubredditChannelData;return a.name=s.room,a.description=s.description,a.minimumAcctAge=a.minimumAcctAge,a.newMemberAge=a.newMemberAge,Object.assign({},e,S()({},a.channelId,Object.assign({},a)));case Mt.g:var i=t.payload;return e[i],Sm(e,["symbol"===(void 0===i?"undefined":os()(i))?i:i+""]);default:return e}},Cm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Mt.h:return t.payload.channelId;case Mt.g:return e===t.payload?null:e;default:return e}},Am=Object(n.c)({api:Im,models:wm,selected:Cm}),Rm={},Dm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rm,t=arguments[1];switch(t.type){case lr.b:case de.b:case de.q:case de.r:case de.s:case zn.b:case va.a:case le.b:case le.e:case Rr.b:case Rr.a:case Rr.e:case Rr.d:case pe.e:case be.b:case be.e:case yc.c:var r=t.payload.subredditAboutInfo;return void 0===r?e:Object.assign({},e,r);case As.a:var n=t.payload,a=n.subredditId,s=n.emojisEnabled,i=e[a],c=Object.assign({},i,{emojisEnabled:s});return Object.assign({},e,S()({},a,c));case xf.e:var o=t.payload,u=o.identifier,d=o.userIsSubscriber;if("subreddit"!==u.type)return e;var l=u.id;return Object.assign({},e,S()({},l,Object.assign({},e[l],{userIsSubscriber:d})));case dt.e:case Bc.b:case Gc.k:case fe.p:var p=t.payload.subredditsAboutInfo;if(!p)return e;var b=Object.keys(p);return 0===b.length?e:b.reduce(function(e,t){return p[t]&&(e[t]=e[t]?Object.assign({},e[t],p[t]):p[t]),e},Object.assign({},e));case As.b:var f=t.payload,O=f.emojiCustomSize,m=f.subredditId,v=e[m];if(!v)return e;var g=Object.assign({},v);if(O){var j=O.width,h=O.height;g.emojisCustomSize=[j,h]}else delete g.emojisCustomSize;return Object.assign({},e,S()({},m,g));default:return e}},Pm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case fe.a:return t.payload.error||null;case fe.b:case fe.c:return null;default:return e}},Nm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case fe.c:return t.payload.subredditName||null;case fe.a:case fe.b:return null;default:return e}},Lm=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case fe.b:return!0;case fe.c:case fe.a:return!1;default:return e}},Um=Object(n.c)({error:Pm,lastConnectedSubredditId:Nm,pending:Lm}),Mm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case fe.d:return t.payload.error||null;case fe.e:case fe.f:return null;default:return e}},Fm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case fe.f:return t.payload.subredditName||null;case fe.e:case fe.d:return null;default:return e}},Gm=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case fe.e:return!0;case fe.f:case fe.d:return!1;default:return e}},Bm=Object(n.c)({error:Mm,lastCreatedSubredditId:Fm,pending:Gm}),Vm=Object(n.c)({connectToPartner:Um,create:Bm}),Hm=r("./node_modules/lodash/isNil.js"),qm=r.n(Hm),Km={},Wm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Km,t=arguments[1];switch(t.type){case fe.g:var r=t.payload,n=r.subredditId,a=r.forceState;return Object.assign({},e,S()({},n,qm()(a)?!e[n]:a));default:return e}},Qm=Object(n.c)({meta:Wm}),Ym={},Jm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ym,t=arguments[1];switch(t.type){case dt.e:var r=t.payload,n=r.categoryId,a=r.subredditIds;return xt()(a)?e:Object.assign({},e,S()({},n,a));default:return e}},zm=r("./src/reddit/actions/subredditCrosspostable.ts"),Xm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case zm.a:return t.payload.error;case zm.c:case zm.b:return null;default:return e}},Zm=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case zm.c:return!0;case zm.b:case zm.a:return!1;default:return e}},$m=Object(n.c)({errors:Xm,pending:Zm}),ev={},tv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ev,t=arguments[1];switch(t.type){case zm.b:var r=t.payload.subredditIds;return Ir()(e,r)?e:r;default:return e}},rv=Object(n.c)({api:$m,ids:tv}),nv={},av=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nv,t=arguments[1];switch(t.type){case Vp.a:var r=t.payload,n=r.subredditId,a=r.distinguishKey,s=r.postIds;if(!(n in e))return Object.assign({},e,S()({},n,S()({},a,s)));var i=e[n];return Gp(i,S()({},a,s))===i?e:Object.assign({},e,S()({},n,Object.assign({},i,S()({},a,s))));default:return e}},sv=Object(n.c)({models:av}),iv={},cv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iv,t=arguments[1];switch(t.type){case l.a:var r=t.payload,n=r.subredditId,a=r.distribution;return Object.assign({},e,S()({},n,a));default:return e}},ov={},uv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ov,t=arguments[1];switch(t.type){case l.a:var r=t.payload,n=r.subredditId,a=r.meta;return Object.assign({},e,S()({},n,a));default:return e}},dv={},lv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dv,t=arguments[1];switch(t.type){case l.h:var r=t.payload,n=r.subredditId,a=r.releaseNotes;return Object.assign({},e,S()({},n,a));default:return e}},pv=Object(n.c)({distributions:cv,meta:uv,releaseNotes:lv}),bv=r("./node_modules/lodash/isEqualWith.js"),fv=r.n(bv),Ov=r("./src/lib/forceHttps/index.ts"),mv=r("./src/reddit/models/Subreddit/index.ts"),vv={},gv=function(e,t){return!fv()(e,t,function(e,t,r){if("subscribers"===r)return!0})},jv=function(e,t){if(!t)return e;var r=Object.keys(t);if(!r.length)return e;for(var n={},a=0;a<r.length;a++){var s=r[a],i=e[s],c=t[s];i&&!gv(i,c)||(n[s]=c)}return Object.keys(n).length?Object.assign({},e,n):e},hv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vv,t=arguments[1];switch(t.type){case xf.d:return function(e,t){var r=Object.keys(t);if(r.length){var n=Object.assign({},e);return r.forEach(function(r){var a=e[r],s=t[r],i=a?Object.assign({},a,s):Object.assign({},s);s.icon.url?i.icon.url=Object(Ov.a)(s.icon.url):a&&a.icon.url?i.icon=a.icon:i.icon.url="",n[r]=i}),n}return e}(e,t.payload.subreddits||{});case dt.e:case Uc.b:case ue.l:case Fc.b:case Fc.e:case Bc.b:case Gc.e:case Gc.k:case Vc.b:case lr.b:case de.b:case de.g:case de.l:case le.b:case le.e:case Rr.b:case Rr.e:case pe.b:case pe.e:case de.q:case de.s:case zn.b:case kn.e:case va.a:case Ef.e:case be.b:case be.e:case Dr.b:case $c.b:case yc.c:case fe.i:case fe.l:case fe.p:case Mc.b:return jv(e,t.payload.subreddits||{});case ue.g:case ue.j:case ue.n:case ue.q:case ue.u:var r=t.payload.response.subreddits;return jv(e,r);case Np.i:var n=t.payload.subreddits,a={};return Object.keys(n).map(function(e){var t=n[e];a[e]=function(e,t){return{displayText:"r/"+e,name:e,id:t,icon:{height:null,url:"",width:null},subscribers:0,title:e,type:mv.a.Public,url:"/r/"+e,isNSFW:!1}}(t,e)}),Object.assign({},a,e);default:return e}},yv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case fe.h:return t.payload.error;case fe.j:case fe.i:return null;default:return e}},_v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case fe.j:case fe.i:return!0;case fe.h:return!1;default:return e}},Ev=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case fe.j:return!0;case fe.i:case fe.h:return!1;default:return e}},xv=Object(n.c)({errors:yv,fetched:_v,pending:Ev}),Tv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case fe.i:var r=t.payload.subreddits,n=Object.keys(r);return n.sort(function(e,t){return r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1}),n;default:return e}},Iv=Object(n.c)({api:xv,order:Tv}),Sv=[],kv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sv,t=arguments[1];switch(t.type){case fe.p:var r=t.payload.subreddits;if(!r)return e;var n=Object.keys(r);if(0===n.length)return e;var a=n.filter(function(t){return!e.includes(t)});return 0===a.length?e:[].concat(ne()(e),ne()(a));default:return e}},wv={},Cv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wv,t=arguments[1];switch(t.type){case f.g:var r=t.payload,n=r.subredditId,a=r.products,s=Object.keys(a).reduce(function(e,t){return e[t]=!0,e},{});return Object.assign({},e,S()({},n,s));default:return e}},Av={},Rv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Av,t=arguments[1];switch(t.type){case fe.q:var r=t.payload,n=r.rules,a=r.subredditId,s=n.rules,i=n.oldSiteRules,c=S()({},a,{rules:s,oldSiteRules:i});return Object.assign({},e,c);default:return e}},Dv=r("./src/reddit/actions/subredditSettings.ts"),Pv={},Nv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pv,t=arguments[1];switch(t.type){case Dv.h:var r=t.payload;return Gp(e,S()({},r.subredditId,r));case _f.l:var n=t.payload,a=e[n.subredditId]||{},s=Object.assign({},a,n.settings);return Object.assign({},e,S()({},n.subredditId,s));default:return e}},Lv={},Uv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lv,t=arguments[1];switch(t.type){case Gc.k:var r=t.payload,n=r.category,a=r.subreddits;return Object.assign({},e,S()({},n,Object.keys(a)));default:return e}},Mv=[],Fv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mv,t=arguments[1];switch(t.type){case Vc.b:case de.g:case de.s:var r=t.payload.trendingSubredditIds;return r&&r.length?r:e;default:return e}},Gv=Object(n.c)({about:Dm,api:Vm,appliedFilters:Qm,byCategory:Jm,crosspostable:rv,duplicates:sv,gov:pv,models:hv,moderated:Iv,original:kv,products:Cv,rules:Rv,settings:Nv,top:Uv,trending:Fv}),Bv=r("./node_modules/lodash/cloneDeep.js"),Vv=r.n(Bv),Hv={titleRegEx:{regex:null},titleStrings:{strings:null},titleLength:{min:null,max:null},postLength:{min:null,max:null},postingGuidelines:{guidelines:null},postBodyRequirement:{requirement:null},linkListPermission:{permission:null},linkDomain:{whitelist:null,blacklist:null},reposts:{days:null}},qv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hv,t=arguments[1],r=t.type,n=t.payload;switch(r){case Dv.c:var a=Vv()(e);return n.forEach(function(e){var t=e.formSection,r=e.formField,n=e.error;a[t][r]=n}),a;case Dv.g:return Hv;default:return e}},Kv=r("./src/reddit/models/PostRequirements/index.ts"),Wv={isLoading:!0,isSaving:!1,hasFormError:!1,serverError:null,titleStrings:{isToggled:!1,strings:[]},titleRegEx:{isToggled:!1,regex:[]},titleLength:{isToggled:!1,min:null,max:null},postLength:{isToggled:!1,min:null,max:null},postingGuidelines:{requirement:"none",guidelines:null},postBodyRequirement:"none",linkListPermission:"none",linkDomain:{whitelist:[],blacklist:[]},reposts:{isToggled:!1,days:null},flair:{isToggled:!1}},Qv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wv,t=arguments[1],r=t.type,n=t.payload;switch(r){case Dv.b:return Object.assign({},e,{isLoading:!0});case Dv.i:var a=n;return Object.assign({},e,S()({},a,Object.assign({},e[a],{isToggled:!e[a].isToggled})));case Dv.u:var s=n.map(function(e){return e.substring(0,40)});return Object.assign({},e,{titleStrings:Object.assign({},e.titleStrings,{strings:s})});case Dv.t:var i=n.map(function(e){return e.substring(0,100)});return Object.assign({},e,{titleRegEx:Object.assign({},e.titleRegEx,{regex:i})});case Dv.s:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{min:""!==n?parseInt(n):""})});case Dv.r:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{max:""!==n?parseInt(n):""})});case Dv.p:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{min:""!==n?parseInt(n):""})});case Dv.o:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{max:""!==n?parseInt(n):""})});case Dv.j:var c=e.linkListPermission;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,S()({},c,n))});case Dv.q:return Object.assign({},e,{reposts:Object.assign({},e.reposts,{days:""!==n?parseInt(n):""})});case Dv.l:return Object.assign({},e,{postBodyRequirement:n});case Dv.k:var o="none"!==n;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{isToggled:o}),linkListPermission:n});case Dv.n:return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{requirement:n})});case Dv.m:var u=n&&n.length>400?n.substring(0,400):n;return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{guidelines:u})});case Dv.d:return Object(Kv.b)(Wv,n);case Dv.c:return Object.assign({},e,{hasFormError:!0});case Dv.e:return Object.assign({},e,{serverError:n});case Dv.g:return Object.assign({},e,{hasFormError:!1,serverError:null,isSaving:!0});case Dv.f:return Object.assign({},e,{isSaving:!1});default:return e}},Yv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1],r=t.type,n=t.payload;switch(r){case Dv.d:return n;default:return e}},Jv=Object(n.c)({formState:Qv,formErrors:qv,initialData:Yv}),zv={},Xv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zv,t=arguments[1],r=t.type,n=t.payload;switch(r){case Dv.a:return Object.assign({},e,n);default:return e}},Zv=Object(n.c)({postRequirements:Jv,requirementsBySubreddit:Xv}),$v={},eg=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$v,t=arguments[1];switch(t.type){case de.s:var r=t.payload,n=r.postIds,a=r.posts,s=n.slice(0,2).reduce(function(e,t){if(a[t].isStickied){var r=a[t].belongsTo.id;e[r]?e[r].push(t):e[r]=[t]}return e},{});return Y()(Object.assign({},e),s);case j.h:var i=t.payload,c=i.newStickiedPostList,o=i.subredditId;return Object.assign({},e,S()({},o,c));default:return e}},$v),tg=Object(n.c)({data:eg}),rg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case xf.b:return t.payload.error;case xf.c:case xf.d:return null;default:return e}},ng=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case xf.c:case xf.d:case Np.i:return!0;case xf.b:return!1;default:return e}},ag=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case xf.c:return!0;case xf.d:case xf.b:return!1;default:return e}},sg=Object(n.c)({errors:rg,fetched:ng,pending:ag}),ig=function(e,t,r){for(var n=e.length-1,a=0,s=void 0;a<=n;){var i=r(e[s=(a+n)/2|0],t);if(i<0){if((a=s+1)>n)return a}else{if(!(i>0))return s;if((n=s-1)<a)return n+1}}return(a+n)/2|0},cg=r("./src/reddit/constants/posts.ts"),og=[],ug=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:og,t=arguments[1];switch(t.type){case xf.d:var r=t.payload,n=r.profiles,a=r.favoriteProfileIds,s=r.favoriteSubredditIds,i=void 0;return(i=a&&a.length?a:s?s.filter(function(e){return!!n[e]}):[]).sort(function(e,t){return n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1}),i;case xf.a:var c=t.payload,o=c.makeFavorite,u=c.identifier,d=c.profileModels,l=u.id;if(u.type!==cg.a.PROFILE)return e;var p=e?e.slice():[];if(o){var b=ig(p,l,function(e,t){return d[e].displayText.toLowerCase()>d[t].displayText.toLowerCase()?1:-1});p.splice(b,0,l)}else{var f=p.indexOf(l);p.splice(f,1)}return p;case xf.e:var O=t.payload,m=O.identifier,v=O.userIsSubscriber,g=m.id;if(m.type!==cg.a.PROFILE||v||!e)return e;var j=e.indexOf(g);if(-1===j)return e;var h=e?e.slice():[];return h.splice(j,1),h;default:return e}},dg=[],lg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dg,t=arguments[1];switch(t.type){case xf.d:var r=t.payload,n=r.subreddits,a=r.favoriteSubredditIds,s=a?a.filter(function(e){return!!n[e]}):[];return s.sort(function(e,t){return n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1}),s;case xf.a:var i=t.payload,c=i.makeFavorite,o=i.identifier,u=i.subredditModels,d=o.id;if(o.type!==cg.a.SUBREDDIT)return e;var l=e?e.slice():[];if(c){var p=ig(l,d,function(e,t){return u[e].displayText.toLowerCase()>u[t].displayText.toLowerCase()?1:-1});l.splice(p,0,d)}else{var b=l.indexOf(d);l.splice(b,1)}return l;case xf.e:var f=t.payload,O=f.identifier,m=f.userIsSubscriber,v=O.id;if(O.type!==cg.a.SUBREDDIT||m||!e)return e;var g=e.indexOf(v);if(-1===g)return e;var j=e?e.slice():[];return j.splice(g,1),j;default:return e}},pg=r("./node_modules/lodash/uniq.js"),bg=r.n(pg),fg=[],Og=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fg,t=arguments[1];switch(t.type){case Ef.f:var r=t.payload.profileOrder;return bg()([].concat(ne()(e),ne()(r)));case xf.d:var n=t.payload.profiles,a=Object.keys(n);return a.sort(function(e,t){return n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1}),a;case xf.e:var s=t.payload,i=s.identifier,c=s.profileModels,o=s.userIsSubscriber,u=i.id;if(i.type!==cg.a.PROFILE)return e;var d=e?e.slice():[];if(o){var l=ig(d,u,function(e,t){return c[e].displayText.toLowerCase()>c[t].displayText.toLowerCase()?1:-1});d.splice(l,0,u)}else{var p=d.indexOf(u);d.splice(p,1)}return d;default:return e}},mg=[],vg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mg,t=arguments[1];switch(t.type){case Ef.f:var r=t.payload.subredditOrder;return bg()([].concat(ne()(e),ne()(r)));case xf.d:var n=t.payload.subreddits,a=Object.keys(n);return a.sort(function(e,t){return n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1}),a;case xf.e:var s=t.payload,i=s.identifier,c=s.subredditModels,o=s.userIsSubscriber,u=i.id;if(i.type!==cg.a.SUBREDDIT||!u)return e;var d=e?e.slice():[];if(o){var l=ig(d,u,function(e,t){return c[e].displayText.toLowerCase()>c[t].displayText.toLowerCase()?1:-1});d.splice(l,0,u)}else{var p=d.indexOf(u);d.splice(p,1)}return d;case Np.i:var b=t.payload;return Object.keys(b.subreddits);default:return e}},gg=Object(n.c)({api:sg,favoriteProfileOrder:ug,favoriteSubredditOrder:lg,profileOrder:Og,subredditOrder:vg}),jg=r("./src/reddit/actions/redditEmbed.ts"),hg=r("./src/reddit/models/Theme/index.ts"),yg={current:hg.c,cached:{}},_g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yg,t=arguments[1];switch(t.type){case vn.a:case vn.b:case vn.e:case vn.c:case vn.f:case Bc.b:case Vc.b:case lr.a:case de.a:case lr.b:case de.b:case lr.d:case de.d:case de.g:case de.s:case de.l:case Ll.b:case Uc.b:case Gc.e:case jg.b:case fe.l:case yc.c:case de.q:case _f.g:case zn.b:case va.a:return t.payload&&t.payload.preferences?t.payload.preferences.nightmode?{current:hg.b,cached:{}}:{current:hg.c,cached:{}}:e;case le.d:case le.e:case Rr.a:case Rr.b:case Rr.d:case Rr.e:case pe.d:case pe.e:var r=t.payload.account;return r?r.nightmode?{current:hg.b,cached:{}}:{current:hg.c,cached:{}}:e;case ue.i:case ue.k:case ue.j:case ue.h:case ue.g:case ue.o:case ue.n:case ue.q:case ue.r:case ue.v:case ue.u:return t.payload&&t.payload.response&&t.payload.response.preferences?t.payload.response.preferences.nightmode?{current:hg.b,cached:{}}:{current:hg.c,cached:{}}:e;case _f.f:return t.payload?t.payload.nightmode?{current:hg.b,cached:{}}:{current:hg.c,cached:{}}:e;default:return e}},Eg=r("./src/reddit/actions/toaster.ts"),xg=[],Tg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xg,t=arguments[1];switch(t.type){case Eg.c:var r=t.payload,n=[],a=!1,s=!0,i=!1,c=void 0;try{for(var o,u=e[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var d=o.value,l=d.id===r.id?r:d;n.push(l),a=a||l===r}}catch(e){i=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(i)throw c}}return a||n.push(r),n;case Eg.b:var p=t.payload;return e.filter(function(e){return e.id!==p});default:return e}},Ig=r("./src/reddit/actions/tracking.ts"),Sg={},kg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sg,t=arguments[1];switch(t.type){case Ig.a:var r=t.payload.routeKey;return Object.assign({},e,S()({},r,!0));case Ig.b:var n=t.payload.routeKey;return Object.assign({},e,S()({},n,!1));default:return e}},wg=Object(n.c)({viewportDataLoaded:kg}),Cg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.k:case l.l:return null;case l.i:return t.payload.error;default:return e}},Ag=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case l.k:return!0;case l.i:case l.l:return!1;default:return e}},Rg=Object(n.c)({error:Cg,pending:Ag}),Dg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.j:return(t.payload?t.payload.contentId:null)||null;case i.a:case l.l:return null;default:return e}},Pg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case l.j:return(t.payload?t.payload.recipient:"")||"";case l.l:return"";default:return e}},Ng=Object(n.c)({api:Rg,contentId:Dg,initialRecipient:Pg}),Lg=Object(n.c)({communityPoints:Ng}),Ug={},Mg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ug,t=arguments[1];switch(t.type){case qf.a:var r=t.payload.trophies;return Object.assign({},e,r);default:return e}},Fg=r("./src/reddit/models/Upload/index.ts"),Gg={},Bg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg,t=arguments[1];switch(t.type){case Ia.d:var r=t.payload,n=r.key,a=r.id,s=r.file,i=e[n],c=i&&i.file===s?Object.assign({},i.metadata):{};return Object.assign({},e,S()({},n,{key:n,id:a,file:s,metadata:c,url:void 0,status:Fg.a.PENDING}));case Ia.h:var o=t.payload.key,u=e[o];return Object.assign({},e,S()({},o,Object.assign({},u,{status:Fg.a.UPLOADING})));case Ia.c:var d=t.payload,l=d.key,p=d.metadata,b=e[l];return Object.assign({},e,S()({},l,Object.assign({},b,{metadata:p})));case Ia.e:var f=t.payload,O=f.key,m=f.progress,v=e[O];return Object.assign({},e,S()({},O,Object.assign({},v,{progress:m})));case Ia.g:var g=t.payload,j=g.key,h=g.url,y=e[j];return Object.assign({},e,S()({},j,Object.assign({},y,{status:Fg.a.SUCCESS,url:h})));case Ia.b:var _=t.payload,E=_.key,x=_.error,T=e[E];return Object.assign({},e,S()({},E,Object.assign({},T,{status:Fg.a.FAILED,error:x})));case Ia.a:var I=t.payload.key,k=e[I];return Object.assign({},e,S()({},I,Object.assign({},k,{status:Fg.a.CANCELED})));case Ia.f:var w=t.payload.key,C=e[w];return C.metadata.localUrl&&window.URL.revokeObjectURL(C.metadata.localUrl),Cr()(e,w);default:return e}},Vg={},Hg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vg,t=arguments[1];switch(t.type){case l.a:var r=t.payload,n=r.subredditId,a=r.wallet;if(!a)return e;var s=e[n]||{};return Object.assign({},e,S()({},n,Object.assign({},s,{latest:a,byDate:Object.assign({},s.byDate||{},S()({},a.at,a))})));case l.m:var i=t.payload,c=Object.assign({},e);return Object.keys(i).forEach(function(t){var r=i[t],n=e[t],a={latest:n?n.latest.at<=r.at?r:n.latest:r,byDate:Object.assign({},n?n.byDate:{},S()({},r.at,r))};c[t]=a}),c;case f.d:var o,u=t.payload,d=u.product,p=u.wallet,b=e[d.subredditId]||{};return Object.assign({},e,S()({},d.subredditId,Object.assign({},b,(o={},S()(o,p.at,p),S()(o,"latest",p),o))));case l.l:var O,m=t.payload,v=m.subredditId,g=m.wallet,j=e[v]||{};return Object.assign({},e,S()({},v,Object.assign({},j,(O={},S()(O,g.at,g),S()(O,"latest",g),O))));default:return e}},qg=r("./src/reddit/actions/adblockUpsell.ts"),Kg=r("./src/reddit/actions/users.ts"),Wg=function(e,t){return!t||Ir()(e,t)?e:t},Qg=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case A.c:case A.d:case vn.a:case vn.b:case vn.c:case vn.e:case vn.f:case Fc.a:case Fc.b:case Bc.b:case Gc.d:case Gc.e:case Vc.a:case Vc.b:case lr.a:case de.a:case lr.b:case de.b:case de.f:case de.g:case de.k:case de.l:case de.r:case Ll.b:case le.b:case le.a:case le.e:case le.d:case Rr.e:case Rr.d:case Rr.b:case Rr.a:case pe.e:case pe.d:case de.s:case de.o:case de.q:case zn.b:case va.a:case yc.a:case yc.c:case jg.a:case jg.b:case _f.g:case Kg.e:return Wg(e,t.payload.account);case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:case ue.i:case ue.f:case ue.m:case ue.p:case ue.t:var r=t.payload.response;return r?Wg(e,r.account):e;case Kg.c:return e?Object.assign({},e,{seenLayoutSwitch:!0}):e;case i.c:return e?Object.assign({},e,{seenRedesignModal:!0}):e;case _f.j:var n=t.payload;return e&&"profileIcon"===n.key?Object.assign({},e,{accountIcon:n.imageUrl}):e;case _f.i:var a=t.payload;return e&&"profileIcon"===a.key?Object.assign({},e,{accountIcon:a.imageUrl}):e;case Ar.d:var s=t.payload.coins;return e?Object.assign({},e,{coins:s}):e;case Pi.c:var c=t.payload.coins;return c&&e?Object.assign({},e,{coins:c}):e;case qg.a:return e?Object.assign({},e,{seenPremiumAdblockModal:!0}):e;default:return e}},null),Yg=r("./src/reddit/models/WhitelistAndBlocked.ts"),Jg={},zg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jg,t=arguments[1];switch(t.type){case et.f:return Object.assign({},e,{new:Yg.a.pending});case et.d:return Object.assign({},e,{new:Yg.a.error});case et.e:return Object.assign({},e,{new:Yg.a.waitingForRequest});case et.b:var r=t.payload.name;return Object.assign({},e,S()({},r,Yg.a.pending));case et.a:var n=t.payload.name;return Object.assign({},e,S()({},n,Yg.a.error));case et.c:var a=t.payload.name;return Object.assign({},e,S()({},a,Yg.a.waitingForRequest));default:return e}},Xg=[],Zg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xg,t=arguments[1];switch(t.type){case et.e:return[t.payload].concat(ne()(e));case et.c:var r=t.payload.name;return e.filter(function(e){return e.name!==r});case _f.g:return t.payload.blockedUsers;default:return e}},$g=Object(n.c)({api:zg,data:Zg}),ej=function(e,t){return void 0===t||e&&t===e.count?e:Object.assign({},e,{count:t})},tj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case zn.b:var r=t.payload.drafts;return e&&Ir()(e,r)?e:Object.assign({},e,r);case b.I:var n=t.payload.response.draftsCount;return ej(e,n);case kn.e:var a=t.payload.postDraftIds;return ej(e,a.length);case kn.c:case kn.l:var s=t.payload.draftsCount;return ej(e,s);default:return e}},rj=r("./src/reddit/actions/experiments.ts"),nj=[],aj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nj,t=arguments[1];switch(t.type){case rj.a:return t.payload.experimentVariants.map(function(e){var t=e.id,r=e.experimentName,n=e.name,a=e.version;return{id:parseInt(t),name:r,variant:n||void 0,version:a}});default:return e}},sj=/^experiment_(.*)$/i,ij=function(e){var t=e.match(sj);if(null!==t)return t[1]},cj={},oj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cj,t=arguments[1];switch(t.type){case p.a:var r=_a(t);if(!r)return e;var n={};for(var a in r){var s=ij(a);s&&(n[s.toLowerCase()]=r[a]||"")}return xt()(n)?e:Object.assign({},e,n);case rj.b:var i=t.payload,c=i.experimentName,o=i.override;return c?Object.assign({},e,S()({},c,o||"")):e;default:return e}},uj=Object(n.c)({models:aj,overrides:oj});function dj(e,t){return t?e&&Ir()(e,t)?e:t:e}var lj,pj={},bj=Object($p.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pj,t=arguments[1];switch(t.type){case vn.a:case vn.b:case vn.c:case vn.e:case vn.f:case Bc.b:case Vc.a:case Vc.b:case lr.a:case de.a:case lr.b:case de.b:case de.f:case de.g:case de.k:case de.l:case de.r:case Ll.b:case le.e:case le.d:case Rr.e:case Rr.d:case Rr.b:case Rr.a:case pe.e:case pe.d:case de.s:case de.o:case de.q:case zn.b:case jg.a:case jg.b:case _f.g:case Kg.e:var r=t.payload.features;return r?dj(e,r):e;case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:case ue.i:case ue.f:case ue.m:case ue.p:case ue.t:var n=t.payload.response;return n&&n.features?dj(e,n.features):e;default:return e}},pj),fj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return arguments[1].type,e},Oj=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case Np.i:return t.payload.accountCompleteness.closed;case Np.d:return!0;default:return e}},mj=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case Np.i:return t.payload.accountCompleteness.collapsed;case Np.g:return!1;case Np.f:return!0;default:return e}},vj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Np.b:return t.payload;case Np.f:case xf.e:case Pr.a:return null;default:return e}},gj=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case Np.i:return t.payload.accountCompleteness.sleeping;case Np.a:return!1;default:return e}},jj=Object(n.c)({closed:Oj,collapsed:mj,sleeping:gj,selectedTab:vj}),hj=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Np.i:case Np.j:return!0;default:return e}},yj=[],_j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yj,t=arguments[1];switch(t.type){case Np.l:var r=t.payload;return r.length?r:e;case xf.e:var n=t.payload,a=n.nameIdentifier;return n.userIsSubscriber?[].concat(ne()(e),[a.name]):[].concat(ne()(e.filter(function(e){return a.name!==e})));default:return e}},Ej=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case Np.l:return t.payload.length>=3||e;case de.i:return!0;case xf.e:var r=t.payload,n=r.subscriptionsCount,a=r.userIsSubscriber;return!(1===n&&!a)&&e;default:return e}},xj=r("./src/reddit/models/MonthsToMinutes/index.ts"),Tj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case Pr.a:return xj.e.Vote;case xf.e:return xj.e.Subscribe;default:return e}},Ij=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Np.k:return!1;case Pr.a:case xf.e:return!0;default:return e}},Sj=(lj={},S()(lj,xj.h.Home,{}),S()(lj,xj.h.SubscribeFeed,{}),S()(lj,xj.h.SubscribeIdCard,{}),S()(lj,xj.h.SubscribeReminder,{}),S()(lj,xj.h.Vote,{}),S()(lj,xj.h.VoteReminder,{}),S()(lj,xj.h.VoteSuccess,{}),lj),kj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sj,t=arguments[1];switch(t.type){case Np.i:var r=t.payload.tooltip,n=r.homeTooltipTime,a=r.subscribeTooltipTime,s=r.subscribeIdCardTooltipTime,i=r.voteTooltipTime;return e[xj.h.Home].time=n,e[xj.h.SubscribeFeed].time=a,e[xj.h.Vote].time=i,e[xj.h.SubscribeIdCard]={isDismissed:!0,time:s},Object.assign({},e);case Np.m:var c=t.payload,o=c.postId,u=c.time,d=c.tooltipType,l={isDismissed:!1,postId:o,time:u};return Object.assign({},e,S()({},d,l));case Np.n:var b=t.payload,f=Object.assign({},e[b]);return f.isDismissed=!0,Object.assign({},e,S()({},b,f));case Pr.a:var O=t.payload.id,m=Object.assign({},e[xj.h.VoteSuccess]);return m.isDismissed||m.postId||(m={isDismissed:!1,postId:O}),Object.assign({},e,S()({},xj.h.VoteSuccess,m));case de.i:var v=Object.assign({},e[xj.h.Home]);return v.isDismissed=!0,Object.assign({},e,S()({},xj.h.Home,v));case p.a:case _f.d:var g=Object.assign({},e);return Object.keys(e).map(function(t){var r=Object.assign({},e[t]);(r.postId||r.time)&&(r.isDismissed=!0),g[t]=r}),g;case oc.e:return Object.assign({},e,S()({},xj.h.Home,Object.assign({},e[xj.h.Home],{isDismissed:!0})));default:return e}},wj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Cj={},Aj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cj,t=arguments[1];switch(t.type){case Pr.a:var r=t.payload,n=r.id,a=r.vote;if(!Object(Nr.a)(n))return e;if(e[n]===a){var s=n;return e[s],wj(e,["symbol"===(void 0===s?"undefined":os()(s))?s:s+""])}return Object.assign({},e,S()({},n,a));case Np.i:return t.payload.votes.comments;default:return e}},Rj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},Dj={},Pj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dj,t=arguments[1];switch(t.type){case Pr.a:var r=t.payload,n=r.id,a=r.isInstance,s=r.vote;if(!Object(Lp.a)(n)||a)return e;if(e[n]===s){var i=n;return e[i],Rj(e,["symbol"===(void 0===i?"undefined":os()(i))?i:i+""])}return Object.assign({},e,S()({},n,s));case Np.i:return t.payload.votes.posts;default:return e}},Nj=Object(n.c)({comments:Aj,posts:Pj}),Lj=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case Np.i:return t.payload.welcomeModalSeen;case Np.h:return!1;case Np.e:return!0;default:return e}},Uj=Object(n.c)({accountCompleteness:jj,dataLoaded:hj,feedMultiName:_j,isFrontpageHome:Ej,lastMilestoneAction:Tj,milestoneActionFresh:Ij,tooltips:kj,votes:Nj,welcomeModalSeen:Lj}),Mj={blob:"",loid:"",loidCreated:"",version:-1},Fj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mj,t=arguments[1];switch(t.type){case Kg.d:return t.payload;default:return e}},Gj={},Bj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gj,t=arguments[1];switch(t.type){case d.i:var r=t.payload,n=r.subredditId,a=r.userOwnedBadges.reduce(function(e,t){return e[t]=!0,e},{});return Object.assign({},e,S()({},n,Object.assign({},e[n]||{},a)));case f.d:var s=t.payload,i=s.userOwnedBadges,c=s.product,o=i.reduce(function(e,t){return e[t]=!0,e},{});return Object.assign({},e,S()({},c.subredditId,Object.assign({},e[c.subredditId]||{},o)));default:return e}},Vj=r("./src/reddit/reducers/user/prefs/index.ts"),Hj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Kg.f:return t.payload;default:return e}},qj=r("./src/reddit/actions/session.ts"),Kj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case qj.a:case qj.b:case qj.c:case qj.e:return t.payload;case qj.d:return null;default:return e}},Wj=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case qj.f:return!0;default:return e}},Qj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case Kg.j:return t.payload;default:return e}},Yj=r("./node_modules/lodash/shuffle.js"),Jj=r.n(Yj),zj=r("./src/reddit/constants/categories.tsx"),Xj=[],Zj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xj;switch(arguments[1].type){case oc.d:return Jj()(Object.keys(zj.b));default:return e}},$j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case rj.a:return t.payload.isLoggedIn;default:return e}},eh=Object(n.c)({isLoggedIn:$j}),th=r("./src/reddit/actions/userWhitelist.ts"),rh={},nh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rh,t=arguments[1];switch(t.type){case th.e:return Object.assign({},e,{new:Yg.a.pending});case th.d:return Object.assign({},e,{new:Yg.a.error});case th.f:return Object.assign({},e,{new:Yg.a.waitingForRequest});case th.b:var r=t.payload.name;return Object.assign({},e,S()({},r,Yg.a.pending));case th.a:var n=t.payload.name;return Object.assign({},e,S()({},n,Yg.a.error));case th.c:var a=t.payload.name;return Object.assign({},e,S()({},a,Yg.a.waitingForRequest));default:return e}},ah=[],sh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ah,t=arguments[1];switch(t.type){case th.f:return[t.payload].concat(ne()(e));case th.c:var r=t.payload.name;return e.filter(function(e){return e.name!==r});case _f.g:return t.payload.whitelistedUsers;default:return e}},ih=Object(n.c)({api:nh,data:sh}),ch=Object(n.c)({account:Qg,blocked:$g,drafts:tj,experiments:uj,features:bj,language:fj,loggedOutData:Uj,loid:Fj,ownedBadges:Bj,prefs:Vj.b,reddaid:Hj,session:Kj,sessionRefreshFailed:Wj,sessionTracker:Qj,shuffledCategories:Zj,temporaryGQL:eh,wallets:Hg,whitelist:ih}),oh={},uh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oh,t=arguments[1];switch(t.type){case de.s:case zn.b:case va.a:case lr.b:case de.b:case Oe.e:return Object.assign({},e,t.payload.userFlair);case ue.j:case ue.g:case ue.n:case ue.q:case ue.u:var r=t.payload.response.userFlair,n=Object.assign({},e);return Object.keys(r).forEach(function(e){n[e]||(n[e]=r[e])}),n;case Oe.i:var a=t.payload,s=a.subredditId,i=a.applied,c=a.displaySettings;return Object.assign({},e,S()({},s,Object.assign({},e[s],{applied:i,displaySettings:c})));case Oe.d:var o=t.payload,u=o.subredditId,d=o.isEnabled,l=e[u].displaySettings,p=Object.assign({},l,{isEnabled:d});return Object.assign({},e,S()({},u,Object.assign({},e[u],{displaySettings:p})));case Oe.b:var b=t.payload,f=b.subredditId,O=b.canAssignOwn,m=e[f].permissions,v=Object.assign({},m,{canAssignOwn:O});return Object.assign({},e,S()({},f,Object.assign({},e[f],{permissions:v})));case Oe.h:var g=t.payload,j=e[g.subredditId],h=e[g.subredditId].templates,y=e[g.subredditId].templateIds,_=Object.assign({},h,S()({},g.template.id,g.template)),E=[].concat(ne()(y));return E.includes(g.template.id)||E.push(g.template.id),Object.assign({},e,S()({},g.subredditId,Object.assign({},j,{templates:_,templateIds:E})));case Oe.c:var x=t.payload,T=e[x.subredditId],I=e[x.subredditId].templates,k=e[x.subredditId].templateIds,w=Cr()(I,x.templateId),C=k.filter(function(e){return e!==x.templateId});return Object.assign({},e,S()({},x.subredditId,Object.assign({},T,{templates:Object.assign({},w),templateIds:C})));case Oe.g:case Oe.f:var A=t.payload,R=e[A.subredditId];return Object.assign({},e,S()({},A.subredditId,Object.assign({},R,{templateIds:A.templateIds})));default:return e}},dh={},lh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh,t=arguments[1];switch(t.type){case Kg.i:case Kg.h:var r=t.payload.username;return Object.assign({},e,S()({},r.toLowerCase(),null));case Kg.g:var n=t.payload,a=n.username,s=n.error;return Object.assign({},e,S()({},a.toLowerCase(),s));default:return e}},ph=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case Kg.i:return!0;case Kg.h:case Kg.g:return!1;default:return e}},bh=Object(n.c)({error:lh,pending:ph}),fh={},Oh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fh,t=arguments[1];switch(t.type){case d.f:var r=t.payload,n=r.subredditId,a=r.usersAppliedBadges,s=Object.keys(a).reduce(function(t,r){var s=a[r];return t[r]=Object.assign({},e[r]||{},S()({},n,s)),t},{});return Object.assign({},e,s);case d.b:var i=t.payload,c=i.badgeIds,o=i.subredditId,u=i.userId;return Object.assign({},e,S()({},u,Object.assign({},e[u]||{},S()({},o,c))));case d.a:var l=t.payload,p=l.previousBadgeIds,b=l.subredditId,f=l.userId;return Object.assign({},e,S()({},f,Object.assign({},e[f]||{},S()({},b,p))));default:return e}},mh={},vh=function(e,t){var r=Object.keys(t);if(!r.length)return e;var n={};return r.forEach(function(r){var a=e[r],s=t[r];a&&Ir()(a,s)||(n[r.toLowerCase()]=s)}),Object.keys(n).length?Object.assign({},e,n):e},gh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mh,t=arguments[1];switch(t.type){case Gc.n:var r=t.payload.users;return vh(e,r);case Kg.h:var n=t.payload.data;return vh(e,n);case Ef.d:var a=t.payload.user;return vh(e,S()({},a.username,a));default:return e}},jh=r("./src/reddit/actions/usernameAvailable.ts"),hh={},yh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hh,t=arguments[1];switch(t.type){case jh.a:var r=t.payload.username;return Object.assign({},e,S()({},r,jh.b.Available));case jh.c:var n=t.payload.username;return Object.assign({},e,S()({},n,jh.b.Error));case jh.d:var a=t.payload.username;return Object.assign({},e,S()({},a,jh.b.Pending));case jh.e:var s=t.payload.username;return Object.assign({},e,S()({},s,jh.b.Unavailable));default:return e}},_h={},Eh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_h,t=arguments[1];switch(t.type){case Gc.n:var r=t.payload,n=r.category,a=r.users;return Object.assign({},e,S()({},n,Object.keys(a)));default:return e}},xh=Object(n.c)({api:bh,appliedBadges:Oh,models:gh,nameAvailable:yh,topOCCreators:Eh}),Th={},Ih=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Th,t=arguments[1];switch(t.type){case lr.b:case de.b:case de.s:case fe.l:case de.q:case zn.b:case va.a:var r=t.payload.structuredStyles;if(!r||!r.data)return e;var n=r.data.content.widgets.layout.idCardWidget,a=Object.keys(t.payload.subredditAboutInfo||{});if(1!==a.length)return e;var s=a[0];return Object.assign({},e,S()({},s,n));default:return e}},Sh=r("./src/reddit/actions/widgets.ts"),kh={},wh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kh,t=arguments[1];switch(t.type){case lr.b:case de.b:case de.s:case fe.l:case zn.b:var r=t.payload.structuredStyles;if(!r||!r.data)return e;var n=r.data.content.widgets.items,a=r.data.content.widgets.layout.topbar.order.filter(function(e){return n[e]&&"menu"===n[e].kind});if(!a.length)return e;var s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;var i=s[0];return Object.assign({},e,S()({},i,a[0]));case Sh.c:var c=t.payload;return"menu"!==c.widget.kind?e:Object.assign({},e,S()({},c.subredditId,c.widgetId));case Sh.d:var o=t.payload;return e[o.subredditId]===o.widgetId?Object.assign({},e,S()({},o.subredditId,null)):e;default:return e}},Ch={},Ah=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ch,t=arguments[1];switch(t.type){case de.s:var r=t.payload,n=r.structuredStyles&&r.structuredStyles.data&&r.structuredStyles.data.content;if(!n)return e;var a=n.widgets;return Object.assign({},e,a.items);case m.h:var s=t.payload;return Object.assign({},e,s.widgets);case Sh.a:var i=t.payload;return Object.assign({},e,i.widgets.items);case Sh.e:case Sh.c:var c=t.payload;return Object.assign({},e,S()({},c.widget.id,c.widget));case Sh.d:var o=t.payload,u=Object.assign({},e);return delete u[o.widgetId],u;case lr.b:case de.b:case de.s:case fe.l:case de.q:case zn.b:case va.a:var d=t.payload.structuredStyles;if(!d||!d.data)return e;var l=d.data.content.widgets;return Object.assign({},e,l.items);case xf.e:var p=t.payload,b=p.userIsSubscriber,f=p.nameIdentifier,O=p.widgetId;if(!e[O]||"community-list"!==e[O].kind)return Object.assign({},e);var v=b,g=e[O],j=g.data.map(function(e){var t=Object.assign({},e);return f.name===t.name&&(t.isSubscribed=v),t});return Object.assign({},e,S()({},O,Object.assign({},g,{data:j})));default:return e}},Rh={},Dh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh,t=arguments[1];switch(t.type){case de.s:case fe.l:case zn.b:var r=t.payload.structuredStyles;if(!r||!r.data)return e;var n=r.data.content.widgets.layout.moderatorWidget,a=Object.keys(t.payload.subredditAboutInfo||{});if(1!==a.length)return e;var s=a[0];return Object.assign({},e,S()({},s,n));default:return e}},Ph={},Nh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph,t=arguments[1];switch(t.type){case de.s:case zn.b:case va.a:var r=t.payload,n=r.structuredStyles&&r.structuredStyles.data&&r.structuredStyles.data.content;if(!n)return e;var a=Object.keys(r.subredditAboutInfo||{});if(1!==a.length)return e;var s=a[0],i=n.widgets.layout.sidebar.order;return Object.assign({},e,S()({},s,i));case m.h:var c=t.payload;return Object.assign({},e,S()({},c.subredditId,c.sidebar));case Sh.a:var o=t.payload;return Object.assign({},e,S()({},o.subredditId,o.widgets.layout.sidebar.order));case Sh.b:var u=t.payload;return Object.assign({},e,S()({},u.subredditId,u.widgetIds));case Sh.c:var d=t.payload;if("menu"===d.widget.kind)return e;if(!e[d.subredditId])return Object.assign({},e,S()({},d.subredditId,[d.widgetId]));var l=e[d.subredditId].concat(d.widgetId);return Object.assign({},e,S()({},d.subredditId,l));case Sh.d:var p=t.payload;if(!e[p.subredditId])return e;var b=e[p.subredditId].filter(function(e){return e!==p.widgetId});return Object.assign({},e,S()({},p.subredditId,b));case lr.b:case de.b:case de.s:case de.q:case fe.l:case zn.b:case va.a:var f=t.payload.structuredStyles;if(!(f&&f.data&&f.data.content.widgets))return e;var O=f.data.content.widgets.layout.sidebar.order,v=Object.keys(t.payload.subredditAboutInfo||{});if(1!==v.length)return e;var g=v[0];return Object.assign({},e,S()({},g,O));default:return e}},Lh=Object(n.c)({idCardIds:Ih,menuIds:wh,models:Ah,moderatorIds:Dh,sidebar:Nh});t.a=Object(n.c)({accountManagerModalData:o,activeModalId:g,ads:_,alpha:T,apiRequestState:C,appeal:L,approvedSubmitters:ie,authorFlair:je,badges:De,banned:$e,blockUser:it,brandSafety:ut,categories:Pt,chat:er,claimGold:or,comments:zr,commentsPage:mn,contentGate:jn,continueThreads:_n,creations:ms,dashboard:js,discoveryUnits:Cs,emojis:Ps,externalAccount:ci,featureFlags:bi,gild:Ti,goldClickTest:Ri,goldPurchase:ic,header:dc,imageUploads:bc,isModeratorWithPostPerms:Oc,jsApi:gc,listings:so,live:co,mediaPlayback:oo.a,meta:a.a,moderatingSubreddits:lo,moderators:ru,modModeEnabled:au,modQueue:td,moreComments:dd,multireddits:hd,muted:Fd,news:cl,nps:dl,originalContent:Nl,partnerSubredditConnection:Kl,platform:Jl,postCollection:mp,polls:lp,postFlair:yp,posts:Zp,postStickiedComments:rb,products:vb,profileCommentsPage:Rb,profileModSettingsPage:Lb,profileOverviewPage:jf,profilePostsPage:yf,profiles:Qf,providerFlair:$f,promos:zf,recommendations:tO,removalReasons:pO,reportFlow:EO,requestHost:TO,runTimeEnvVars:SO,shortcuts:UO,sidebarPromotedPosts:GO,sitewideRules:HO,structuredStyles:um,stylesheets:dm,subredditAutocomplete:jm,subredditChannels:Am,subreddits:Gv,subredditSettings:Zv,subredditStickyPosts:tg,subscriptions:gg,themes:_g,toaster:Tg,tooltipId:s.a,tracking:wg,transfers:Lg,trophies:Mg,uploads:Bg,user:ch,userFlair:uh,users:xh,widgets:Lh})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n,a=r("./src/reddit/actions/ad.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(n||(n={}));var s={};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.d:case a.b:var r=t.payload;return Object.assign({},e,r);case a.c:case a.d:return e;case a.e:return s;default:return e}}},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n,a=r("./node_modules/lodash/isEqual.js"),s=r.n(a),i=r("./node_modules/lodash/merge.js"),c=r.n(i),o=r("./node_modules/lodash/pick.js"),u=r.n(o),d=r("./src/lib/constants/index.ts"),l=r("./src/reddit/actions/comment.ts"),p=r("./src/reddit/actions/contentGate.ts"),b=r("./src/reddit/actions/frontpage.ts"),f=r("./src/reddit/actions/header.ts"),O=r("./src/reddit/actions/modQueue.ts"),m=r("./src/reddit/actions/originalContent.ts"),v=r("./src/reddit/actions/page.ts"),g=r("./src/reddit/actions/pages/collectionCommentsPage.ts"),j=r("./src/reddit/actions/pages/news/index.ts"),h=r("./src/reddit/actions/pages/originalContent.ts"),y=r("./src/reddit/actions/pages/partnerSubredditConnection.ts"),_=r("./src/reddit/actions/pages/postCreation.ts"),E=r("./src/reddit/actions/pages/postDraft.ts"),x=r("./src/reddit/actions/pages/profileComments.ts"),T=r("./src/reddit/actions/pages/profileOverview.ts"),I=r("./src/reddit/actions/pages/profilePosts.ts"),S=r("./src/reddit/actions/postCreation/index.ts"),k=r("./src/reddit/actions/postDraft.ts"),w=r("./src/reddit/actions/preferences.ts"),C=r("./src/reddit/actions/redditEmbed.ts"),A=r("./src/reddit/actions/search.ts"),R=r("./src/reddit/actions/subreddit.ts"),D=r("./src/reddit/actions/users.ts"),P=r("./src/reddit/constants/theme.ts"),N=r("./src/reddit/models/PostCreationForm/index.ts"),L=r("./src/reddit/models/PostDraft/index.ts"),U=r("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(n||(n={}));var M=["allowClickTracking","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","inBeta","labelNSFW","markMessagesRead","nightmode","over18","profileOptOut","showMessagesInInbox","showUsernameMentionNotifications","showNotifications","autoplayVideo","showTwitter"],F={allowClickTracking:!1,collapsedTraySections:U.a,commentMode:N.h.RICH_TEXT,defaultCommentSort:d.t.CONFIDENCE,editorMode:N.h.RICH_TEXT,featuresViewedHistory:U.b,geopopular:void 0,globalTheme:P.a,hamburgerTray:void 0,hideNSFW:!0,labelNSFW:!0,layout:void 0,markMessagesRead:!0,nightmode:!1,over18:!1,profileLayout:void 0,profileOptOut:!1,subscriptionsPinned:void 0,autoplayVideo:!0,showActiveCommunities:!0,showTwitter:!1};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments[1];switch(t.type){case l.l:case l.r:var r=t.payload.editorMode;return Object.assign({},e,{commentMode:r});case S.q:case S.J:var n=t.payload.editorMode;return Object.assign({},e,{editorMode:n});case f.e:return Object.assign({},e,{subscriptionsPinned:!0});case f.f:return Object.assign({},e,{subscriptionsPinned:!1});case k.g:var a=t.payload.kind;return Object.assign({},e,{editorMode:a===L.b.Markdown?N.h.MARKDOWN:N.h.RICH_TEXT});case w.d:return e.layout===t.payload.layout?e:Object.assign({},e,{layout:t.payload.layout});case w.k:return e.profileLayout===t.payload.profileLayout?e:Object.assign({},e,{profileLayout:t.payload.profileLayout});case p.d:return Object.assign({},e,{over18:!0});case w.a:return void 0!==t.payload?Object.assign({},e,{autoplayVideo:t.payload.autoplayVideo}):e;case w.f:return void 0!==t.payload?Object.assign({},e,{nightmode:t.payload.nightmode}):e;case w.e:return void 0!==t.payload?Object.assign({},e,{nightmodeTempUpdated:t.payload.nightmode}):e;case w.c:return void 0!==t.payload?Object.assign({},e,{hamburgerTray:t.payload.set}):Object.assign({},e,{hamburgerTray:!e.hamburgerTray});case w.b:return void 0!==t.payload?Object.assign({},e,{collapsedTraySections:c()({},e.collapsedTraySections,t.payload)}):e;case D.a:case D.b:return Object.assign({},e,{featuresViewedHistory:c()({},e.featuresViewedHistory,t.payload)});case p.a:case p.b:case p.e:case p.c:case p.f:case j.b:case h.b:case g.a:case v.a:case g.b:case v.b:case g.d:case v.d:case v.g:case v.s:case v.l:case y.b:case x.e:case T.e:case T.b:case I.e:case b.b:case m.e:case R.l:case A.c:case C.b:case _.b:case E.a:case w.g:case v.q:case w.h:if(t.payload&&t.payload.preferences){var i=t.payload.preferences,o=u()(e,M);if(!s()(i,o))return Object.assign({},e,i)}return e;case x.d:case T.d:case T.a:case I.d:if(t.payload&&t.payload.account){var d=t.payload.account.nightmode;if(e.nightmode!==d)return Object.assign({},e,{nightmode:d})}return e;case O.i:case O.k:case O.j:case O.h:case O.g:case O.o:case O.n:case O.q:case O.r:case O.v:case O.u:if(t.payload&&t.payload.response&&t.payload.response.preferences){var P=t.payload.response.preferences,U=u()(e,M);if(!s()(P,U))return Object.assign({},e,P)}return e;case w.l:var G=t.payload.additional.showActiveCommunities;return e.showActiveCommunities!==G?Object.assign({},e,{showActiveCommunities:G}):e;default:return e}}},"./src/reddit/routes/partnerSubredditConnection/constants.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="/subreddits/connect"},"./src/reddit/routes/postCreation/index.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return o});var n=r("./src/lib/constants/index.ts"),a=r("./src/reddit/actions/pages/postCreation.ts"),s=r("./src/reddit/routes/postCreation/constants.ts"),i=function(e){return s.d.replace(/:subredditName/,e)},c=function(e){return s.b.replace(/:profileName/,e)},o=function(e){return e.split("?")[0]===s.a},u=[s.c,s.d,s.b,s.a].map(function(e){return{path:e,action:a.e,chunk:n.r.POST_CREATION,exact:!0,meta:{name:n.lb.POST_CREATION},prefetches:[n.r.COMMENTS_PAGE]}});t.a=u},"./src/reddit/selectors/activeModalId.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n=function(e){return e.activeModalId},a=function(e){return function(t){return t.activeModalId===e}}},"./src/reddit/selectors/claimgold.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n=function(e){return e.claimGold.code},a=function(e){return e.claimGold.showModal}},"./src/reddit/selectors/discoveryUnit.ts":function(e,t,r){"use strict";r.d(t,"e",function(){return b}),r.d(t,"f",function(){return f}),r.d(t,"g",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"d",function(){return g}),r.d(t,"a",function(){return y}),r.d(t,"c",function(){return x});var n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeListingKey/index.ts"),s=r("./src/lib/objectSelector/index.ts"),i=r("./src/reddit/helpers/name/index.ts"),c=r("./src/reddit/models/DiscoveryUnit/index.ts"),o=r("./src/reddit/selectors/category.ts"),u=r("./src/reddit/selectors/experiments.ts"),d=r("./src/reddit/selectors/posts.ts"),l=r("./src/reddit/selectors/subreddit.ts"),p=[],b=function(e){return e.discoveryUnits.api.list.loaded},f=function(e){return e.discoveryUnits.api.list.pending},O=function(e,t){var r=t.unitName,n=e.discoveryUnits.nameToId[Object(i.f)(r)];return e.discoveryUnits.models[n]},m=Object(s.a)(function(e,t){var r=t.listingKey,n=Object(d.C)(e);return Object(d.w)(e,{listingKey:r}).filter(function(e){var t=n[e];return t&&!t.isStickied&&!t.isSponsored})}),v=Object(s.a)(function(e,t){var r=t.categoryName,s=t.unitName,i=Object(o.e)(e,{categoryName:r});if(!i)return p;var c=Object(a.a)(s,n.U.HOT,{category:i.id});return m(e,{listingKey:c})}),g=Object(s.a)(function(e,t){var r=t.unitName,s=t.subredditName;if(!Object(l.s)(e,{subredditName:s}))return p;var i=Object(a.a)(r,n.U.HOT,{subredditName:s});return m(e,{listingKey:i})}),j={unitName:c.b},h={unitName:c.c},y=function(e){var t=Object(u.d)(e)?h:j;return O(e,t)},_={unitName:c.d},E={unitName:c.e},x=function(e){var t=Object(u.d)(e)?E:_;return O(e,t)}},"./src/reddit/selectors/frontpage.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r("./src/lib/constants/index.ts"),a=r("./src/reddit/constants/experiments.ts"),s=r("./src/reddit/helpers/chooseVariant/index.ts"),i=r("./src/reddit/selectors/user.ts"),c=function(e){if(e.user&&e.user.session&&!e.user.session.unsafeLoggedOut)return n.U.BEST;if(Object(i.B)(e)||!Object(i.D)(e))return n.U.HOT;switch(Object(s.a)(e,a.k)){case a.l.Treatment1:return n.U.TOP;default:return n.U.HOT}}},"./src/reddit/selectors/gild.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"i",function(){return s}),r.d(t,"f",function(){return i}),r.d(t,"g",function(){return c}),r.d(t,"h",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"e",function(){return d}),r.d(t,"a",function(){return l});var n=function(e){return e.gild.gildModalThingId},a=function(e,t){return e.gild.gildModalThingId===t},s=function(e){return e.gild.gildType},i=function(e){return e.gild.includeMessage},c=function(e){return e.gild.isAnonymous},o=function(e){return e.gild.isIframed},u=function(e){return e.gild.message},d=function(e){return e.gild.api.pending},l=function(e){return e.gild.api.error}},"./src/reddit/selectors/goldPurchaseModals.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"d",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"p",function(){return c}),r.d(t,"q",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"j",function(){return d}),r.d(t,"h",function(){return l}),r.d(t,"i",function(){return p}),r.d(t,"k",function(){return b}),r.d(t,"m",function(){return f}),r.d(t,"n",function(){return O}),r.d(t,"l",function(){return m}),r.d(t,"o",function(){return v}),r.d(t,"g",function(){return g}),r.d(t,"f",function(){return j});var n=function(e){return e.goldPurchase.coinPurchaseModal.activePage},a=function(e){return e.goldPurchase.coinPurchaseModal.gildThingId||void 0},s=function(e){return e.goldPurchase.coinPurchaseModal.showModal},i=function(e){return e.goldPurchase.coinPurchaseModal.purchasePackage},c=function(e){return e.goldPurchase.premiumPurchaseModal.activePage},o=function(e){return e.goldPurchase.premiumPurchaseModal.showModal},u=function(e){return e.goldPurchase.payment.paymentMethod},d=function(e){return e.goldPurchase.payment.cardName},l=function(e){return e.goldPurchase.payment.cardValidation.cardCvc},p=function(e){return e.goldPurchase.payment.cardValidation.cardExpiry},b=function(e){return e.goldPurchase.payment.cardValidation.cardNumber},f=function(e){return e.goldPurchase.payment.cardValidation.nameOnCard},O=function(e){return e.goldPurchase.payment.cardValidation.postalCode},m=function(e){return e.goldPurchase.payment.stripeToken.errorMessage},v=function(e){return e.goldPurchase.payment.stripeToken.pending},g=function(e){return e.goldPurchase.payment.paypal.passthrough},j=function(e){return e.goldPurchase.payment.paypal.errorMessage}},"./src/reddit/selectors/gov.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return u});var n=r("./src/reddit/contexts/PageLayer/index.tsx"),a=[],s={filled:"img/communityPoints/default_filled.png",grey:"img/communityPoints/default_grey.png"},i=function(e,t){var r=Object(n.n)(e,t);return r&&e.subreddits.gov.releaseNotes[r]||a},c=function(e,t){return t&&t.subredditId&&(e.subreddits.gov.meta[t.subredditId]||{}).name||"Community Points"},o=function(e,t){return t&&t.subredditId&&(e.subreddits.gov.meta[t.subredditId]||{}).images||s},u=function(e,t){return t&&t.subredditId?(e.user.wallets[t.subredditId]||{}).latest:void 0}},"./src/reddit/selectors/imageUploads.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=r("./src/reddit/models/Image/index.tsx"),a=function(e){return e.imageUploads},s=function(e,t){var r=a(e),s=[];for(var i in r){var c=r[i];c.kind===n.b.TempUploaded&&c.context===t&&s.push(c)}return s}},"./src/reddit/selectors/modQueue.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return o});var n=r("./src/reddit/helpers/makeModQueueListingKey/index.ts"),a=r("./src/lib/objectSelector/index.ts"),s=Object(a.a)(function(e,t){var r=t.pageName,a=t.page,s=t.profileName,i=t.subredditName,c=Object(n.a)({profile:s,subreddit:i});if(e.modQueue[r]&&e.modQueue[r].itemOrder[c]&&e.modQueue[r].itemOrder[c][a]){var o=e.modQueue[r].itemOrder[c][a];return o?o.map(function(t){return e.posts.models[t]||e.comments.models[t]}):[]}}),i=function(e,t){var r=t.pageName;return!e.modQueue[r]||!e.modQueue[r].api||e.modQueue[r].api.pending},c=function(e,t){var r=t.pageName,a=t.profileName,s=t.subredditName,i=Object(n.a)({profile:a,subreddit:s});return e.modQueue[r].loadMore[i]},o=function(e){return Object.keys(e.modQueue.selectedItems)}},"./src/reddit/selectors/originalContent.ts":function(e,t,r){"use strict";r.d(t,"d",function(){return m}),r.d(t,"e",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"h",function(){return j}),r.d(t,"g",function(){return y}),r.d(t,"f",function(){return _}),r.d(t,"i",function(){return E}),r.d(t,"k",function(){return x}),r.d(t,"j",function(){return T}),r.d(t,"a",function(){return I}),r.d(t,"b",function(){return S});var n=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=r.n(n),s=r("./node_modules/lodash/values.js"),i=r.n(s),c=r("./node_modules/reselect/lib/index.js"),o=r("./src/app/strings/index.ts"),u=r("./src/lib/objectSelector/index.ts"),d=r("./src/reddit/constants/originalContent.ts"),l=r("./src/reddit/selectors/profile.ts"),p=r("./src/reddit/selectors/user.ts"),b=[],f=Object(o.e)("postCreation.modifiers.originalContentCategories.none"),O=Object(o.e)("postCreation.modifiers.originalContentCategories.best"),m=function(e){return e.originalContent.categories.api.pending},v=function(e){return e.originalContent.categories.models},g=Object(c.createSelector)(v,function(e){return i()(e).sort(function(e,t){return e.name.localeCompare(t.name)})}),j=Object(c.createSelector)(g,function(e){return e.filter(function(e){return e.submittable})}),h=Object(c.createSelector)(g,function(e){return e.filter(function(e){return e.discoverable})}),y=Object(c.createSelector)(h,function(e){return e.reduce(function(e,t){return e[t.name]=t,e},{})}),_=Object(c.createSelector)(p.H,h,function(e,t){return[{discoverable:!0,name:d.b,displayText:O(e),submittable:!1}].concat(a()(t))}),E=Object(c.createSelector)(p.H,j,function(e,t){return[{discoverable:!1,name:d.c,displayText:f(e),submittable:!0}].concat(a()(t))}),x=function(e,t){var r=t.categoryName;return e.users.topOCCreators[r]||b},T=Object(u.a)(function(e,t){return t.userNames.map(function(t){return{user:Object(p.S)(e,{userName:t}),profile:Object(l.g)(e,{profileName:t})}})}),I=function(e,t){var r=t.categoryName;return e.posts.bestOCPosts[r]||b},S=function(e,t){var r=t.categoryName;return e.originalContent.bestPosts.api.pending[r]}},"./src/reddit/selectors/profileOverviewChronoItems.ts":function(e,t,r){"use strict";var n=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=r.n(n),s=r("./src/lib/objectSelector/index.ts"),i=r("./src/reddit/models/Flair/index.ts"),c=r("./src/reddit/models/PostCreationForm/index.ts"),o=(i.e.Text,i.e.Spoiler,i.e.Text,i.e.Spoiler,c.h.RICH_TEXT,i.e.Text,i.e.Spoiler,c.h.RICH_TEXT,i.e.Text,i.e.Spoiler,c.h.RICH_TEXT,r("./src/reddit/helpers/isComment.ts"));r.d(t,"f",function(){return u}),r.d(t,"e",function(){return l}),r.d(t,"h",function(){return b}),r.d(t,"g",function(){return f}),r.d(t,"a",function(){return O}),r.d(t,"b",function(){return m}),r.d(t,"d",function(){return v}),r.d(t,"c",function(){return g});var u=Object(s.a)(function(e,t){var r=t.listingKey,n=e.posts.models;return d(e,{listingKey:r}).filter(function(e){if(Object(o.a)(e))return!0;var t=n[e];return t&&!t.hidden})}),d=Object(s.a)(function(e,t){var r=t.listingKey;var n=e.profileOverviewPage.chrono.ids[r];return n?[].concat(a()(n)):[]}),l=Object(s.a)(function(e,t){var r=t.listingKey;return u(e,{listingKey:r}).reduce(function(t,r){var n=Object(o.a)(r)?e.comments.models[r].postId:r;return t[r]=n,t},{})}),p=(Object(s.a)(function(e,t){var r=t.listingKey,n=e.posts.models;return p(e,{listingKey:r}).filter(function(e){var t=n[e];return t&&!t.hidden})}),Object(s.a)(function(e,t){var r=t.listingKey;return u(e,{listingKey:r}).map(function(t){return Object(o.a)(t)?e.comments.models[t].postId:t})})),b=Object(s.a)(function(e,t){var r=t.listingKey;var n=e.posts.models,a={};return p(e,{listingKey:r}).forEach(function(e){return a[e]=n[e]}),a}),f=Object(s.a)(function(e,t){var r=t.listingKey,n=e.comments.models,a={};return u(e,{listingKey:r}).forEach(function(e){return!!Object(o.a)(e)&&(a[e]=n[e])}),a}),O=function(e,t){var r=t.listingKey;return e.profileOverviewPage.chrono.api.error[r]},m=function(e,t){var r=t.listingKey;return e.profileOverviewPage.chrono.api.pending[r]},v=function(e,t){var r=t.listingKey;return e.profileOverviewPage.chrono.loadMore[r]},g=function(e,t){var r=t.listingKey;return e.profileOverviewPage.chrono.fetchedTokens[r]}},"./src/reddit/selectors/submitValidation.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s});var n=function(e){return e.subredditSettings.postRequirements.formState},a=function(e){return e.subredditSettings.postRequirements.formErrors},s=function(e){return e.creations.formState.fieldValidation}},"./src/reddit/selectors/userFlair.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return i});var n=r("./src/reddit/models/Flair/index.ts"),a=function(e,t){var r=t.subredditId;return e.userFlair[r]},s=function(e,t){var r=t.subredditId;return!e.userFlair[r]||e.userFlair[r].displaySettings.isEnabled},i=function(e,t){var r=t.subredditId;return e.userFlair[r]?e.userFlair[r].displaySettings.position:n.a.Right}}}]);
//# sourceMappingURL=Governance~Reddit.a0fa846899414117ac7f.js.map